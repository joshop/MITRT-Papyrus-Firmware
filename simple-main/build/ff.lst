ARM GAS  /tmp/ccVOuidm.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"ff.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
  18              		.section	.text.ld_word,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.code	16
  22              		.thumb_func
  24              	ld_word:
  25              	.LVL0:
  26              	.LFB493:
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - Generic FAT file system module  R0.12c                             /
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** /
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2017, ChaN, all right reserved.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:Middlewares/Third_Party/FatFs/src/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / that the following condition is met:
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /
  11:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  13:Middlewares/Third_Party/FatFs/src/ff.c **** /
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /----------------------------------------------------------------------------*/
  19:Middlewares/Third_Party/FatFs/src/ff.c **** 
  20:Middlewares/Third_Party/FatFs/src/ff.c **** 
  21:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  22:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  23:Middlewares/Third_Party/FatFs/src/ff.c **** 
  24:Middlewares/Third_Party/FatFs/src/ff.c **** 
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
  26:Middlewares/Third_Party/FatFs/src/ff.c **** 
  27:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
  28:Middlewares/Third_Party/FatFs/src/ff.c **** 
  29:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
  30:Middlewares/Third_Party/FatFs/src/ff.c **** 
  31:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 68300	/* Revision ID */
  32:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
ARM GAS  /tmp/ccVOuidm.s 			page 2


  33:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
  34:Middlewares/Third_Party/FatFs/src/ff.c **** 
  35:Middlewares/Third_Party/FatFs/src/ff.c **** 
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS upper conversion tables */
  37:Middlewares/Third_Party/FatFs/src/ff.c **** 
  38:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
  39:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
  40:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
  41:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
  42:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
  43:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
  44:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
  45:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
  46:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
  47:Middlewares/Third_Party/FatFs/src/ff.c **** 
  48:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
  49:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  50:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  51:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  52:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  53:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
  54:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  55:Middlewares/Third_Party/FatFs/src/ff.c **** 
  56:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
  57:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  58:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  59:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
  60:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
  61:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
  62:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
  63:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
  64:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
  65:Middlewares/Third_Party/FatFs/src/ff.c **** 
  66:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
  67:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  68:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  69:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  70:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  71:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
  72:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  73:Middlewares/Third_Party/FatFs/src/ff.c **** 
  74:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. */
  75:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  76:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
  77:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  78:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  79:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  80:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  81:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  82:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  83:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  84:Middlewares/Third_Party/FatFs/src/ff.c **** 
  85:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic */
  86:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  87:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  88:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  89:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
ARM GAS  /tmp/ccVOuidm.s 			page 3


  90:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  91:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  92:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  93:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  94:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  95:Middlewares/Third_Party/FatFs/src/ff.c **** 
  96:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek */
  97:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  98:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  99:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 100:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 101:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 102:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 103:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 104:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 105:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 106:Middlewares/Third_Party/FatFs/src/ff.c **** 
 107:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 771	/* KBL */
 108:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 109:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 110:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 111:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 112:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 113:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 114:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 115:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 116:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 118:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic */
 119:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 120:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F, \
 121:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 122:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 123:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 124:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 126:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 127:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Latin 1 */
 130:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 131:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41, \
 132:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 134:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 136:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 137:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
 138:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 */
 141:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F, \
 143:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 144:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
 145:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
 146:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
ARM GAS  /tmp/ccVOuidm.s 			page 4


 147:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 148:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 149:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 150:Middlewares/Third_Party/FatFs/src/ff.c **** 
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic */
 152:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F, \
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 156:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 157:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 158:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 159:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 160:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 161:Middlewares/Third_Party/FatFs/src/ff.c **** 
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish */
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F, \
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 167:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 168:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 169:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 170:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 171:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 172:Middlewares/Third_Party/FatFs/src/ff.c **** 
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 860	/* Portuguese */
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F, \
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 178:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 179:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 180:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 181:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 182:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 183:Middlewares/Third_Party/FatFs/src/ff.c **** 
 184:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 861	/* Icelandic */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 186:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F, \
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 188:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 189:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 193:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 198:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 199:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 200:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 201:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 202:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 203:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
ARM GAS  /tmp/ccVOuidm.s 			page 5


 204:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 205:Middlewares/Third_Party/FatFs/src/ff.c **** 
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 863	/* Canadian-French */
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F, \
 209:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 210:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 211:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 213:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 214:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 215:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 216:Middlewares/Third_Party/FatFs/src/ff.c **** 
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 864	/* Arabic */
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 220:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 221:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 223:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 224:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 225:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 226:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 227:Middlewares/Third_Party/FatFs/src/ff.c **** 
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 865	/* Nordic */
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 230:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 231:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 232:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 233:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 238:Middlewares/Third_Party/FatFs/src/ff.c **** 
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian */
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 241:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 245:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 246:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 247:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 
 250:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 869	/* Greek 2 */
 251:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 253:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 254:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
 259:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
 260:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 6


 261:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 262:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 263:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot enable LFN without valid code page.
 264:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 265:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 266:Middlewares/Third_Party/FatFs/src/ff.c **** 
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 270:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 276:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 
 278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S != 0	/* Code page is DBCS */
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 283:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 284:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 
 286:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 290:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 
 292:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** 
 297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 300:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file attribute bits for internal use */
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #define	AM_VOL		0x08	/* Volume label */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits */
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 
 306:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file access control and file status flags for internal use */
 307:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
 310:Middlewares/Third_Party/FatFs/src/ff.c **** 
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 
 312:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags in fn[] */
 313:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
 314:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
ARM GAS  /tmp/ccVOuidm.s 			page 7


 318:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 319:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 320:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
 321:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NONAME	0x80	/* Not followed */
 322:Middlewares/Third_Party/FatFs/src/ff.c **** 
 323:Middlewares/Third_Party/FatFs/src/ff.c **** 
 324:Middlewares/Third_Party/FatFs/src/ff.c **** /* Limits and boundaries */
 325:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
 326:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
 327:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but correct for real DOS/Windo
 328:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but correct for real DOS/Wind
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
 331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 
 333:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
 334:Middlewares/Third_Party/FatFs/src/ff.c **** / because the C structure is not binary compatible between different platforms */
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
 339:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
 340:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 341:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 342:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT12/16 [entry] (WORD) */
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 346:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size for int13h [sector] (WORD) */
 347:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 348:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 349:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres			37		/* Error flag (BYTE) */
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 353:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 354:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 355:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type string (8-byte) */
 356:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 360:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 361:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer32			42		/* FAT32: File system version (WORD) */
 362:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 363:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 367:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 368:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 369:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 370:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* FAT32: File system type string (8-byte) */
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** 
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
 374:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
ARM GAS  /tmp/ccVOuidm.s 			page 8


 375:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 376:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 377:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVerEx			104		/* exFAT: File system version (WORD) */
 383:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (BYTE) */
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ActFatEx		107		/* exFAT: Active FAT flags (BYTE) */
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
 386:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 388:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 389:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 390:Middlewares/Third_Party/FatFs/src/ff.c **** #define	BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 392:Middlewares/Third_Party/FatFs/src/ff.c **** 
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11-byte) */
 394:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (BYTE) */
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (BYTE) */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (DWORD) */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_ModTime			22		/* Modified time (DWORD) */
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 402:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (DWORD) */
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN: Entry type (BYTE) */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 408:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 413:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 416:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 417:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_GenFlags		33		/* exFAT: General secondary flags (WORD) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 426:Middlewares/Third_Party/FatFs/src/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 427:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** 
 430:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZDIRE				32		/* Size of a directory entry */
 431:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
ARM GAS  /tmp/ccVOuidm.s 			page 9


 432:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 433:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 434:Middlewares/Third_Party/FatFs/src/ff.c **** 
 435:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** 
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** 
 453:Middlewares/Third_Party/FatFs/src/ff.c **** 
 454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Post process after fatal error on file operation */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 456:Middlewares/Third_Party/FatFs/src/ff.c **** 
 457:Middlewares/Third_Party/FatFs/src/ff.c **** 
 458:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 469:Middlewares/Third_Party/FatFs/src/ff.c **** 
 470:Middlewares/Third_Party/FatFs/src/ff.c **** 
 471:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of volume - partition conversion */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
 473:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition index */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is bound to the same physical drive number */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) 0			/* Find first valid partition or in SFD */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 479:Middlewares/Third_Party/FatFs/src/ff.c **** 
 480:Middlewares/Third_Party/FatFs/src/ff.c **** 
 481:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
ARM GAS  /tmp/ccVOuidm.s 			page 10


 489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 490:Middlewares/Third_Party/FatFs/src/ff.c **** 
 491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 492:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 495:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 496:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 497:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 498:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 499:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 500:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 501:Middlewares/Third_Party/FatFs/src/ff.c **** 
 502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock controls */
 504:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 505:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 506:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 508:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 509:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 510:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 513:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 514:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 515:Middlewares/Third_Party/FatFs/src/ff.c **** 
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** 
 518:Middlewares/Third_Party/FatFs/src/ff.c **** 
 519:Middlewares/Third_Party/FatFs/src/ff.c **** 
 520:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 521:Middlewares/Third_Party/FatFs/src/ff.c **** 
 522:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Work Area
 523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 524:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 526:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 527:Middlewares/Third_Party/FatFs/src/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 528:Middlewares/Third_Party/FatFs/src/ff.c **** /  not compliance with C standard. */
 529:Middlewares/Third_Party/FatFs/src/ff.c **** 
 530:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 10
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 533:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 534:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
 537:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 541:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 543:Middlewares/Third_Party/FatFs/src/ff.c **** 
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0		/* Non-LFN configuration */
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
ARM GAS  /tmp/ccVOuidm.s 			page 11


 546:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 548:Middlewares/Third_Party/FatFs/src/ff.c **** 
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #else					/* LFN configuration */
 550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 551:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN value
 552:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 553:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1		/* LFN enabled with static working buffer */
 556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 557:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE	DirBuf[MAXDIRB(_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 559:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];	/* LFN enabled with static working buffer */
 560:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 561:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 562:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1]; BYTE dbuf[MAXDIRB(_MAX_LFN)];
 567:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 569:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1];
 571:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 572:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 574:Middlewares/Third_Party/FatFs/src/ff.c **** 
 575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 577:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 578:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2 + MAXDIRB(_MAX_LFN)); if (!lfn) LEAVE_FF
 579:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 580:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 581:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 582:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH_C
 583:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 
 586:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 587:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 
 589:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* else _USE_LFN == 0 */
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 592:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 593:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for SBCS extended characters */
 594:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 595:Middlewares/Third_Party/FatFs/src/ff.c **** 
 596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 597:Middlewares/Third_Party/FatFs/src/ff.c **** 
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 
 601:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 602:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 12


 603:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 604:Middlewares/Third_Party/FatFs/src/ff.c **** 
 605:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 606:Middlewares/Third_Party/FatFs/src/ff.c **** 
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 
 608:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 609:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
 610:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 612:Middlewares/Third_Party/FatFs/src/ff.c **** static
 613:Middlewares/Third_Party/FatFs/src/ff.c **** WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 614:Middlewares/Third_Party/FatFs/src/ff.c **** {
  27              		.loc 1 614 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
 615:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD rv;
  32              		.loc 1 615 2 view .LVU1
 616:Middlewares/Third_Party/FatFs/src/ff.c **** 
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[1];
  33              		.loc 1 617 2 view .LVU2
  34              		.loc 1 617 10 is_stmt 0 view .LVU3
  35 0000 4378     		ldrb	r3, [r0, #1]
  36              	.LVL1:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  37              		.loc 1 618 2 is_stmt 1 view .LVU4
  38              		.loc 1 618 20 is_stmt 0 view .LVU5
  39 0002 0078     		ldrb	r0, [r0]
  40              	.LVL2:
  41              		.loc 1 618 15 view .LVU6
  42 0004 1B02     		lsls	r3, r3, #8
  43              	.LVL3:
  44              		.loc 1 618 5 view .LVU7
  45 0006 1843     		orrs	r0, r3
  46              	.LVL4:
 619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  47              		.loc 1 619 2 is_stmt 1 view .LVU8
 620:Middlewares/Third_Party/FatFs/src/ff.c **** }
  48              		.loc 1 620 1 is_stmt 0 view .LVU9
  49              		@ sp needed
  50 0008 7047     		bx	lr
  51              		.cfi_endproc
  52              	.LFE493:
  54              		.section	.text.ld_dword,"ax",%progbits
  55              		.align	1
  56              		.syntax unified
  57              		.code	16
  58              		.thumb_func
  60              	ld_dword:
  61              	.LVL5:
  62              	.LFB494:
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** static
 623:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:Middlewares/Third_Party/FatFs/src/ff.c **** {
  63              		.loc 1 624 1 is_stmt 1 view -0
ARM GAS  /tmp/ccVOuidm.s 			page 13


  64              		.cfi_startproc
  65              		@ args = 0, pretend = 0, frame = 0
  66              		@ frame_needed = 0, uses_anonymous_args = 0
  67              		@ link register save eliminated.
  68              		.loc 1 624 1 is_stmt 0 view .LVU11
  69 0000 0200     		movs	r2, r0
 625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rv;
  70              		.loc 1 625 2 is_stmt 1 view .LVU12
 626:Middlewares/Third_Party/FatFs/src/ff.c **** 
 627:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[3];
  71              		.loc 1 627 2 view .LVU13
  72              		.loc 1 627 10 is_stmt 0 view .LVU14
  73 0002 C378     		ldrb	r3, [r0, #3]
  74              	.LVL6:
 628:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
  75              		.loc 1 628 2 is_stmt 1 view .LVU15
  76              		.loc 1 628 10 is_stmt 0 view .LVU16
  77 0004 1B02     		lsls	r3, r3, #8
  78              	.LVL7:
  79              		.loc 1 628 20 view .LVU17
  80 0006 8178     		ldrb	r1, [r0, #2]
  81              		.loc 1 628 5 view .LVU18
  82 0008 0B43     		orrs	r3, r1
  83              	.LVL8:
 629:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
  84              		.loc 1 629 2 is_stmt 1 view .LVU19
  85              		.loc 1 629 10 is_stmt 0 view .LVU20
  86 000a 1802     		lsls	r0, r3, #8
  87              	.LVL9:
  88              		.loc 1 629 20 view .LVU21
  89 000c 5378     		ldrb	r3, [r2, #1]
  90              	.LVL10:
  91              		.loc 1 629 5 view .LVU22
  92 000e 1843     		orrs	r0, r3
  93              	.LVL11:
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  94              		.loc 1 630 2 is_stmt 1 view .LVU23
  95              		.loc 1 630 10 is_stmt 0 view .LVU24
  96 0010 0002     		lsls	r0, r0, #8
  97              	.LVL12:
  98              		.loc 1 630 20 view .LVU25
  99 0012 1378     		ldrb	r3, [r2]
 100              	.LVL13:
 101              		.loc 1 630 5 view .LVU26
 102 0014 1843     		orrs	r0, r3
 103              	.LVL14:
 631:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 104              		.loc 1 631 2 is_stmt 1 view .LVU27
 632:Middlewares/Third_Party/FatFs/src/ff.c **** }
 105              		.loc 1 632 1 is_stmt 0 view .LVU28
 106              		@ sp needed
 107 0016 7047     		bx	lr
 108              		.cfi_endproc
 109              	.LFE494:
 111              		.section	.text.st_word,"ax",%progbits
 112              		.align	1
 113              		.syntax unified
ARM GAS  /tmp/ccVOuidm.s 			page 14


 114              		.code	16
 115              		.thumb_func
 117              	st_word:
 118              	.LVL15:
 119              	.LFB495:
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 
 634:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 635:Middlewares/Third_Party/FatFs/src/ff.c **** static
 636:Middlewares/Third_Party/FatFs/src/ff.c **** QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 637:Middlewares/Third_Party/FatFs/src/ff.c **** {
 638:Middlewares/Third_Party/FatFs/src/ff.c **** 	QWORD rv;
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[7];
 641:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[6];
 642:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[5];
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[4];
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[3];
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 651:Middlewares/Third_Party/FatFs/src/ff.c **** 
 652:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 653:Middlewares/Third_Party/FatFs/src/ff.c **** static
 654:Middlewares/Third_Party/FatFs/src/ff.c **** void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 120              		.loc 1 655 1 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124              		@ link register save eliminated.
 656:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 125              		.loc 1 656 2 view .LVU30
 126              		.loc 1 656 9 is_stmt 0 view .LVU31
 127 0000 0170     		strb	r1, [r0]
 128              		.loc 1 656 22 is_stmt 1 view .LVU32
 129              	.LVL16:
 657:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 130              		.loc 1 657 2 view .LVU33
 131              		.loc 1 657 11 is_stmt 0 view .LVU34
 132 0002 090A     		lsrs	r1, r1, #8
 133              		.loc 1 657 9 view .LVU35
 134 0004 4170     		strb	r1, [r0, #1]
 658:Middlewares/Third_Party/FatFs/src/ff.c **** }
 135              		.loc 1 658 1 view .LVU36
 136              		@ sp needed
 137 0006 7047     		bx	lr
 138              		.cfi_endproc
 139              	.LFE495:
 141              		.section	.text.st_dword,"ax",%progbits
 142              		.align	1
 143              		.syntax unified
 144              		.code	16
 145              		.thumb_func
 147              	st_dword:
ARM GAS  /tmp/ccVOuidm.s 			page 15


 148              	.LVL17:
 149              	.LFB496:
 659:Middlewares/Third_Party/FatFs/src/ff.c **** 
 660:Middlewares/Third_Party/FatFs/src/ff.c **** static
 661:Middlewares/Third_Party/FatFs/src/ff.c **** void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 662:Middlewares/Third_Party/FatFs/src/ff.c **** {
 150              		.loc 1 662 1 is_stmt 1 view -0
 151              		.cfi_startproc
 152              		@ args = 0, pretend = 0, frame = 0
 153              		@ frame_needed = 0, uses_anonymous_args = 0
 154              		@ link register save eliminated.
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 155              		.loc 1 663 2 view .LVU38
 156              		.loc 1 663 9 is_stmt 0 view .LVU39
 157 0000 0170     		strb	r1, [r0]
 158              		.loc 1 663 22 is_stmt 1 view .LVU40
 159              		.loc 1 663 26 is_stmt 0 view .LVU41
 160 0002 0B0A     		lsrs	r3, r1, #8
 161              	.LVL18:
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 162              		.loc 1 664 2 is_stmt 1 view .LVU42
 163              		.loc 1 664 9 is_stmt 0 view .LVU43
 164 0004 4370     		strb	r3, [r0, #1]
 165              		.loc 1 664 22 is_stmt 1 view .LVU44
 166              		.loc 1 664 26 is_stmt 0 view .LVU45
 167 0006 0B0C     		lsrs	r3, r1, #16
 168              	.LVL19:
 665:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 169              		.loc 1 665 2 is_stmt 1 view .LVU46
 170              		.loc 1 665 9 is_stmt 0 view .LVU47
 171 0008 8370     		strb	r3, [r0, #2]
 172              		.loc 1 665 22 is_stmt 1 view .LVU48
 173              	.LVL20:
 666:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 174              		.loc 1 666 2 view .LVU49
 175              		.loc 1 666 11 is_stmt 0 view .LVU50
 176 000a 090E     		lsrs	r1, r1, #24
 177              	.LVL21:
 178              		.loc 1 666 9 view .LVU51
 179 000c C170     		strb	r1, [r0, #3]
 667:Middlewares/Third_Party/FatFs/src/ff.c **** }
 180              		.loc 1 667 1 view .LVU52
 181              		@ sp needed
 182 000e 7047     		bx	lr
 183              		.cfi_endproc
 184              	.LFE496:
 186              		.section	.text.mem_cpy,"ax",%progbits
 187              		.align	1
 188              		.syntax unified
 189              		.code	16
 190              		.thumb_func
 192              	mem_cpy:
 193              	.LVL22:
 194              	.LFB497:
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 670:Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  /tmp/ccVOuidm.s 			page 16


 671:Middlewares/Third_Party/FatFs/src/ff.c **** void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** {
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 681:Middlewares/Third_Party/FatFs/src/ff.c **** }
 682:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 683:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
 684:Middlewares/Third_Party/FatFs/src/ff.c **** 
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 688:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 
 691:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 692:Middlewares/Third_Party/FatFs/src/ff.c **** static
 693:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
 195              		.loc 1 693 53 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 199              		.loc 1 693 53 is_stmt 0 view .LVU54
 200 0000 10B5     		push	{r4, lr}
 201              	.LCFI0:
 202              		.cfi_def_cfa_offset 8
 203              		.cfi_offset 4, -8
 204              		.cfi_offset 14, -4
 694:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 205              		.loc 1 694 2 is_stmt 1 view .LVU55
 206              	.LVL23:
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 207              		.loc 1 695 2 view .LVU56
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cnt) {
 208              		.loc 1 697 2 view .LVU57
 209              		.loc 1 697 5 is_stmt 0 view .LVU58
 210 0002 002A     		cmp	r2, #0
 211 0004 06D0     		beq	.L5
 212              	.LVL24:
 213              	.L7:
 698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 214              		.loc 1 698 3 is_stmt 1 view .LVU59
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 			*d++ = *s++;
 215              		.loc 1 699 4 view .LVU60
 216              		.loc 1 699 11 is_stmt 0 view .LVU61
 217 0006 0C78     		ldrb	r4, [r1]
 218 0008 0131     		adds	r1, r1, #1
 219              	.LVL25:
 220              		.loc 1 699 9 view .LVU62
 221 000a 0470     		strb	r4, [r0]
 222 000c 0130     		adds	r0, r0, #1
ARM GAS  /tmp/ccVOuidm.s 			page 17


 223              	.LVL26:
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (--cnt);
 224              		.loc 1 700 12 is_stmt 1 discriminator 1 view .LVU63
 225 000e 013A     		subs	r2, r2, #1
 226              	.LVL27:
 227              		.loc 1 700 12 is_stmt 0 discriminator 1 view .LVU64
 228 0010 002A     		cmp	r2, #0
 229 0012 F8D1     		bne	.L7
 230              	.LVL28:
 231              	.L5:
 701:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 702:Middlewares/Third_Party/FatFs/src/ff.c **** }
 232              		.loc 1 702 1 view .LVU65
 233              		@ sp needed
 234 0014 10BD     		pop	{r4, pc}
 235              		.cfi_endproc
 236              	.LFE497:
 238              		.section	.text.mem_set,"ax",%progbits
 239              		.align	1
 240              		.syntax unified
 241              		.code	16
 242              		.thumb_func
 244              	mem_set:
 245              	.LFB498:
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 
 704:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory block */
 705:Middlewares/Third_Party/FatFs/src/ff.c **** static
 706:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
 246              		.loc 1 706 45 is_stmt 1 view -0
 247              		.cfi_startproc
 248              		@ args = 0, pretend = 0, frame = 0
 249              		@ frame_needed = 0, uses_anonymous_args = 0
 250              		@ link register save eliminated.
 251              	.LVL29:
 252              	.L9:
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 253              		.loc 1 709 2 view .LVU67
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
 254              		.loc 1 710 3 view .LVU68
 255              		.loc 1 710 8 is_stmt 0 view .LVU69
 256 0000 0170     		strb	r1, [r0]
 257 0002 0130     		adds	r0, r0, #1
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt);
 258              		.loc 1 711 11 is_stmt 1 discriminator 1 view .LVU70
 259 0004 013A     		subs	r2, r2, #1
 260              	.LVL30:
 261              		.loc 1 711 11 is_stmt 0 discriminator 1 view .LVU71
 262 0006 002A     		cmp	r2, #0
 263 0008 FAD1     		bne	.L9
 712:Middlewares/Third_Party/FatFs/src/ff.c **** }
 264              		.loc 1 712 1 view .LVU72
 265              		@ sp needed
 266 000a 7047     		bx	lr
 267              		.cfi_endproc
 268              	.LFE498:
ARM GAS  /tmp/ccVOuidm.s 			page 18


 270              		.section	.text.mem_cmp,"ax",%progbits
 271              		.align	1
 272              		.syntax unified
 273              		.code	16
 274              		.thumb_func
 276              	mem_cmp:
 277              	.LVL31:
 278              	.LFB499:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 
 714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory block */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** static
 716:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {	/* ZR:same, NZ:different */
 279              		.loc 1 716 58 is_stmt 1 view -0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 0
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 283              		.loc 1 716 58 is_stmt 0 view .LVU74
 284 0000 10B5     		push	{r4, lr}
 285              	.LCFI1:
 286              		.cfi_def_cfa_offset 8
 287              		.cfi_offset 4, -8
 288              		.cfi_offset 14, -4
 289 0002 0400     		movs	r4, r0
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 290              		.loc 1 717 2 is_stmt 1 view .LVU75
 291              	.LVL32:
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 292              		.loc 1 718 2 view .LVU76
 293              	.L12:
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 294              		.loc 1 720 2 view .LVU77
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 		r = *d++ - *s++;
 295              		.loc 1 721 3 view .LVU78
 296              		.loc 1 721 7 is_stmt 0 view .LVU79
 297 0004 2078     		ldrb	r0, [r4]
 298 0006 0134     		adds	r4, r4, #1
 299              	.LVL33:
 300              		.loc 1 721 14 view .LVU80
 301 0008 0B78     		ldrb	r3, [r1]
 302 000a 0131     		adds	r1, r1, #1
 303              	.LVL34:
 304              		.loc 1 721 5 view .LVU81
 305 000c C01A     		subs	r0, r0, r3
 306              	.LVL35:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 307              		.loc 1 722 17 is_stmt 1 discriminator 2 view .LVU82
 308 000e 013A     		subs	r2, r2, #1
 309              	.LVL36:
 310              		.loc 1 722 17 is_stmt 0 discriminator 2 view .LVU83
 311 0010 002A     		cmp	r2, #0
 312 0012 01D0     		beq	.L10
 313              		.loc 1 722 17 discriminator 1 view .LVU84
 314 0014 0028     		cmp	r0, #0
 315 0016 F5D0     		beq	.L12
 316              	.L10:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 19


 724:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 725:Middlewares/Third_Party/FatFs/src/ff.c **** }
 317              		.loc 1 725 1 view .LVU85
 318              		@ sp needed
 319              	.LVL37:
 320              		.loc 1 725 1 view .LVU86
 321 0018 10BD     		pop	{r4, pc}
 322              		.cfi_endproc
 323              	.LFE499:
 325              		.section	.text.chk_chr,"ax",%progbits
 326              		.align	1
 327              		.syntax unified
 328              		.code	16
 329              		.thumb_func
 331              	chk_chr:
 332              	.LVL38:
 333              	.LFB500:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** 
 727:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 728:Middlewares/Third_Party/FatFs/src/ff.c **** static
 729:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {	/* NZ:contained, ZR:not contained */
 334              		.loc 1 729 40 is_stmt 1 view -0
 335              		.cfi_startproc
 336              		@ args = 0, pretend = 0, frame = 0
 337              		@ frame_needed = 0, uses_anonymous_args = 0
 338              		@ link register save eliminated.
 339              		.loc 1 729 40 is_stmt 0 view .LVU88
 340 0000 0300     		movs	r3, r0
 730:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 341              		.loc 1 730 2 is_stmt 1 view .LVU89
 342              		.loc 1 730 8 is_stmt 0 view .LVU90
 343 0002 00E0     		b	.L14
 344              	.LVL39:
 345              	.L16:
 346              		.loc 1 730 30 is_stmt 1 discriminator 3 view .LVU91
 347              		.loc 1 730 33 is_stmt 0 discriminator 3 view .LVU92
 348 0004 0133     		adds	r3, r3, #1
 349              	.LVL40:
 350              	.L14:
 351              		.loc 1 730 14 is_stmt 1 discriminator 1 view .LVU93
 352              		.loc 1 730 9 is_stmt 0 discriminator 1 view .LVU94
 353 0006 1878     		ldrb	r0, [r3]
 354              		.loc 1 730 14 discriminator 1 view .LVU95
 355 0008 0028     		cmp	r0, #0
 356 000a 01D0     		beq	.L15
 357              		.loc 1 730 14 discriminator 2 view .LVU96
 358 000c 8842     		cmp	r0, r1
 359 000e F9D1     		bne	.L16
 360              	.L15:
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 361              		.loc 1 731 2 is_stmt 1 view .LVU97
 732:Middlewares/Third_Party/FatFs/src/ff.c **** }
 362              		.loc 1 732 1 is_stmt 0 view .LVU98
 363              		@ sp needed
 364 0010 7047     		bx	lr
 365              		.cfi_endproc
 366              	.LFE500:
ARM GAS  /tmp/ccVOuidm.s 			page 20


 368              		.section	.text.chk_lock,"ax",%progbits
 369              		.align	1
 370              		.syntax unified
 371              		.code	16
 372              		.thumb_func
 374              	chk_lock:
 375              	.LVL41:
 376              	.LFB501:
 733:Middlewares/Third_Party/FatFs/src/ff.c **** 
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 738:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 739:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 740:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 741:Middlewares/Third_Party/FatFs/src/ff.c **** static
 742:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 744:Middlewares/Third_Party/FatFs/src/ff.c **** )
 745:Middlewares/Third_Party/FatFs/src/ff.c **** {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (fs && ff_req_grant(fs->sobj)) ? 1 : 0;
 747:Middlewares/Third_Party/FatFs/src/ff.c **** }
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 
 749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 750:Middlewares/Third_Party/FatFs/src/ff.c **** static
 751:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 752:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 753:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** )
 755:Middlewares/Third_Party/FatFs/src/ff.c **** {
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 759:Middlewares/Third_Party/FatFs/src/ff.c **** }
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 
 761:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 762:Middlewares/Third_Party/FatFs/src/ff.c **** 
 763:Middlewares/Third_Party/FatFs/src/ff.c **** 
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 766:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 767:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** 
 770:Middlewares/Third_Party/FatFs/src/ff.c **** static
 771:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 772:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 773:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 774:Middlewares/Third_Party/FatFs/src/ff.c **** )
 775:Middlewares/Third_Party/FatFs/src/ff.c **** {
 377              		.loc 1 775 1 is_stmt 1 view -0
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 0
 380              		@ frame_needed = 0, uses_anonymous_args = 0
 381              		.loc 1 775 1 is_stmt 0 view .LVU100
 382 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /tmp/ccVOuidm.s 			page 21


 383              	.LCFI2:
 384              		.cfi_def_cfa_offset 12
 385              		.cfi_offset 4, -12
 386              		.cfi_offset 5, -8
 387              		.cfi_offset 14, -4
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 388              		.loc 1 776 2 is_stmt 1 view .LVU101
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 389              		.loc 1 779 2 view .LVU102
 390              	.LVL42:
 391              		.loc 1 779 14 is_stmt 0 view .LVU103
 392 0002 0025     		movs	r5, #0
 393              		.loc 1 779 9 view .LVU104
 394 0004 0023     		movs	r3, #0
 395              		.loc 1 779 2 view .LVU105
 396 0006 01E0     		b	.L18
 397              	.LVL43:
 398              	.L25:
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 399              		.loc 1 785 7 view .LVU106
 400 0008 0125     		movs	r5, #1
 401              	.LVL44:
 402              	.L19:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 403              		.loc 1 779 34 is_stmt 1 discriminator 2 view .LVU107
 404 000a 0133     		adds	r3, r3, #1
 405              	.LVL45:
 406              	.L18:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 407              		.loc 1 779 21 discriminator 1 view .LVU108
 408 000c 012B     		cmp	r3, #1
 409 000e 15D8     		bhi	.L20
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 410              		.loc 1 780 3 view .LVU109
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 411              		.loc 1 780 15 is_stmt 0 view .LVU110
 412 0010 184A     		ldr	r2, .L33
 413 0012 1C01     		lsls	r4, r3, #4
 414 0014 A258     		ldr	r2, [r4, r2]
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 415              		.loc 1 780 6 view .LVU111
 416 0016 002A     		cmp	r2, #0
 417 0018 F6D0     		beq	.L25
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 418              		.loc 1 781 4 is_stmt 1 view .LVU112
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 419              		.loc 1 781 30 is_stmt 0 view .LVU113
 420 001a 0468     		ldr	r4, [r0]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 421              		.loc 1 781 7 view .LVU114
ARM GAS  /tmp/ccVOuidm.s 			page 22


 422 001c A242     		cmp	r2, r4
 423 001e F4D1     		bne	.L19
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 424              		.loc 1 782 13 view .LVU115
 425 0020 144A     		ldr	r2, .L33
 426 0022 1C01     		lsls	r4, r3, #4
 427 0024 1219     		adds	r2, r2, r4
 428 0026 5468     		ldr	r4, [r2, #4]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 429              		.loc 1 782 28 view .LVU116
 430 0028 8268     		ldr	r2, [r0, #8]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 431              		.loc 1 781 34 discriminator 1 view .LVU117
 432 002a 9442     		cmp	r4, r2
 433 002c EDD1     		bne	.L19
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 434              		.loc 1 783 13 view .LVU118
 435 002e 114A     		ldr	r2, .L33
 436 0030 1C01     		lsls	r4, r3, #4
 437 0032 1219     		adds	r2, r2, r4
 438 0034 9468     		ldr	r4, [r2, #8]
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 439              		.loc 1 783 23 view .LVU119
 440 0036 4269     		ldr	r2, [r0, #20]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 441              		.loc 1 782 36 view .LVU120
 442 0038 9442     		cmp	r4, r2
 443 003a E6D1     		bne	.L19
 444              	.L20:
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {	/* The object is not opened */
 445              		.loc 1 788 2 is_stmt 1 view .LVU121
 446              		.loc 1 788 5 is_stmt 0 view .LVU122
 447 003c 022B     		cmp	r3, #2
 448 003e 0BD0     		beq	.L30
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 449              		.loc 1 793 2 is_stmt 1 view .LVU123
 450              		.loc 1 793 52 is_stmt 0 view .LVU124
 451 0040 0029     		cmp	r1, #0
 452 0042 15D1     		bne	.L28
 453              		.loc 1 793 25 discriminator 2 view .LVU125
 454 0044 0B4A     		ldr	r2, .L33
 455 0046 1B01     		lsls	r3, r3, #4
 456              	.LVL46:
 457              		.loc 1 793 25 discriminator 2 view .LVU126
 458 0048 D218     		adds	r2, r2, r3
 459 004a 9289     		ldrh	r2, [r2, #12]
 460              		.loc 1 793 14 discriminator 2 view .LVU127
 461 004c 8023     		movs	r3, #128
 462 004e 5B00     		lsls	r3, r3, #1
 463 0050 9A42     		cmp	r2, r3
 464 0052 0BD0     		beq	.L31
ARM GAS  /tmp/ccVOuidm.s 			page 23


 465              		.loc 1 793 52 discriminator 4 view .LVU128
 466 0054 0020     		movs	r0, #0
 467              	.LVL47:
 468              	.L24:
 794:Middlewares/Third_Party/FatFs/src/ff.c **** }
 469              		.loc 1 794 1 view .LVU129
 470              		@ sp needed
 471              	.LVL48:
 472              		.loc 1 794 1 view .LVU130
 473 0056 30BD     		pop	{r4, r5, pc}
 474              	.LVL49:
 475              	.L30:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 476              		.loc 1 789 3 is_stmt 1 view .LVU131
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 477              		.loc 1 789 35 is_stmt 0 view .LVU132
 478 0058 002D     		cmp	r5, #0
 479 005a 05D1     		bne	.L26
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 480              		.loc 1 789 14 discriminator 2 view .LVU133
 481 005c 0229     		cmp	r1, #2
 482 005e 01D0     		beq	.L32
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 483              		.loc 1 789 35 discriminator 4 view .LVU134
 484 0060 1220     		movs	r0, #18
 485              	.LVL50:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 486              		.loc 1 789 35 view .LVU135
 487 0062 F8E7     		b	.L24
 488              	.LVL51:
 489              	.L32:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 490              		.loc 1 789 35 discriminator 3 view .LVU136
 491 0064 0020     		movs	r0, #0
 492              	.LVL52:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 493              		.loc 1 789 35 discriminator 3 view .LVU137
 494 0066 F6E7     		b	.L24
 495              	.LVL53:
 496              	.L26:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 497              		.loc 1 789 35 discriminator 3 view .LVU138
 498 0068 0020     		movs	r0, #0
 499              	.LVL54:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 500              		.loc 1 789 35 discriminator 3 view .LVU139
 501 006a F4E7     		b	.L24
 502              	.LVL55:
 503              	.L31:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 504              		.loc 1 793 52 discriminator 3 view .LVU140
 505 006c 1020     		movs	r0, #16
 506              	.LVL56:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 507              		.loc 1 793 52 discriminator 3 view .LVU141
 508 006e F2E7     		b	.L24
 509              	.LVL57:
ARM GAS  /tmp/ccVOuidm.s 			page 24


 510              	.L28:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 511              		.loc 1 793 52 discriminator 3 view .LVU142
 512 0070 1020     		movs	r0, #16
 513              	.LVL58:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 514              		.loc 1 793 52 discriminator 3 view .LVU143
 515 0072 F0E7     		b	.L24
 516              	.L34:
 517              		.align	2
 518              	.L33:
 519 0074 00000000 		.word	Files
 520              		.cfi_endproc
 521              	.LFE501:
 523              		.section	.text.enq_lock,"ax",%progbits
 524              		.align	1
 525              		.syntax unified
 526              		.code	16
 527              		.thumb_func
 529              	enq_lock:
 530              	.LFB502:
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 797:Middlewares/Third_Party/FatFs/src/ff.c **** static
 798:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 799:Middlewares/Third_Party/FatFs/src/ff.c **** {
 531              		.loc 1 799 1 is_stmt 1 view -0
 532              		.cfi_startproc
 533              		@ args = 0, pretend = 0, frame = 0
 534              		@ frame_needed = 0, uses_anonymous_args = 0
 535              		@ link register save eliminated.
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 536              		.loc 1 800 2 view .LVU145
 801:Middlewares/Third_Party/FatFs/src/ff.c **** 
 802:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 537              		.loc 1 802 2 view .LVU146
 538              	.LVL59:
 539              		.loc 1 802 9 is_stmt 0 view .LVU147
 540 0000 0020     		movs	r0, #0
 541              		.loc 1 802 2 view .LVU148
 542 0002 00E0     		b	.L36
 543              	.LVL60:
 544              	.L38:
 545              		.loc 1 802 44 is_stmt 1 discriminator 4 view .LVU149
 546 0004 0130     		adds	r0, r0, #1
 547              	.LVL61:
 548              	.L36:
 549              		.loc 1 802 27 discriminator 1 view .LVU150
 550 0006 0128     		cmp	r0, #1
 551 0008 04D8     		bhi	.L37
 552              		.loc 1 802 38 is_stmt 0 discriminator 3 view .LVU151
 553 000a 044B     		ldr	r3, .L39
 554 000c 0201     		lsls	r2, r0, #4
 555 000e D358     		ldr	r3, [r2, r3]
 556              		.loc 1 802 27 discriminator 3 view .LVU152
 557 0010 002B     		cmp	r3, #0
 558 0012 F7D1     		bne	.L38
ARM GAS  /tmp/ccVOuidm.s 			page 25


 559              	.L37:
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 560              		.loc 1 803 2 is_stmt 1 view .LVU153
 561              		.loc 1 803 29 is_stmt 0 view .LVU154
 562 0014 0238     		subs	r0, r0, #2
 563              	.LVL62:
 564              		.loc 1 803 29 view .LVU155
 565 0016 431E     		subs	r3, r0, #1
 566 0018 9841     		sbcs	r0, r0, r3
 567              	.LVL63:
 804:Middlewares/Third_Party/FatFs/src/ff.c **** }
 568              		.loc 1 804 1 view .LVU156
 569              		@ sp needed
 570 001a 7047     		bx	lr
 571              	.L40:
 572              		.align	2
 573              	.L39:
 574 001c 00000000 		.word	Files
 575              		.cfi_endproc
 576              	.LFE502:
 578              		.section	.text.inc_lock,"ax",%progbits
 579              		.align	1
 580              		.syntax unified
 581              		.code	16
 582              		.thumb_func
 584              	inc_lock:
 585              	.LVL64:
 586              	.LFB503:
 805:Middlewares/Third_Party/FatFs/src/ff.c **** 
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 
 807:Middlewares/Third_Party/FatFs/src/ff.c **** static
 808:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** )
 812:Middlewares/Third_Party/FatFs/src/ff.c **** {
 587              		.loc 1 812 1 is_stmt 1 view -0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 0
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 591              		.loc 1 812 1 is_stmt 0 view .LVU158
 592 0000 30B5     		push	{r4, r5, lr}
 593              	.LCFI3:
 594              		.cfi_def_cfa_offset 12
 595              		.cfi_offset 4, -12
 596              		.cfi_offset 5, -8
 597              		.cfi_offset 14, -4
 598 0002 0200     		movs	r2, r0
 813:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 599              		.loc 1 813 2 is_stmt 1 view .LVU159
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 600              		.loc 1 816 2 view .LVU160
 601              	.LVL65:
 602              		.loc 1 816 9 is_stmt 0 view .LVU161
 603 0004 0020     		movs	r0, #0
ARM GAS  /tmp/ccVOuidm.s 			page 26


 604              	.LVL66:
 605              		.loc 1 816 2 view .LVU162
 606 0006 00E0     		b	.L42
 607              	.LVL67:
 608              	.L43:
 609              		.loc 1 816 29 is_stmt 1 discriminator 2 view .LVU163
 610 0008 0130     		adds	r0, r0, #1
 611              	.LVL68:
 612              	.L42:
 613              		.loc 1 816 16 discriminator 1 view .LVU164
 614 000a 0128     		cmp	r0, #1
 615 000c 13D8     		bhi	.L44
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 616              		.loc 1 817 3 view .LVU165
 617              		.loc 1 817 15 is_stmt 0 view .LVU166
 618 000e 244B     		ldr	r3, .L57
 619 0010 0401     		lsls	r4, r0, #4
 620 0012 E458     		ldr	r4, [r4, r3]
 621              		.loc 1 817 29 view .LVU167
 622 0014 1368     		ldr	r3, [r2]
 623              		.loc 1 817 6 view .LVU168
 624 0016 9C42     		cmp	r4, r3
 625 0018 F6D1     		bne	.L43
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 626              		.loc 1 818 12 view .LVU169
 627 001a 214B     		ldr	r3, .L57
 628 001c 0401     		lsls	r4, r0, #4
 629 001e 1B19     		adds	r3, r3, r4
 630 0020 5C68     		ldr	r4, [r3, #4]
 631              		.loc 1 818 27 view .LVU170
 632 0022 9368     		ldr	r3, [r2, #8]
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 633              		.loc 1 817 33 discriminator 1 view .LVU171
 634 0024 9C42     		cmp	r4, r3
 635 0026 EFD1     		bne	.L43
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].ofs == dp->dptr) break;
 636              		.loc 1 819 12 view .LVU172
 637 0028 1D4B     		ldr	r3, .L57
 638 002a 0401     		lsls	r4, r0, #4
 639 002c 1B19     		adds	r3, r3, r4
 640 002e 9C68     		ldr	r4, [r3, #8]
 641              		.loc 1 819 22 view .LVU173
 642 0030 5369     		ldr	r3, [r2, #20]
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 643              		.loc 1 818 35 view .LVU174
 644 0032 9C42     		cmp	r4, r3
 645 0034 E8D1     		bne	.L43
 646              	.L44:
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 647              		.loc 1 822 2 is_stmt 1 view .LVU175
 648              		.loc 1 822 5 is_stmt 0 view .LVU176
 649 0036 0228     		cmp	r0, #2
 650 0038 0AD0     		beq	.L56
 651              	.LVL69:
 652              	.L47:
ARM GAS  /tmp/ccVOuidm.s 			page 27


 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 829:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 830:Middlewares/Third_Party/FatFs/src/ff.c **** 
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 653              		.loc 1 831 2 is_stmt 1 view .LVU177
 654              		.loc 1 831 5 is_stmt 0 view .LVU178
 655 003a 0029     		cmp	r1, #0
 656 003c 20D0     		beq	.L51
 657              		.loc 1 831 21 discriminator 1 view .LVU179
 658 003e 184B     		ldr	r3, .L57
 659 0040 0201     		lsls	r2, r0, #4
 660 0042 9B18     		adds	r3, r3, r2
 661 0044 9B89     		ldrh	r3, [r3, #12]
 662              		.loc 1 831 10 discriminator 1 view .LVU180
 663 0046 002B     		cmp	r3, #0
 664 0048 28D1     		bne	.L55
 832:Middlewares/Third_Party/FatFs/src/ff.c **** 
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 665              		.loc 1 833 15 discriminator 2 view .LVU181
 666 004a 8022     		movs	r2, #128
 667 004c 5200     		lsls	r2, r2, #1
 668 004e 1DE0     		b	.L52
 669              	.LVL70:
 670              	.L56:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 671              		.loc 1 823 10 view .LVU182
 672 0050 0020     		movs	r0, #0
 673              	.LVL71:
 674              	.L46:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 675              		.loc 1 823 28 is_stmt 1 discriminator 1 view .LVU183
 676 0052 0128     		cmp	r0, #1
 677 0054 06D8     		bhi	.L48
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 678              		.loc 1 823 39 is_stmt 0 discriminator 3 view .LVU184
 679 0056 124B     		ldr	r3, .L57
 680 0058 0401     		lsls	r4, r0, #4
 681 005a E358     		ldr	r3, [r4, r3]
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 682              		.loc 1 823 28 discriminator 3 view .LVU185
 683 005c 002B     		cmp	r3, #0
 684 005e 01D0     		beq	.L48
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 685              		.loc 1 823 45 is_stmt 1 discriminator 4 view .LVU186
 686 0060 0130     		adds	r0, r0, #1
 687              	.LVL72:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 688              		.loc 1 823 45 is_stmt 0 discriminator 4 view .LVU187
 689 0062 F6E7     		b	.L46
 690              	.L48:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 691              		.loc 1 824 3 is_stmt 1 view .LVU188
ARM GAS  /tmp/ccVOuidm.s 			page 28


 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 692              		.loc 1 824 6 is_stmt 0 view .LVU189
 693 0064 0228     		cmp	r0, #2
 694 0066 17D0     		beq	.L54
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 695              		.loc 1 825 3 is_stmt 1 view .LVU190
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 696              		.loc 1 825 24 is_stmt 0 view .LVU191
 697 0068 1568     		ldr	r5, [r2]
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 698              		.loc 1 825 15 view .LVU192
 699 006a 0D4B     		ldr	r3, .L57
 700 006c 0401     		lsls	r4, r0, #4
 701 006e E550     		str	r5, [r4, r3]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 702              		.loc 1 826 3 is_stmt 1 view .LVU193
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 703              		.loc 1 826 25 is_stmt 0 view .LVU194
 704 0070 9568     		ldr	r5, [r2, #8]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 705              		.loc 1 826 16 view .LVU195
 706 0072 1B19     		adds	r3, r3, r4
 707 0074 5D60     		str	r5, [r3, #4]
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 708              		.loc 1 827 3 is_stmt 1 view .LVU196
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 709              		.loc 1 827 20 is_stmt 0 view .LVU197
 710 0076 5269     		ldr	r2, [r2, #20]
 711              	.LVL73:
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 712              		.loc 1 827 16 view .LVU198
 713 0078 9A60     		str	r2, [r3, #8]
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 714              		.loc 1 828 3 is_stmt 1 view .LVU199
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 715              		.loc 1 828 16 is_stmt 0 view .LVU200
 716 007a 0022     		movs	r2, #0
 717 007c 9A81     		strh	r2, [r3, #12]
 718 007e DCE7     		b	.L47
 719              	.L51:
 720              		.loc 1 833 39 discriminator 1 view .LVU201
 721 0080 074B     		ldr	r3, .L57
 722 0082 0201     		lsls	r2, r0, #4
 723 0084 9B18     		adds	r3, r3, r2
 724 0086 9A89     		ldrh	r2, [r3, #12]
 725              		.loc 1 833 15 discriminator 1 view .LVU202
 726 0088 0132     		adds	r2, r2, #1
 727 008a 92B2     		uxth	r2, r2
 728              	.L52:
 729              		.loc 1 833 15 discriminator 4 view .LVU203
 730 008c 044B     		ldr	r3, .L57
 731 008e 0101     		lsls	r1, r0, #4
 732              	.LVL74:
 733              		.loc 1 833 15 discriminator 4 view .LVU204
 734 0090 5B18     		adds	r3, r3, r1
 735 0092 9A81     		strh	r2, [r3, #12]
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 29


 835:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 736              		.loc 1 835 2 is_stmt 1 view .LVU205
 737              		.loc 1 835 11 is_stmt 0 view .LVU206
 738 0094 0130     		adds	r0, r0, #1
 739              	.LVL75:
 740              	.L41:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** }
 741              		.loc 1 836 1 view .LVU207
 742              		@ sp needed
 743 0096 30BD     		pop	{r4, r5, pc}
 744              	.LVL76:
 745              	.L54:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 746              		.loc 1 824 29 discriminator 1 view .LVU208
 747 0098 0020     		movs	r0, #0
 748              	.LVL77:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 749              		.loc 1 824 29 discriminator 1 view .LVU209
 750 009a FCE7     		b	.L41
 751              	.LVL78:
 752              	.L55:
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 
 753              		.loc 1 831 34 discriminator 2 view .LVU210
 754 009c 0020     		movs	r0, #0
 755              	.LVL79:
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 
 756              		.loc 1 831 34 discriminator 2 view .LVU211
 757 009e FAE7     		b	.L41
 758              	.L58:
 759              		.align	2
 760              	.L57:
 761 00a0 00000000 		.word	Files
 762              		.cfi_endproc
 763              	.LFE503:
 765              		.section	.text.dec_lock,"ax",%progbits
 766              		.align	1
 767              		.syntax unified
 768              		.code	16
 769              		.thumb_func
 771              	dec_lock:
 772              	.LVL80:
 773              	.LFB504:
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** static
 840:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 842:Middlewares/Third_Party/FatFs/src/ff.c **** )
 843:Middlewares/Third_Party/FatFs/src/ff.c **** {
 774              		.loc 1 843 1 is_stmt 1 view -0
 775              		.cfi_startproc
 776              		@ args = 0, pretend = 0, frame = 0
 777              		@ frame_needed = 0, uses_anonymous_args = 0
 778              		@ link register save eliminated.
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 779              		.loc 1 844 2 view .LVU213
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccVOuidm.s 			page 30


 780              		.loc 1 845 2 view .LVU214
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 781              		.loc 1 848 2 view .LVU215
 782              		.loc 1 848 5 is_stmt 0 view .LVU216
 783 0000 0138     		subs	r0, r0, #1
 784              	.LVL81:
 785              		.loc 1 848 5 view .LVU217
 786 0002 0128     		cmp	r0, #1
 787 0004 19D8     		bhi	.L63
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 788              		.loc 1 849 3 is_stmt 1 view .LVU218
 789              		.loc 1 849 5 is_stmt 0 view .LVU219
 790 0006 0F4B     		ldr	r3, .L66
 791 0008 0201     		lsls	r2, r0, #4
 792 000a 9B18     		adds	r3, r3, r2
 793 000c 9B89     		ldrh	r3, [r3, #12]
 794              	.LVL82:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 795              		.loc 1 850 3 is_stmt 1 view .LVU220
 796              		.loc 1 850 6 is_stmt 0 view .LVU221
 797 000e 8022     		movs	r2, #128
 798 0010 5200     		lsls	r2, r2, #1
 799 0012 9342     		cmp	r3, r2
 800 0014 04D0     		beq	.L64
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n > 0) n--;				/* Decrement read mode open count */
 801              		.loc 1 851 3 is_stmt 1 view .LVU222
 802              		.loc 1 851 6 is_stmt 0 view .LVU223
 803 0016 002B     		cmp	r3, #0
 804 0018 09D0     		beq	.L62
 805              		.loc 1 851 14 is_stmt 1 discriminator 1 view .LVU224
 806              		.loc 1 851 15 is_stmt 0 discriminator 1 view .LVU225
 807 001a 013B     		subs	r3, r3, #1
 808              	.LVL83:
 809              		.loc 1 851 15 discriminator 1 view .LVU226
 810 001c 9BB2     		uxth	r3, r3
 811              	.LVL84:
 812              		.loc 1 851 15 discriminator 1 view .LVU227
 813 001e 00E0     		b	.L61
 814              	.L64:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 815              		.loc 1 850 21 discriminator 1 view .LVU228
 816 0020 0023     		movs	r3, #0
 817              	.LVL85:
 818              	.L61:
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 819              		.loc 1 852 3 is_stmt 1 view .LVU229
 820              		.loc 1 852 16 is_stmt 0 view .LVU230
 821 0022 084A     		ldr	r2, .L66
 822 0024 0101     		lsls	r1, r0, #4
 823 0026 5218     		adds	r2, r2, r1
 824 0028 9381     		strh	r3, [r2, #12]
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 825              		.loc 1 853 3 is_stmt 1 view .LVU231
 826              		.loc 1 853 6 is_stmt 0 view .LVU232
 827 002a 002B     		cmp	r3, #0
ARM GAS  /tmp/ccVOuidm.s 			page 31


 828 002c 07D1     		bne	.L65
 829              	.L62:
 830              	.LVL86:
 831              		.loc 1 853 15 is_stmt 1 discriminator 1 view .LVU233
 832              		.loc 1 853 27 is_stmt 0 discriminator 1 view .LVU234
 833 002e 054B     		ldr	r3, .L66
 834 0030 0001     		lsls	r0, r0, #4
 835              	.LVL87:
 836              		.loc 1 853 27 discriminator 1 view .LVU235
 837 0032 0022     		movs	r2, #0
 838 0034 C250     		str	r2, [r0, r3]
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 839              		.loc 1 854 7 view .LVU236
 840 0036 0020     		movs	r0, #0
 841 0038 00E0     		b	.L60
 842              	.LVL88:
 843              	.L63:
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 844              		.loc 1 856 7 view .LVU237
 845 003a 0220     		movs	r0, #2
 846              	.LVL89:
 847              	.L60:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 848              		.loc 1 858 2 is_stmt 1 view .LVU238
 859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 849              		.loc 1 859 1 is_stmt 0 view .LVU239
 850              		@ sp needed
 851 003c 7047     		bx	lr
 852              	.LVL90:
 853              	.L65:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 854              		.loc 1 854 7 view .LVU240
 855 003e 0020     		movs	r0, #0
 856              	.LVL91:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 857              		.loc 1 854 7 view .LVU241
 858 0040 FCE7     		b	.L60
 859              	.L67:
 860 0042 C046     		.align	2
 861              	.L66:
 862 0044 00000000 		.word	Files
 863              		.cfi_endproc
 864              	.LFE504:
 866              		.section	.text.clear_lock,"ax",%progbits
 867              		.align	1
 868              		.syntax unified
 869              		.code	16
 870              		.thumb_func
 872              	clear_lock:
 873              	.LVL92:
 874              	.LFB505:
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 
 862:Middlewares/Third_Party/FatFs/src/ff.c **** static
 863:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
ARM GAS  /tmp/ccVOuidm.s 			page 32


 864:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 865:Middlewares/Third_Party/FatFs/src/ff.c **** )
 866:Middlewares/Third_Party/FatFs/src/ff.c **** {
 875              		.loc 1 866 1 is_stmt 1 view -0
 876              		.cfi_startproc
 877              		@ args = 0, pretend = 0, frame = 0
 878              		@ frame_needed = 0, uses_anonymous_args = 0
 879              		.loc 1 866 1 is_stmt 0 view .LVU243
 880 0000 10B5     		push	{r4, lr}
 881              	.LCFI4:
 882              		.cfi_def_cfa_offset 8
 883              		.cfi_offset 4, -8
 884              		.cfi_offset 14, -4
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 885              		.loc 1 867 2 is_stmt 1 view .LVU244
 868:Middlewares/Third_Party/FatFs/src/ff.c **** 
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 886              		.loc 1 869 2 view .LVU245
 887              	.LVL93:
 888              		.loc 1 869 9 is_stmt 0 view .LVU246
 889 0002 0023     		movs	r3, #0
 890              		.loc 1 869 2 view .LVU247
 891 0004 03E0     		b	.L69
 892              	.LVL94:
 893              	.L73:
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 894              		.loc 1 870 26 is_stmt 1 discriminator 1 view .LVU248
 895              		.loc 1 870 38 is_stmt 0 discriminator 1 view .LVU249
 896 0006 064A     		ldr	r2, .L74
 897 0008 0024     		movs	r4, #0
 898 000a 8C50     		str	r4, [r1, r2]
 899              	.L70:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 900              		.loc 1 869 29 is_stmt 1 discriminator 2 view .LVU250
 901 000c 0133     		adds	r3, r3, #1
 902              	.LVL95:
 903              	.L69:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 904              		.loc 1 869 16 discriminator 1 view .LVU251
 905 000e 012B     		cmp	r3, #1
 906 0010 05D8     		bhi	.L72
 907              		.loc 1 870 3 view .LVU252
 908              		.loc 1 870 15 is_stmt 0 view .LVU253
 909 0012 034A     		ldr	r2, .L74
 910 0014 1901     		lsls	r1, r3, #4
 911 0016 8A58     		ldr	r2, [r1, r2]
 912              		.loc 1 870 6 view .LVU254
 913 0018 8242     		cmp	r2, r0
 914 001a F7D1     		bne	.L70
 915 001c F3E7     		b	.L73
 916              	.L72:
 871:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 917              		.loc 1 872 1 view .LVU255
 918              		@ sp needed
 919 001e 10BD     		pop	{r4, pc}
 920              	.L75:
ARM GAS  /tmp/ccVOuidm.s 			page 33


 921              		.align	2
 922              	.L74:
 923 0020 00000000 		.word	Files
 924              		.cfi_endproc
 925              	.LFE505:
 927              		.section	.text.clust2sect,"ax",%progbits
 928              		.align	1
 929              		.syntax unified
 930              		.code	16
 931              		.thumb_func
 933              	clust2sect:
 934              	.LVL96:
 935              	.LFB509:
 873:Middlewares/Third_Party/FatFs/src/ff.c **** 
 874:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_LOCK != 0 */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 
 876:Middlewares/Third_Party/FatFs/src/ff.c **** 
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 
 878:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 879:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 881:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 882:Middlewares/Third_Party/FatFs/src/ff.c **** static
 883:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERROR */
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs			/* File system object */
 885:Middlewares/Third_Party/FatFs/src/ff.c **** )
 886:Middlewares/Third_Party/FatFs/src/ff.c **** {
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** 
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 907:Middlewares/Third_Party/FatFs/src/ff.c **** }
 908:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 
 911:Middlewares/Third_Party/FatFs/src/ff.c **** static
 912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERROR */
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector		/* Sector number to make appearance in the fs->win[] */
 915:Middlewares/Third_Party/FatFs/src/ff.c **** )
 916:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccVOuidm.s 			page 34


 917:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 921:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 933:Middlewares/Third_Party/FatFs/src/ff.c **** }
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 939:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 942:Middlewares/Third_Party/FatFs/src/ff.c **** 
 943:Middlewares/Third_Party/FatFs/src/ff.c **** static
 944:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK:succeeded, !=0:error */
 945:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 946:Middlewares/Third_Party/FatFs/src/ff.c **** )
 947:Middlewares/Third_Party/FatFs/src/ff.c **** {
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 
 950:Middlewares/Third_Party/FatFs/src/ff.c **** 
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win, 0, SS(fs));
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 972:Middlewares/Third_Party/FatFs/src/ff.c **** }
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 35


 974:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 978:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 979:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 980:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 
 982:Middlewares/Third_Party/FatFs/src/ff.c **** static
 983:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 986:Middlewares/Third_Party/FatFs/src/ff.c **** )
 987:Middlewares/Third_Party/FatFs/src/ff.c **** {
 936              		.loc 1 987 1 is_stmt 1 view -0
 937              		.cfi_startproc
 938              		@ args = 0, pretend = 0, frame = 0
 939              		@ frame_needed = 0, uses_anonymous_args = 0
 940              		@ link register save eliminated.
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 941              		.loc 1 988 2 view .LVU257
 942              		.loc 1 988 7 is_stmt 0 view .LVU258
 943 0000 0239     		subs	r1, r1, #2
 944              	.LVL97:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 945              		.loc 1 989 2 is_stmt 1 view .LVU259
 946              		.loc 1 989 16 is_stmt 0 view .LVU260
 947 0002 4369     		ldr	r3, [r0, #20]
 948              		.loc 1 989 27 view .LVU261
 949 0004 023B     		subs	r3, r3, #2
 950              		.loc 1 989 5 view .LVU262
 951 0006 8B42     		cmp	r3, r1
 952 0008 04D9     		bls	.L78
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 953              		.loc 1 990 2 is_stmt 1 view .LVU263
 954              		.loc 1 990 18 is_stmt 0 view .LVU264
 955 000a 4389     		ldrh	r3, [r0, #10]
 956              		.loc 1 990 14 view .LVU265
 957 000c 5943     		muls	r1, r3
 958              	.LVL98:
 959              		.loc 1 990 30 view .LVU266
 960 000e 806A     		ldr	r0, [r0, #40]
 961              	.LVL99:
 962              		.loc 1 990 26 view .LVU267
 963 0010 0818     		adds	r0, r1, r0
 964              	.L76:
 991:Middlewares/Third_Party/FatFs/src/ff.c **** }
 965              		.loc 1 991 1 view .LVU268
 966              		@ sp needed
 967 0012 7047     		bx	lr
 968              	.LVL100:
 969              	.L78:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 970              		.loc 1 989 39 discriminator 1 view .LVU269
 971 0014 0020     		movs	r0, #0
 972              	.LVL101:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
ARM GAS  /tmp/ccVOuidm.s 			page 36


 973              		.loc 1 989 39 discriminator 1 view .LVU270
 974 0016 FCE7     		b	.L76
 975              		.cfi_endproc
 976              	.LFE509:
 978              		.section	.text.clmt_clust,"ax",%progbits
 979              		.align	1
 980              		.syntax unified
 981              		.code	16
 982              		.thumb_func
 984              	clmt_clust:
 985              	.LVL102:
 986              	.LFB514:
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 
 996:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 997:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 998:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 999:Middlewares/Third_Party/FatFs/src/ff.c **** 
1000:Middlewares/Third_Party/FatFs/src/ff.c **** static
1001:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Corresponding object */
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* Cluster number to get the value */
1004:Middlewares/Third_Party/FatFs/src/ff.c **** )
1005:Middlewares/Third_Party/FatFs/src/ff.c **** {
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1009:Middlewares/Third_Party/FatFs/src/ff.c **** 
1010:Middlewares/Third_Party/FatFs/src/ff.c **** 
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** 
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
ARM GAS  /tmp/ccVOuidm.s 			page 37


1037:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->objsize) {
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD clen = (DWORD)((obj->objsize - 1) / SS(fs)) / fs->csize;	/* Number of clusters - 1 */
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 2) {	/* Is there no valid chain on the FAT? */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cofs <= clen) {
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* Generate the value */
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 						break;
1046:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = clst + 1; 	/* Generate the value */
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1052:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1053:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1058:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1059:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1060:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1061:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1062:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* go to default */
1063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** }
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 
1075:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1076:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1077:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 
1080:Middlewares/Third_Party/FatFs/src/ff.c **** static
1081:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Corresponding file system object */
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val		/* New value to be set to the entry */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** )
1086:Middlewares/Third_Party/FatFs/src/ff.c **** {
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
ARM GAS  /tmp/ccVOuidm.s 			page 38


1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :	/* WORD aligned items */
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1113:Middlewares/Third_Party/FatFs/src/ff.c **** 
1114:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :	/* DWORD aligned items */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1117:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1128:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1129:Middlewares/Third_Party/FatFs/src/ff.c **** }
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 
1131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 
1136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
1137:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1138:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 
1141:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1142:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find a contiguous free cluster block */
1143:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** static
1146:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/ccVOuidm.s 			page 39


1151:Middlewares/Third_Party/FatFs/src/ff.c **** {
1152:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm, bv;
1153:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val, scl, ctr;
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 
1156:Middlewares/Third_Party/FatFs/src/ff.c **** 
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	scl = val = clst; ctr = 0;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fs->database + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;	/* (assuming bi
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!bv) {	/* Is it a free cluster? */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm);
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1179:Middlewares/Third_Party/FatFs/src/ff.c **** }
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 
1182:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set/Clear a block of allocation bitmap */
1184:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 
1186:Middlewares/Third_Party/FatFs/src/ff.c **** static
1187:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT change_bitmap (
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1192:Middlewares/Third_Party/FatFs/src/ff.c **** )
1193:Middlewares/Third_Party/FatFs/src/ff.c **** {
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm;
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1196:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect;
1197:Middlewares/Third_Party/FatFs/src/ff.c **** 
1198:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 	sect = fs->database + clst / 8 / SS(fs);	/* Sector address (assuming bitmap is located top of the 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = clst / 8 % SS(fs);						/* Byte offset in the sector */
1201:Middlewares/Third_Party/FatFs/src/ff.c **** 	bm = 1 << (clst % 8);						/* Bit mask in the byte */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1204:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
ARM GAS  /tmp/ccVOuidm.s 			page 40


1208:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1210:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1215:Middlewares/Third_Party/FatFs/src/ff.c **** }
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 
1218:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1219:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the first fragment of the FAT chain    */
1220:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 
1222:Middlewares/Third_Party/FatFs/src/ff.c **** static
1223:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_first_frag (
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj	/* Pointer to the corresponding object */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** )
1226:Middlewares/Third_Party/FatFs/src/ff.c **** {
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, n;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 
1230:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented'? */
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1238:Middlewares/Third_Party/FatFs/src/ff.c **** }
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 
1241:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1242:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the last fragment of the FAT chain     */
1243:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 
1245:Middlewares/Third_Party/FatFs/src/ff.c **** static
1246:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_last_frag (
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Pointer to the corresponding object */
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD lcl,	/* Last cluster of the fragment */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD term	/* Value to set the last FAT entry */
1250:Middlewares/Third_Party/FatFs/src/ff.c **** )
1251:Middlewares/Third_Party/FatFs/src/ff.c **** {
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (obj->n_frag > 0) {	/* Create the last chain on the FAT */
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->n_frag--;
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
1262:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT && !_FS_READONLY */
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 41


1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1269:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1270:Middlewares/Third_Party/FatFs/src/ff.c **** static
1271:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1272:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0:an entire chain) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1280:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst;
1282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1283:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rt[2];
1285:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (pclst && (!_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Remove the chain */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1304:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1308:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1309:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** 			ecl = nxt;
1312:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* End of contiguous cluster block */
1313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) return res;
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1318:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1319:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1320:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[0] = clust2sect(fs, scl);					/* Start sector */
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
ARM GAS  /tmp/ccVOuidm.s 			page 42


1322:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Inform device the block can be erased */
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1324:Middlewares/Third_Party/FatFs/src/ff.c **** 			scl = ecl = nxt;
1325:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1326:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = nxt;					/* Next cluster */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
1329:Middlewares/Third_Party/FatFs/src/ff.c **** 
1330:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1332:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pclst == 0) {	/* Does the object have no chain? */
1333:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 0;		/* Change the object status 'initial' */
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Did the c
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 2;	/* Change the object status 'contiguous' */
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1340:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1342:Middlewares/Third_Party/FatFs/src/ff.c **** }
1343:Middlewares/Third_Party/FatFs/src/ff.c **** 
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** 
1347:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1348:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1350:Middlewares/Third_Party/FatFs/src/ff.c **** static
1351:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1354:Middlewares/Third_Party/FatFs/src/ff.c **** )
1355:Middlewares/Third_Party/FatFs/src/ff.c **** {
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Create a new chain */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Stretch current chain */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 
1373:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1377:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_INT_ERR) return 1;
ARM GAS  /tmp/ccVOuidm.s 			page 43


1379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1382:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {									/* It is a stretched chain */
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* New fragment */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
1398:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = scl;	/* Start cluster */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
1406:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			cs = get_fat(obj, ncl);			/* Get the cluster status */
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
1411:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);	/* Mark the new cluster 'EOC' */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1416:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1417:Middlewares/Third_Party/FatFs/src/ff.c **** 
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error status */
1427:Middlewares/Third_Party/FatFs/src/ff.c **** }
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 
1429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 
1434:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1435:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccVOuidm.s 			page 44


1436:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1437:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1438:Middlewares/Third_Party/FatFs/src/ff.c **** 
1439:Middlewares/Third_Party/FatFs/src/ff.c **** static
1440:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1443:Middlewares/Third_Party/FatFs/src/ff.c **** )
1444:Middlewares/Third_Party/FatFs/src/ff.c **** {
 987              		.loc 1 1444 1 is_stmt 1 view -0
 988              		.cfi_startproc
 989              		@ args = 0, pretend = 0, frame = 0
 990              		@ frame_needed = 0, uses_anonymous_args = 0
 991              		.loc 1 1444 1 is_stmt 0 view .LVU272
 992 0000 10B5     		push	{r4, lr}
 993              	.LCFI5:
 994              		.cfi_def_cfa_offset 8
 995              		.cfi_offset 4, -8
 996              		.cfi_offset 14, -4
1445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 997              		.loc 1 1445 2 is_stmt 1 view .LVU273
1446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = fp->obj.fs;
 998              		.loc 1 1446 2 view .LVU274
 999              		.loc 1 1446 9 is_stmt 0 view .LVU275
 1000 0002 0368     		ldr	r3, [r0]
 1001              	.LVL103:
1447:Middlewares/Third_Party/FatFs/src/ff.c **** 
1448:Middlewares/Third_Party/FatFs/src/ff.c **** 
1449:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 1002              		.loc 1 1449 2 is_stmt 1 view .LVU276
 1003              		.loc 1 1449 10 is_stmt 0 view .LVU277
 1004 0004 C46A     		ldr	r4, [r0, #44]
 1005              		.loc 1 1449 6 view .LVU278
 1006 0006 0434     		adds	r4, r4, #4
 1007              	.LVL104:
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
 1008              		.loc 1 1450 2 is_stmt 1 view .LVU279
 1009              		.loc 1 1450 19 is_stmt 0 view .LVU280
 1010 0008 480A     		lsrs	r0, r1, #9
 1011              	.LVL105:
 1012              		.loc 1 1450 32 view .LVU281
 1013 000a 5989     		ldrh	r1, [r3, #10]
 1014              	.LVL106:
 1015              		.loc 1 1450 5 view .LVU282
 1016 000c FFF7FEFF 		bl	__aeabi_uidiv
 1017              	.LVL107:
 1018              		.loc 1 1450 5 view .LVU283
 1019 0010 0200     		movs	r2, r0
 1020 0012 01E0     		b	.L82
 1021              	.LVL108:
 1022              	.L83:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
1455:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 1023              		.loc 1 1455 3 is_stmt 1 view .LVU284
ARM GAS  /tmp/ccVOuidm.s 			page 45


 1024              		.loc 1 1455 6 is_stmt 0 view .LVU285
 1025 0014 121A     		subs	r2, r2, r0
 1026              	.LVL109:
 1027              		.loc 1 1455 14 is_stmt 1 view .LVU286
 1028              		.loc 1 1455 17 is_stmt 0 view .LVU287
 1029 0016 0834     		adds	r4, r4, #8
 1030              	.LVL110:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 1031              		.loc 1 1451 2 is_stmt 1 view .LVU288
 1032              	.L82:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 1033              		.loc 1 1451 2 view .LVU289
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 1034              		.loc 1 1452 3 view .LVU290
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 1035              		.loc 1 1452 7 is_stmt 0 view .LVU291
 1036 0018 2068     		ldr	r0, [r4]
 1037              	.LVL111:
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 1038              		.loc 1 1453 3 is_stmt 1 view .LVU292
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 1039              		.loc 1 1453 6 is_stmt 0 view .LVU293
 1040 001a 0028     		cmp	r0, #0
 1041 001c 03D0     		beq	.L79
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 1042              		.loc 1 1454 3 is_stmt 1 view .LVU294
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 1043              		.loc 1 1454 6 is_stmt 0 view .LVU295
 1044 001e 8242     		cmp	r2, r0
 1045 0020 F8D2     		bcs	.L83
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 1046              		.loc 1 1457 2 is_stmt 1 view .LVU296
 1047              		.loc 1 1457 14 is_stmt 0 view .LVU297
 1048 0022 6068     		ldr	r0, [r4, #4]
 1049              	.LVL112:
 1050              		.loc 1 1457 12 view .LVU298
 1051 0024 8018     		adds	r0, r0, r2
 1052              	.L79:
1458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1053              		.loc 1 1458 1 view .LVU299
 1054              		@ sp needed
 1055              	.LVL113:
 1056              		.loc 1 1458 1 view .LVU300
 1057 0026 10BD     		pop	{r4, pc}
 1058              		.cfi_endproc
 1059              	.LFE514:
 1061              		.section	.text.ld_clust,"ax",%progbits
 1062              		.align	1
 1063              		.syntax unified
 1064              		.code	16
 1065              		.thumb_func
 1067              	ld_clust:
 1068              	.LVL114:
 1069              	.LFB518:
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 
1460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
ARM GAS  /tmp/ccVOuidm.s 			page 46


1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 
1465:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1466:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 
1469:Middlewares/Third_Party/FatFs/src/ff.c **** static
1470:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* Offset of directory table */
1473:Middlewares/Third_Party/FatFs/src/ff.c **** )
1474:Middlewares/Third_Party/FatFs/src/ff.c **** {
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIRE)
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory in FAT32+) */
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = clust2sect(fs, clst);
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;					/* Current cluster# */
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
1507:Middlewares/Third_Party/FatFs/src/ff.c **** 
1508:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1509:Middlewares/Third_Party/FatFs/src/ff.c **** }
1510:Middlewares/Third_Party/FatFs/src/ff.c **** 
1511:Middlewares/Third_Party/FatFs/src/ff.c **** 
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 
1514:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1515:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1516:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1517:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 47


1518:Middlewares/Third_Party/FatFs/src/ff.c **** static
1519:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1522:Middlewares/Third_Party/FatFs/src/ff.c **** )
1523:Middlewares/Third_Party/FatFs/src/ff.c **** {
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
1525:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1526:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1527:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1541:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {		/* Cluster changed? */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
1547:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
1550:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_EXFAT) dp->obj.stat |= 4;			/* The directory needs to be updated */
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect -= n;							/* Restore window offset */
1564:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
1571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;						/* Current entry */
ARM GAS  /tmp/ccVOuidm.s 			page 48


1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1578:Middlewares/Third_Party/FatFs/src/ff.c **** }
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve a block of directory entries             */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** 
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent		/* Number of contiguous entries to allocate */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 
1598:Middlewares/Third_Party/FatFs/src/ff.c **** 
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1605:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1608:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {
1609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** }
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 
1622:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 
1626:Middlewares/Third_Party/FatFs/src/ff.c **** 
1627:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1628:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1629:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 
1631:Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  /tmp/ccVOuidm.s 			page 49


1632:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Pointer to the fs object */
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir	/* Pointer to the key entry */
1635:Middlewares/Third_Party/FatFs/src/ff.c **** )
1636:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1070              		.loc 1 1636 1 is_stmt 1 view -0
 1071              		.cfi_startproc
 1072              		@ args = 0, pretend = 0, frame = 0
 1073              		@ frame_needed = 0, uses_anonymous_args = 0
 1074              		.loc 1 1636 1 is_stmt 0 view .LVU302
 1075 0000 70B5     		push	{r4, r5, r6, lr}
 1076              	.LCFI6:
 1077              		.cfi_def_cfa_offset 16
 1078              		.cfi_offset 4, -16
 1079              		.cfi_offset 5, -12
 1080              		.cfi_offset 6, -8
 1081              		.cfi_offset 14, -4
 1082 0002 0600     		movs	r6, r0
 1083 0004 0C00     		movs	r4, r1
1637:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 1084              		.loc 1 1637 2 is_stmt 1 view .LVU303
1638:Middlewares/Third_Party/FatFs/src/ff.c **** 
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
 1085              		.loc 1 1639 2 view .LVU304
 1086              		.loc 1 1639 7 is_stmt 0 view .LVU305
 1087 0006 0800     		movs	r0, r1
 1088              	.LVL115:
 1089              		.loc 1 1639 7 view .LVU306
 1090 0008 1A30     		adds	r0, r0, #26
 1091 000a FFF7FEFF 		bl	ld_word
 1092              	.LVL116:
 1093              		.loc 1 1639 7 view .LVU307
 1094 000e 0500     		movs	r5, r0
 1095              	.LVL117:
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1096              		.loc 1 1640 2 is_stmt 1 view .LVU308
 1097              		.loc 1 1640 8 is_stmt 0 view .LVU309
 1098 0010 3378     		ldrb	r3, [r6]
 1099              		.loc 1 1640 5 view .LVU310
 1100 0012 032B     		cmp	r3, #3
 1101 0014 00D0     		beq	.L86
 1102              	.L84:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1643:Middlewares/Third_Party/FatFs/src/ff.c **** 
1644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1103              		.loc 1 1645 1 view .LVU311
 1104              		@ sp needed
 1105              	.LVL118:
 1106              	.LVL119:
 1107              		.loc 1 1645 1 view .LVU312
 1108 0016 70BD     		pop	{r4, r5, r6, pc}
 1109              	.LVL120:
 1110              	.L86:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1111              		.loc 1 1641 3 is_stmt 1 view .LVU313
ARM GAS  /tmp/ccVOuidm.s 			page 50


1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1112              		.loc 1 1641 16 is_stmt 0 view .LVU314
 1113 0018 2000     		movs	r0, r4
 1114              	.LVL121:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1115              		.loc 1 1641 16 view .LVU315
 1116 001a 1430     		adds	r0, r0, #20
 1117 001c FFF7FEFF 		bl	ld_word
 1118              	.LVL122:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1119              		.loc 1 1641 45 discriminator 1 view .LVU316
 1120 0020 0004     		lsls	r0, r0, #16
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1121              		.loc 1 1641 6 discriminator 1 view .LVU317
 1122 0022 2843     		orrs	r0, r5
 1123              	.LVL123:
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1124              		.loc 1 1644 2 is_stmt 1 view .LVU318
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1125              		.loc 1 1644 9 is_stmt 0 view .LVU319
 1126 0024 F7E7     		b	.L84
 1127              		.cfi_endproc
 1128              	.LFE518:
 1130              		.section	.text.st_clust,"ax",%progbits
 1131              		.align	1
 1132              		.syntax unified
 1133              		.code	16
 1134              		.thumb_func
 1136              	st_clust:
 1137              	.LVL124:
 1138              	.LFB519:
1646:Middlewares/Third_Party/FatFs/src/ff.c **** 
1647:Middlewares/Third_Party/FatFs/src/ff.c **** 
1648:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1649:Middlewares/Third_Party/FatFs/src/ff.c **** static
1650:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1653:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** )
1655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1139              		.loc 1 1655 1 is_stmt 1 view -0
 1140              		.cfi_startproc
 1141              		@ args = 0, pretend = 0, frame = 0
 1142              		@ frame_needed = 0, uses_anonymous_args = 0
 1143              		.loc 1 1655 1 is_stmt 0 view .LVU321
 1144 0000 70B5     		push	{r4, r5, r6, lr}
 1145              	.LCFI7:
 1146              		.cfi_def_cfa_offset 16
 1147              		.cfi_offset 4, -16
 1148              		.cfi_offset 5, -12
 1149              		.cfi_offset 6, -8
 1150              		.cfi_offset 14, -4
 1151 0002 0600     		movs	r6, r0
 1152 0004 0C00     		movs	r4, r1
 1153 0006 1500     		movs	r5, r2
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
ARM GAS  /tmp/ccVOuidm.s 			page 51


 1154              		.loc 1 1656 2 is_stmt 1 view .LVU322
 1155 0008 91B2     		uxth	r1, r2
 1156              	.LVL125:
 1157              		.loc 1 1656 2 is_stmt 0 view .LVU323
 1158 000a 2000     		movs	r0, r4
 1159              	.LVL126:
 1160              		.loc 1 1656 2 view .LVU324
 1161 000c 1A30     		adds	r0, r0, #26
 1162 000e FFF7FEFF 		bl	st_word
 1163              	.LVL127:
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1164              		.loc 1 1657 2 is_stmt 1 view .LVU325
 1165              		.loc 1 1657 8 is_stmt 0 view .LVU326
 1166 0012 3378     		ldrb	r3, [r6]
 1167              		.loc 1 1657 5 view .LVU327
 1168 0014 032B     		cmp	r3, #3
 1169 0016 00D0     		beq	.L89
 1170              	.L87:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1660:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1171              		.loc 1 1660 1 view .LVU328
 1172              		@ sp needed
 1173              	.LVL128:
 1174              	.LVL129:
 1175              	.LVL130:
 1176              		.loc 1 1660 1 view .LVU329
 1177 0018 70BD     		pop	{r4, r5, r6, pc}
 1178              	.LVL131:
 1179              	.L89:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 1180              		.loc 1 1658 3 is_stmt 1 view .LVU330
 1181 001a 290C     		lsrs	r1, r5, #16
 1182 001c 2000     		movs	r0, r4
 1183 001e 1430     		adds	r0, r0, #20
 1184 0020 FFF7FEFF 		bl	st_word
 1185              	.LVL132:
 1186              		.loc 1 1660 1 is_stmt 0 view .LVU331
 1187 0024 F8E7     		b	.L87
 1188              		.cfi_endproc
 1189              	.LFE519:
 1191              		.section	.text.get_fileinfo,"ax",%progbits
 1192              		.align	1
 1193              		.syntax unified
 1194              		.code	16
 1195              		.thumb_func
 1197              	get_fileinfo:
 1198              	.LVL133:
 1199              	.LFB524:
1661:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1666:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1667:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: LFN handling                                                  */
1668:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
ARM GAS  /tmp/ccVOuidm.s 			page 52


1669:Middlewares/Third_Party/FatFs/src/ff.c **** static
1670:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 
1673:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1674:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
1675:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1676:Middlewares/Third_Party/FatFs/src/ff.c **** static
1677:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (				/* 1:matched, 0:not matched */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1680:Middlewares/Third_Party/FatFs/src/ff.c **** )
1681:Middlewares/Third_Party/FatFs/src/ff.c **** {
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = uc;
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1700:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN matched */
1705:Middlewares/Third_Party/FatFs/src/ff.c **** }
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 
1707:Middlewares/Third_Party/FatFs/src/ff.c **** 
1708:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
1709:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1710:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1711:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1712:Middlewares/Third_Party/FatFs/src/ff.c **** static
1713:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1715:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1716:Middlewares/Third_Party/FatFs/src/ff.c **** )
1717:Middlewares/Third_Party/FatFs/src/ff.c **** {
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** 
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
1723:Middlewares/Third_Party/FatFs/src/ff.c **** 
1724:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
1725:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 53


1726:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1731:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN is valid */
1742:Middlewares/Third_Party/FatFs/src/ff.c **** }
1743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 
1746:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1747:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1748:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1749:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1750:Middlewares/Third_Party/FatFs/src/ff.c **** static
1751:Middlewares/Third_Party/FatFs/src/ff.c **** void put_lfn (
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1756:Middlewares/Third_Party/FatFs/src/ff.c **** )
1757:Middlewares/Third_Party/FatFs/src/ff.c **** {
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1759:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 
1762:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
1763:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
1768:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
1773:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** }
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 
1778:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1779:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 
1781:Middlewares/Third_Party/FatFs/src/ff.c **** 
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 54


1783:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && !_FS_READONLY
1784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1785:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1786:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 
1788:Middlewares/Third_Party/FatFs/src/ff.c **** static
1789:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1794:Middlewares/Third_Party/FatFs/src/ff.c **** )
1795:Middlewares/Third_Party/FatFs/src/ff.c **** {
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1797:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 
1802:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1803:Middlewares/Third_Party/FatFs/src/ff.c **** 
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1813:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1824:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1831:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1832:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1833:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1837:Middlewares/Third_Party/FatFs/src/ff.c **** }
1838:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 && !_FS_READONLY */
1839:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 55


1840:Middlewares/Third_Party/FatFs/src/ff.c **** 
1841:Middlewares/Third_Party/FatFs/src/ff.c **** 
1842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1843:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1844:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1846:Middlewares/Third_Party/FatFs/src/ff.c **** 
1847:Middlewares/Third_Party/FatFs/src/ff.c **** static
1848:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1849:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1850:Middlewares/Third_Party/FatFs/src/ff.c **** )
1851:Middlewares/Third_Party/FatFs/src/ff.c **** {
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** 
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1856:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
1857:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--n);
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1859:Middlewares/Third_Party/FatFs/src/ff.c **** }
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 
1861:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** 
1865:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1866:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1867:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Checksum                                                       */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 
1870:Middlewares/Third_Party/FatFs/src/ff.c **** static
1871:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xdir_sum (			/* Get checksum of the directoly block */
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
1873:Middlewares/Third_Party/FatFs/src/ff.c **** )
1874:Middlewares/Third_Party/FatFs/src/ff.c **** {
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, szblk;
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum;
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip sum field */
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 			i++;
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1888:Middlewares/Third_Party/FatFs/src/ff.c **** }
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 
1892:Middlewares/Third_Party/FatFs/src/ff.c **** static
1893:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xname_sum (		/* Get check sum (to be used as hash) of the name */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* name	/* File name to be calculated */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** )
1896:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccVOuidm.s 			page 56


1897:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum = 0;
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	while ((chr = *name++) != 0) {
1902:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = ff_wtoupper(chr);		/* File name needs to be ignored case */
1903:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1907:Middlewares/Third_Party/FatFs/src/ff.c **** }
1908:Middlewares/Third_Party/FatFs/src/ff.c **** 
1909:Middlewares/Third_Party/FatFs/src/ff.c **** 
1910:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _USE_MKFS
1911:Middlewares/Third_Party/FatFs/src/ff.c **** static
1912:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD xsum32 (
1913:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE  dat,	/* Data to be sumed */
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sum	/* Previous value */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** )
1916:Middlewares/Third_Party/FatFs/src/ff.c **** {
1917:Middlewares/Third_Party/FatFs/src/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
1918:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1919:Middlewares/Third_Party/FatFs/src/ff.c **** }
1920:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 
1923:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1924:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1925:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get object information from a directory block */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 
1928:Middlewares/Third_Party/FatFs/src/ff.c **** static
1929:Middlewares/Third_Party/FatFs/src/ff.c **** void get_xdir_info (
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block 85+C0+C1s */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Buffer to store the extracted file information */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** )
1933:Middlewares/Third_Party/FatFs/src/ff.c **** {
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT di, si;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nc;
1938:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get file name */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** 	di = 0;
1942:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2; di < dirb[XDIR_NumName]; si += 2, di++) {
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ld_word(dirb + si);					/* Get a character */
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) { di = 0; break; }	/* Buffer overflow --> inaccessible object name */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di] = w;						/* Store it */
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2, nc = 0; nc < dirb[XDIR_NumName]; si += 2, nc++) {
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(ld_word(dirb + si), 0);	/* Get a character and Unicode -> OEM */
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {				/* Is it a double byte char? (always false at SBCS cfg) */
ARM GAS  /tmp/ccVOuidm.s 			page 57


1954:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[di++] = (char)(w >> 8);	/* Put 1st byte of the DBC */
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == 0 || di >= _MAX_LFN) { di = 0; break; }	/* Invalid char or buffer overflow --> inaccessi
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di++] = (char)w;
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1959:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
1961:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[di] = 0;						/* Terminate file name */
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[0] = 0;							/* No SFN */
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dirb[XDIR_Attr];					/* Attribute */
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(dirb + XDIR_FileSize);	/* Size */
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = ld_word(dirb + XDIR_ModTime + 0);	/* Time */
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fdate = ld_word(dirb + XDIR_ModTime + 2);	/* Date */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** }
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 
1970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 
1973:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1974:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get a directry entry block */
1975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** static
1978:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the reading direcotry object pointing the 85 entry */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** )
1981:Middlewares/Third_Party/FatFs/src/ff.c **** {
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, sz_ent;
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load 85 entry */
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0x85) return FR_INT_ERR;
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + 0, dp->dir, SZDIRE);
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C0 entry */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_next(dp, 0);
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0xC0) return FR_INT_ERR;
2001:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + SZDIRE, dp->dir, SZDIRE);
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C1 entries */
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SZDIRE * 2;	/* C1 offset */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
ARM GAS  /tmp/ccVOuidm.s 			page 58


2011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->dir[XDIR_Type] != 0xC1) return FR_INT_ERR;
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < MAXDIRB(_MAX_LFN)) mem_cpy(dirb + i, dp->dir, SZDIRE);
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Sanity check (do it when accessible object name) */
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i <= MAXDIRB(_MAX_LFN)) {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2020:Middlewares/Third_Party/FatFs/src/ff.c **** }
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 
2023:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY || _FS_RPATH != 0
2024:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2025:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Load the object's directory entry block */
2026:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2027:Middlewares/Third_Party/FatFs/src/ff.c **** static
2028:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_obj_dir (
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 	const _FDID* obj	/* Object with its containing directory information */
2031:Middlewares/Third_Party/FatFs/src/ff.c **** )
2032:Middlewares/Third_Party/FatFs/src/ff.c **** {
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Open object containing directory */
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.fs = obj->fs;
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.sclust = obj->c_scl;
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->blk_ofs = obj->c_ofs;
2041:Middlewares/Third_Party/FatFs/src/ff.c **** 
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2047:Middlewares/Third_Party/FatFs/src/ff.c **** }
2048:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2052:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2053:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Store the directory block to the media */
2054:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2055:Middlewares/Third_Party/FatFs/src/ff.c **** static
2056:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT store_xdir (
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2058:Middlewares/Third_Party/FatFs/src/ff.c **** )
2059:Middlewares/Third_Party/FatFs/src/ff.c **** {
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2063:Middlewares/Third_Party/FatFs/src/ff.c **** 
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create set sum */
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 59


2068:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Store the set of directory to the volume */
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (res == FR_OK) {
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(dp->dir, dirb, SZDIRE);
2074:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.fs->wflag = 1;
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (--nent == 0) break;
2076:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb += SZDIRE;
2077:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2079:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2080:Middlewares/Third_Party/FatFs/src/ff.c **** }
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 
2084:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2085:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Create a new directory enrty block */
2086:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 
2088:Middlewares/Third_Party/FatFs/src/ff.c **** static
2089:Middlewares/Third_Party/FatFs/src/ff.c **** void create_xdir (
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn	/* Pointer to the nul terminated file name */
2092:Middlewares/Third_Party/FatFs/src/ff.c **** )
2093:Middlewares/Third_Party/FatFs/src/ff.c **** {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE nb, nc;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create 85+C0 entry */
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dirb, 0, 2 * SZDIRE);
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type] = 0x85;
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type + SZDIRE] = 0xC0;
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create C1 entries */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	nc = 0; nb = 1; chr = 1; i = SZDIRE * 2;
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb[i++] = 0xC1; dirb[i++] = 0;	/* Entry type C1 */
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill name field */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chr && (chr = lfn[nc]) != 0) nc++;	/* Get a character if exist */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirb + i, chr); 		/* Store it */
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while ((i += 2) % SZDIRE != 0);
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb++;
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (lfn[nc]);	/* Fill next entry if any char follows */
2114:Middlewares/Third_Party/FatFs/src/ff.c **** 
2115:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumName] = nc;	/* Set name length */
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumSec] = nb;		/* Set block length */
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2118:Middlewares/Third_Party/FatFs/src/ff.c **** }
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
2121:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** 
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 60


2125:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
2126:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2127:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 
2130:Middlewares/Third_Party/FatFs/src/ff.c **** static
2131:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
2134:Middlewares/Third_Party/FatFs/src/ff.c **** )
2135:Middlewares/Third_Party/FatFs/src/ff.c **** {
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
2139:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
2141:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2150:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_USE_LABEL && vol) {
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x83) break;	/* Volume label entry? */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x85) {		/* Start of the file entry block? */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else
2165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 		{	/* On the FAT12/16/32 volume */
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == DDEM || c == '.' || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without valid 
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (a == AM_LFN) {			/* An LFN entry is found */
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check LFN validity and capture it */
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ord || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
ARM GAS  /tmp/ccVOuidm.s 			page 61


2182:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
2183:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2184:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2186:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2187:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != DDEM && c != '.' && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol) {	/* Is it a 
2189:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2191:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** }
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 
2205:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2206:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
2207:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 
2209:Middlewares/Third_Party/FatFs/src/ff.c **** static
2210:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object with the file name */
2212:Middlewares/Third_Party/FatFs/src/ff.c **** )
2213:Middlewares/Third_Party/FatFs/src/ff.c **** {
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
2217:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
2219:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2223:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE nc;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT di, ni;
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
2228:Middlewares/Third_Party/FatFs/src/ff.c **** 
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((res = dir_read(dp, 0)) == FR_OK) {	/* Read an item */
2230:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 255
2231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > _MAX_LFN) continue;			/* Skip comparison if inaccessible object n
2232:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2235:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2238:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
ARM GAS  /tmp/ccVOuidm.s 			page 62


2239:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return res;
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2242:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2243:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2244:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2245:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
2251:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
2252:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
2266:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2271:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2272:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2273:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
2275:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
2276:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 
2280:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2281:Middlewares/Third_Party/FatFs/src/ff.c **** }
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 
2286:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2287:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2288:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
2289:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** static
2292:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision, FR_DI
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
2294:Middlewares/Third_Party/FatFs/src/ff.c **** )
2295:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccVOuidm.s 			page 63


2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2298:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nlen, nent;
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 
2306:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (nlen + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_alloc(dp, nent);		/* Allocate entries */
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (nent - 1);	/* Set the allocated entry block offset */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.sclust != 0 && (dp->obj.stat & 4)) {	/* Has the sub-directory been stretched? */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.objsize += (DWORD)fs->csize * SS(fs);	/* Increase the directory size by cluster size */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_first_frag(&dp->obj);				/* Fill first fragment on the FAT if needed */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if neede
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = load_obj_dir(&dj, &dp->obj);				/* Load the object status */
2322:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);		/* Update the allocation status */
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2325:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = store_xdir(&dj);							/* Store the object status */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, dp->fn, 12);
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create an SFN with/without LFNs. */
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = (sn[NSFLAG] & NS_LFN) ? (nlen + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
ARM GAS  /tmp/ccVOuidm.s 			page 64


2353:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
2365:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
2368:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set SFN entry */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
2378:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2384:Middlewares/Third_Party/FatFs/src/ff.c **** }
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 
2386:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 
2390:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE == 0
2391:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2392:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 
2395:Middlewares/Third_Party/FatFs/src/ff.c **** static
2396:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
2398:Middlewares/Third_Party/FatFs/src/ff.c **** )
2399:Middlewares/Third_Party/FatFs/src/ff.c **** {
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD last = dp->dptr;
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  /tmp/ccVOuidm.s 			page 65


2410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* On the FAT12/16/32 volume */
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[DIR_Name] = DDEM;
2415:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
2423:Middlewares/Third_Party/FatFs/src/ff.c **** 
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(fs, dp->sect);
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** 
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2432:Middlewares/Third_Party/FatFs/src/ff.c **** }
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY && _FS_MINIMIZE == 0 */
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
2439:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2442:Middlewares/Third_Party/FatFs/src/ff.c **** 
2443:Middlewares/Third_Party/FatFs/src/ff.c **** static
2444:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
2445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1200              		.loc 1 2448 1 is_stmt 1 view -0
 1201              		.cfi_startproc
 1202              		@ args = 0, pretend = 0, frame = 0
 1203              		@ frame_needed = 0, uses_anonymous_args = 0
 1204              		.loc 1 2448 1 is_stmt 0 view .LVU333
 1205 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1206              	.LCFI8:
 1207              		.cfi_def_cfa_offset 24
 1208              		.cfi_offset 3, -24
 1209              		.cfi_offset 4, -20
 1210              		.cfi_offset 5, -16
 1211              		.cfi_offset 6, -12
 1212              		.cfi_offset 7, -8
 1213              		.cfi_offset 14, -4
 1214 0002 0700     		movs	r7, r0
 1215 0004 0E00     		movs	r6, r1
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 1216              		.loc 1 2449 2 is_stmt 1 view .LVU334
ARM GAS  /tmp/ccVOuidm.s 			page 66


2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
 1217              		.loc 1 2450 2 view .LVU335
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 1218              		.loc 1 2451 2 view .LVU336
2452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, lfv;
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2455:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[0] = 0;		/* Invaidate file info */
 1219              		.loc 1 2458 2 view .LVU337
 1220              		.loc 1 2458 16 is_stmt 0 view .LVU338
 1221 0006 0023     		movs	r3, #0
 1222 0008 4B72     		strb	r3, [r1, #9]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 1223              		.loc 1 2459 2 is_stmt 1 view .LVU339
 1224              		.loc 1 2459 9 is_stmt 0 view .LVU340
 1225 000a C369     		ldr	r3, [r0, #28]
 1226              		.loc 1 2459 5 view .LVU341
 1227 000c 002B     		cmp	r3, #0
 1228 000e 2AD0     		beq	.L90
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2462:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2463:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_xdir_info(fs->dirbuf, fno);
2465:Middlewares/Third_Party/FatFs/src/ff.c **** 		return;
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2467:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
2471:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
2472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= _MAX_LFN) { i = 0; break; }	/* No LFN if buffer overflow */
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[i] = 0;	/* Terminate the LFN */
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
ARM GAS  /tmp/ccVOuidm.s 			page 67


2495:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2496:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
2497:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dp->dir[i])) {
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = c << 8 | dp->dir[i++];
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
2502:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->altname[j] = c;
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[j] = c;
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 		j++;
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!lfv) {
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[j] = 0;	/* Terminate the SFN */
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2519:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
 1229              		.loc 1 2519 8 view .LVU342
 1230 0010 0022     		movs	r2, #0
 1231              		.loc 1 2519 4 view .LVU343
 1232 0012 0023     		movs	r3, #0
 1233 0014 05E0     		b	.L92
 1234              	.LVL134:
 1235              	.L94:
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1236              		.loc 1 2524 3 is_stmt 1 view .LVU344
 1237              		.loc 1 2524 6 is_stmt 0 view .LVU345
 1238 0016 092C     		cmp	r4, #9
 1239 0018 0ED0     		beq	.L98
 1240              	.L95:
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1241              		.loc 1 2525 3 is_stmt 1 view .LVU346
 1242              	.LVL135:
 1243              		.loc 1 2525 19 is_stmt 0 view .LVU347
 1244 001a B118     		adds	r1, r6, r2
 1245 001c 4B72     		strb	r3, [r1, #9]
 1246              		.loc 1 2525 15 view .LVU348
 1247 001e 0132     		adds	r2, r2, #1
 1248              	.LVL136:
 1249              	.L93:
 1250              		.loc 1 2525 15 view .LVU349
 1251 0020 2300     		movs	r3, r4
 1252              	.LVL137:
 1253              	.L92:
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
ARM GAS  /tmp/ccVOuidm.s 			page 68


 1254              		.loc 1 2520 11 is_stmt 1 view .LVU350
 1255 0022 0A2B     		cmp	r3, #10
 1256 0024 0DD8     		bhi	.L99
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 1257              		.loc 1 2521 3 view .LVU351
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 1258              		.loc 1 2521 16 is_stmt 0 view .LVU352
 1259 0026 3D6A     		ldr	r5, [r7, #32]
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 1260              		.loc 1 2521 23 view .LVU353
 1261 0028 5C1C     		adds	r4, r3, #1
 1262              	.LVL138:
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 1263              		.loc 1 2521 5 view .LVU354
 1264 002a EB5C     		ldrb	r3, [r5, r3]
 1265              	.LVL139:
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1266              		.loc 1 2522 3 is_stmt 1 view .LVU355
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1267              		.loc 1 2522 6 is_stmt 0 view .LVU356
 1268 002c 202B     		cmp	r3, #32
 1269 002e F7D0     		beq	.L93
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1270              		.loc 1 2523 3 is_stmt 1 view .LVU357
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1271              		.loc 1 2523 6 is_stmt 0 view .LVU358
 1272 0030 052B     		cmp	r3, #5
 1273 0032 F0D1     		bne	.L94
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1274              		.loc 1 2523 21 discriminator 1 view .LVU359
 1275 0034 E033     		adds	r3, r3, #224
 1276              	.LVL140:
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1277              		.loc 1 2523 21 discriminator 1 view .LVU360
 1278 0036 EEE7     		b	.L94
 1279              	.LVL141:
 1280              	.L98:
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1281              		.loc 1 2524 15 is_stmt 1 discriminator 1 view .LVU361
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1282              		.loc 1 2524 31 is_stmt 0 discriminator 1 view .LVU362
 1283 0038 B118     		adds	r1, r6, r2
 1284 003a 2E20     		movs	r0, #46
 1285 003c 4872     		strb	r0, [r1, #9]
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1286              		.loc 1 2524 27 discriminator 1 view .LVU363
 1287 003e 0132     		adds	r2, r2, #1
 1288              	.LVL142:
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1289              		.loc 1 2524 27 discriminator 1 view .LVU364
 1290 0040 EBE7     		b	.L95
 1291              	.LVL143:
 1292              	.L99:
2526:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2527:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[j] = 0;
 1293              		.loc 1 2527 2 is_stmt 1 view .LVU365
 1294              		.loc 1 2527 16 is_stmt 0 view .LVU366
ARM GAS  /tmp/ccVOuidm.s 			page 69


 1295 0042 B218     		adds	r2, r6, r2
 1296              	.LVL144:
 1297              		.loc 1 2527 16 view .LVU367
 1298 0044 0023     		movs	r3, #0
 1299              	.LVL145:
 1300              		.loc 1 2527 16 view .LVU368
 1301 0046 5372     		strb	r3, [r2, #9]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr];				/* Attribute */
 1302              		.loc 1 2530 2 is_stmt 1 view .LVU369
 1303              		.loc 1 2530 19 is_stmt 0 view .LVU370
 1304 0048 3B6A     		ldr	r3, [r7, #32]
 1305              		.loc 1 2530 15 view .LVU371
 1306 004a DB7A     		ldrb	r3, [r3, #11]
 1307 004c 3372     		strb	r3, [r6, #8]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 1308              		.loc 1 2531 2 is_stmt 1 view .LVU372
 1309              		.loc 1 2531 26 is_stmt 0 view .LVU373
 1310 004e 386A     		ldr	r0, [r7, #32]
 1311              		.loc 1 2531 32 view .LVU374
 1312 0050 1C30     		adds	r0, r0, #28
 1313              		.loc 1 2531 15 view .LVU375
 1314 0052 FFF7FEFF 		bl	ld_dword
 1315              	.LVL146:
 1316              		.loc 1 2531 13 discriminator 1 view .LVU376
 1317 0056 3060     		str	r0, [r6]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 1318              		.loc 1 2532 2 is_stmt 1 view .LVU377
 1319              		.loc 1 2532 18 is_stmt 0 view .LVU378
 1320 0058 386A     		ldr	r0, [r7, #32]
 1321              		.loc 1 2532 24 view .LVU379
 1322 005a 1630     		adds	r0, r0, #22
 1323              		.loc 1 2532 7 view .LVU380
 1324 005c FFF7FEFF 		bl	ld_dword
 1325              	.LVL147:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 1326              		.loc 1 2533 2 is_stmt 1 view .LVU381
 1327              		.loc 1 2533 13 is_stmt 0 view .LVU382
 1328 0060 F080     		strh	r0, [r6, #6]
 1329              		.loc 1 2533 25 is_stmt 1 view .LVU383
 1330              		.loc 1 2533 38 is_stmt 0 view .LVU384
 1331 0062 000C     		lsrs	r0, r0, #16
 1332              	.LVL148:
 1333              		.loc 1 2533 36 view .LVU385
 1334 0064 B080     		strh	r0, [r6, #4]
 1335              	.LVL149:
 1336              	.L90:
2534:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1337              		.loc 1 2534 1 view .LVU386
 1338              		@ sp needed
 1339              	.LVL150:
 1340              	.LVL151:
 1341              		.loc 1 2534 1 view .LVU387
 1342 0066 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1343              		.cfi_endproc
 1344              	.LFE524:
ARM GAS  /tmp/ccVOuidm.s 			page 70


 1346              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 1347              		.align	2
 1348              	.LC6:
 1349 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 1349      3A3B3C3D 
 1349      3E3F5B5D 
 1349      7C7F00
 1350              		.section	.text.create_name,"ax",%progbits
 1351              		.align	1
 1352              		.syntax unified
 1353              		.code	16
 1354              		.thumb_func
 1356              	create_name:
 1357              	.LVL152:
 1358              	.LFB525:
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
2541:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2542:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
2543:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2544:Middlewares/Third_Party/FatFs/src/ff.c **** 
2545:Middlewares/Third_Party/FatFs/src/ff.c **** static
2546:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
2547:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
2548:Middlewares/Third_Party/FatFs/src/ff.c **** )
2549:Middlewares/Third_Party/FatFs/src/ff.c **** {
2550:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** 
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2556:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2557:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr)) {		/* Get DBC 2nd byte if needed */
2559:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
2563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2566:Middlewares/Third_Party/FatFs/src/ff.c **** }
2567:Middlewares/Third_Party/FatFs/src/ff.c **** 
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 
2569:Middlewares/Third_Party/FatFs/src/ff.c **** static
2570:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* 0:not matched, 1:matched */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** )
2576:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccVOuidm.s 			page 71


2577:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
2607:Middlewares/Third_Party/FatFs/src/ff.c **** }
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 
2609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 
2613:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a top segment and create the object name in directory form       */
2615:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 
2617:Middlewares/Third_Party/FatFs/src/ff.c **** static
2618:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2620:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** )
2622:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1359              		.loc 1 2622 1 is_stmt 1 view -0
 1360              		.cfi_startproc
 1361              		@ args = 0, pretend = 0, frame = 0
 1362              		@ frame_needed = 0, uses_anonymous_args = 0
 1363              		.loc 1 2622 1 is_stmt 0 view .LVU389
 1364 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1365              	.LCFI9:
 1366              		.cfi_def_cfa_offset 24
 1367              		.cfi_offset 3, -24
 1368              		.cfi_offset 4, -20
 1369              		.cfi_offset 5, -16
ARM GAS  /tmp/ccVOuidm.s 			page 72


 1370              		.cfi_offset 6, -12
 1371              		.cfi_offset 7, -8
 1372              		.cfi_offset 14, -4
 1373 0002 DE46     		mov	lr, fp
 1374 0004 5746     		mov	r7, r10
 1375 0006 4E46     		mov	r6, r9
 1376 0008 4546     		mov	r5, r8
 1377 000a E0B5     		push	{r5, r6, r7, lr}
 1378              	.LCFI10:
 1379              		.cfi_def_cfa_offset 40
 1380              		.cfi_offset 8, -40
 1381              		.cfi_offset 9, -36
 1382              		.cfi_offset 10, -32
 1383              		.cfi_offset 11, -28
 1384 000c 8146     		mov	r9, r0
 1385 000e 8A46     		mov	r10, r1
2623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; si = di = 0;
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b)) return FR_INVALID_NAME;	/* Reject invalid sequence */
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
2648:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) return FR_INVALID_NAME;	/* Reject illegal characters
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2654:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2655:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2656:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
2658:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)		/* Create dot name for SFN entry */
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2663:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccVOuidm.s 			page 73


2664:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Snip off trailing spaces and dots if exist */
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = b = 0; ni = 8;
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
2694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
2697:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* Is this DBC? (always false at SBCS cfg) */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2717:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccVOuidm.s 			page 74


2721:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2739:Middlewares/Third_Party/FatFs/src/ff.c **** 
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 
2741:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* _USE_LFN != 0 : Non-LFN configuration */
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, d, *sfn;
 1386              		.loc 1 2742 2 is_stmt 1 view .LVU390
2743:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
 1387              		.loc 1 2743 2 view .LVU391
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
 1388              		.loc 1 2744 2 view .LVU392
2745:Middlewares/Third_Party/FatFs/src/ff.c **** 
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; sfn = dp->fn;
 1389              		.loc 1 2747 2 view .LVU393
 1390              		.loc 1 2747 4 is_stmt 0 view .LVU394
 1391 0010 0F68     		ldr	r7, [r1]
 1392              	.LVL153:
 1393              		.loc 1 2747 13 is_stmt 1 view .LVU395
 1394              		.loc 1 2747 17 is_stmt 0 view .LVU396
 1395 0012 2423     		movs	r3, #36
 1396 0014 4B44     		add	r3, r3, r9
 1397 0016 9B46     		mov	fp, r3
 1398              	.LVL154:
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 1399              		.loc 1 2748 2 is_stmt 1 view .LVU397
 1400 0018 0B22     		movs	r2, #11
 1401 001a 2021     		movs	r1, #32
 1402              	.LVL155:
 1403              		.loc 1 2748 2 is_stmt 0 view .LVU398
 1404 001c 1800     		movs	r0, r3
 1405              	.LVL156:
 1406              		.loc 1 2748 2 view .LVU399
 1407 001e FFF7FEFF 		bl	mem_set
 1408              	.LVL157:
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 1409              		.loc 1 2749 2 is_stmt 1 view .LVU400
 1410              		.loc 1 2749 14 view .LVU401
 1411              		.loc 1 2749 9 is_stmt 0 view .LVU402
 1412 0022 0026     		movs	r6, #0
 1413              		.loc 1 2749 5 view .LVU403
ARM GAS  /tmp/ccVOuidm.s 			page 75


 1414 0024 0023     		movs	r3, #0
 1415              		.loc 1 2749 17 view .LVU404
 1416 0026 0822     		movs	r2, #8
 1417 0028 9046     		mov	r8, r2
 1418 002a 2FE0     		b	.L101
 1419              	.LVL158:
 1420              	.L106:
2750:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2755:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2757:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1421              		.loc 1 2767 42 is_stmt 1 discriminator 4 view .LVU405
 1422              		.loc 1 2767 44 is_stmt 0 discriminator 4 view .LVU406
 1423 002c 0135     		adds	r5, r5, #1
 1424              	.LVL159:
 1425              	.L105:
 1426              		.loc 1 2767 24 is_stmt 1 discriminator 1 view .LVU407
 1427              		.loc 1 2767 12 is_stmt 0 discriminator 1 view .LVU408
 1428 002e 7B5D     		ldrb	r3, [r7, r5]
 1429              		.loc 1 2767 24 discriminator 1 view .LVU409
 1430 0030 2F2B     		cmp	r3, #47
 1431 0032 FBD0     		beq	.L106
 1432              		.loc 1 2767 24 discriminator 3 view .LVU410
 1433 0034 5C2B     		cmp	r3, #92
 1434 0036 F9D0     		beq	.L106
 1435              	.L102:
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or over size? */
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
2776:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2778:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2779:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII only cfg) */
2781:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2782:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false at SBCS cfg.) */
ARM GAS  /tmp/ccVOuidm.s 			page 76


2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SFN */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2793:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = p + si;						/* Return pointer to the next segment */
 1436              		.loc 1 2795 2 is_stmt 1 view .LVU411
 1437              		.loc 1 2795 12 is_stmt 0 view .LVU412
 1438 0038 7F19     		adds	r7, r7, r5
 1439              	.LVL160:
 1440              		.loc 1 2795 8 view .LVU413
 1441 003a 5346     		mov	r3, r10
 1442 003c 1F60     		str	r7, [r3]
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
 1443              		.loc 1 2796 2 is_stmt 1 view .LVU414
 1444              		.loc 1 2796 5 is_stmt 0 view .LVU415
 1445 003e 002E     		cmp	r6, #0
 1446 0040 4BD0     		beq	.L118
 1447              	.LVL161:
2797:Middlewares/Third_Party/FatFs/src/ff.c **** 
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
 1448              		.loc 1 2798 2 is_stmt 1 view .LVU416
 1449              		.loc 1 2798 9 is_stmt 0 view .LVU417
 1450 0042 2423     		movs	r3, #36
 1451              	.LVL162:
 1452              		.loc 1 2798 9 view .LVU418
 1453 0044 4A46     		mov	r2, r9
 1454 0046 D35C     		ldrb	r3, [r2, r3]
 1455              		.loc 1 2798 5 view .LVU419
 1456 0048 E52B     		cmp	r3, #229
 1457 004a 3BD0     		beq	.L121
 1458              	.L113:
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1459              		.loc 1 2799 2 is_stmt 1 view .LVU420
 1460              		.loc 1 2799 14 is_stmt 0 view .LVU421
 1461 004c 202C     		cmp	r4, #32
 1462 004e 3ED8     		bhi	.L119
 1463              		.loc 1 2799 14 discriminator 1 view .LVU422
 1464 0050 0422     		movs	r2, #4
 1465              	.L114:
 1466              		.loc 1 2799 14 discriminator 4 view .LVU423
 1467 0052 2F23     		movs	r3, #47
 1468 0054 4946     		mov	r1, r9
 1469 0056 CA54     		strb	r2, [r1, r3]
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 1470              		.loc 1 2801 2 is_stmt 1 view .LVU424
 1471              		.loc 1 2801 9 is_stmt 0 view .LVU425
 1472 0058 0020     		movs	r0, #0
 1473 005a 29E0     		b	.L109
 1474              	.LVL163:
 1475              	.L123:
ARM GAS  /tmp/ccVOuidm.s 			page 77


2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 1476              		.loc 1 2772 6 view .LVU426
 1477 005c 0826     		movs	r6, #8
 1478              	.LVL164:
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 1479              		.loc 1 2772 14 view .LVU427
 1480 005e 0B23     		movs	r3, #11
 1481              	.LVL165:
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 1482              		.loc 1 2772 14 view .LVU428
 1483 0060 9846     		mov	r8, r3
 1484              	.LVL166:
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 1485              		.loc 1 2772 14 view .LVU429
 1486 0062 12E0     		b	.L110
 1487              	.LVL167:
 1488              	.L108:
2775:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1489              		.loc 1 2775 3 is_stmt 1 view .LVU430
2775:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1490              		.loc 1 2775 9 is_stmt 0 view .LVU431
 1491 0064 63B2     		sxtb	r3, r4
2775:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1492              		.loc 1 2775 6 view .LVU432
 1493 0066 002B     		cmp	r3, #0
 1494 0068 28DB     		blt	.L122
 1495              	.LVL168:
 1496              	.L111:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
 1497              		.loc 1 2784 3 is_stmt 1 view .LVU433
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1498              		.loc 1 2790 4 view .LVU434
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1499              		.loc 1 2790 8 is_stmt 0 view .LVU435
 1500 006a 1D48     		ldr	r0, .L124
 1501 006c 2100     		movs	r1, r4
 1502 006e FFF7FEFF 		bl	chk_chr
 1503              	.LVL169:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1504              		.loc 1 2790 7 discriminator 1 view .LVU436
 1505 0072 0028     		cmp	r0, #0
 1506 0074 2FD1     		bne	.L117
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1507              		.loc 1 2791 4 is_stmt 1 view .LVU437
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1508              		.loc 1 2791 8 is_stmt 0 view .LVU438
 1509 0076 2300     		movs	r3, r4
 1510 0078 613B     		subs	r3, r3, #97
 1511 007a DBB2     		uxtb	r3, r3
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1512              		.loc 1 2791 7 view .LVU439
 1513 007c 192B     		cmp	r3, #25
 1514 007e 01D8     		bhi	.L112
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1515              		.loc 1 2791 20 is_stmt 1 discriminator 1 view .LVU440
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1516              		.loc 1 2791 22 is_stmt 0 discriminator 1 view .LVU441
ARM GAS  /tmp/ccVOuidm.s 			page 78


 1517 0080 203C     		subs	r4, r4, #32
 1518              	.LVL170:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1519              		.loc 1 2791 22 discriminator 1 view .LVU442
 1520 0082 E4B2     		uxtb	r4, r4
 1521              	.LVL171:
 1522              	.L112:
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1523              		.loc 1 2792 4 is_stmt 1 view .LVU443
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1524              		.loc 1 2792 13 is_stmt 0 view .LVU444
 1525 0084 5B46     		mov	r3, fp
 1526 0086 9C55     		strb	r4, [r3, r6]
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1527              		.loc 1 2792 9 view .LVU445
 1528 0088 0136     		adds	r6, r6, #1
 1529              	.LVL172:
 1530              	.L110:
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1531              		.loc 1 2792 9 view .LVU446
 1532 008a 2B00     		movs	r3, r5
 1533              	.LVL173:
 1534              	.L101:
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
 1535              		.loc 1 2763 2 is_stmt 1 view .LVU447
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 1536              		.loc 1 2764 3 view .LVU448
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 1537              		.loc 1 2764 17 is_stmt 0 view .LVU449
 1538 008c 5D1C     		adds	r5, r3, #1
 1539              	.LVL174:
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 1540              		.loc 1 2764 5 view .LVU450
 1541 008e FC5C     		ldrb	r4, [r7, r3]
 1542              	.LVL175:
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
 1543              		.loc 1 2765 3 is_stmt 1 view .LVU451
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
 1544              		.loc 1 2765 6 is_stmt 0 view .LVU452
 1545 0090 202C     		cmp	r4, #32
 1546 0092 D1D9     		bls	.L102
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1547              		.loc 1 2766 3 is_stmt 1 view .LVU453
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1548              		.loc 1 2766 6 is_stmt 0 view .LVU454
 1549 0094 2F2C     		cmp	r4, #47
 1550 0096 CAD0     		beq	.L105
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1551              		.loc 1 2766 16 discriminator 1 view .LVU455
 1552 0098 5C2C     		cmp	r4, #92
 1553 009a C8D0     		beq	.L105
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
 1554              		.loc 1 2770 3 is_stmt 1 view .LVU456
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
 1555              		.loc 1 2770 6 is_stmt 0 view .LVU457
 1556 009c 2E2C     		cmp	r4, #46
 1557 009e 01D0     		beq	.L107
ARM GAS  /tmp/ccVOuidm.s 			page 79


2770:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
 1558              		.loc 1 2770 16 discriminator 1 view .LVU458
 1559 00a0 B045     		cmp	r8, r6
 1560 00a2 DFD8     		bhi	.L108
 1561              	.L107:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1562              		.loc 1 2771 4 is_stmt 1 view .LVU459
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1563              		.loc 1 2771 7 is_stmt 0 view .LVU460
 1564 00a4 4346     		mov	r3, r8
 1565 00a6 0B2B     		cmp	r3, #11
 1566 00a8 13D0     		beq	.L115
 1567              	.LVL176:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1568              		.loc 1 2771 17 discriminator 2 view .LVU461
 1569 00aa 2E2C     		cmp	r4, #46
 1570 00ac D6D0     		beq	.L123
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1571              		.loc 1 2771 37 discriminator 3 view .LVU462
 1572 00ae 0620     		movs	r0, #6
 1573              	.LVL177:
 1574              	.L109:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LFN != 0 */
2803:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1575              		.loc 1 2803 1 view .LVU463
 1576              		@ sp needed
 1577              	.LVL178:
 1578              	.LVL179:
 1579              	.LVL180:
 1580              	.LVL181:
 1581              	.LVL182:
 1582              	.LVL183:
 1583              	.LVL184:
 1584              		.loc 1 2803 1 view .LVU464
 1585 00b0 F0BC     		pop	{r4, r5, r6, r7}
 1586 00b2 BB46     		mov	fp, r7
 1587 00b4 B246     		mov	r10, r6
 1588 00b6 A946     		mov	r9, r5
 1589 00b8 A046     		mov	r8, r4
 1590 00ba F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1591              	.LVL185:
 1592              	.L122:
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1593              		.loc 1 2777 4 is_stmt 1 view .LVU465
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1594              		.loc 1 2777 16 is_stmt 0 view .LVU466
 1595 00bc 803C     		subs	r4, r4, #128
 1596              	.LVL186:
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1597              		.loc 1 2777 6 view .LVU467
 1598 00be 094B     		ldr	r3, .L124+4
 1599              	.LVL187:
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1600              		.loc 1 2777 6 view .LVU468
 1601 00c0 1C5D     		ldrb	r4, [r3, r4]
 1602              	.LVL188:
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/ccVOuidm.s 			page 80


 1603              		.loc 1 2777 6 view .LVU469
 1604 00c2 D2E7     		b	.L111
 1605              	.LVL189:
 1606              	.L121:
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1607              		.loc 1 2798 22 is_stmt 1 discriminator 1 view .LVU470
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1608              		.loc 1 2798 29 is_stmt 0 discriminator 1 view .LVU471
 1609 00c4 C13B     		subs	r3, r3, #193
 1610 00c6 0522     		movs	r2, #5
 1611              	.LVL190:
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1612              		.loc 1 2798 29 discriminator 1 view .LVU472
 1613 00c8 4946     		mov	r1, r9
 1614 00ca CA54     		strb	r2, [r1, r3]
 1615 00cc BEE7     		b	.L113
 1616              	.L119:
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1617              		.loc 1 2799 14 discriminator 2 view .LVU473
 1618 00ce 0022     		movs	r2, #0
 1619 00d0 BFE7     		b	.L114
 1620              	.LVL191:
 1621              	.L115:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1622              		.loc 1 2771 37 discriminator 3 view .LVU474
 1623 00d2 0620     		movs	r0, #6
 1624 00d4 ECE7     		b	.L109
 1625              	.LVL192:
 1626              	.L117:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1627              		.loc 1 2790 50 discriminator 1 view .LVU475
 1628 00d6 0620     		movs	r0, #6
 1629 00d8 EAE7     		b	.L109
 1630              	.LVL193:
 1631              	.L118:
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1632              		.loc 1 2796 21 discriminator 1 view .LVU476
 1633 00da 0620     		movs	r0, #6
 1634 00dc E8E7     		b	.L109
 1635              	.L125:
 1636 00de C046     		.align	2
 1637              	.L124:
 1638 00e0 00000000 		.word	.LC6
 1639 00e4 00000000 		.word	ExCvt
 1640              		.cfi_endproc
 1641              	.LFE525:
 1643              		.section	.text.get_ldnumber,"ax",%progbits
 1644              		.align	1
 1645              		.syntax unified
 1646              		.code	16
 1647              		.thumb_func
 1649              	get_ldnumber:
 1650              	.LVL194:
 1651              	.LFB527:
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 
2806:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 81


2807:Middlewares/Third_Party/FatFs/src/ff.c **** 
2808:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2809:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2810:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 
2812:Middlewares/Third_Party/FatFs/src/ff.c **** static
2813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2815:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2816:Middlewares/Third_Party/FatFs/src/ff.c **** )
2817:Middlewares/Third_Party/FatFs/src/ff.c **** {
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path != '/' && *path != '\\') {	/* Without heading separator */
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2828:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 	{										/* With heading separator */
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*path == '/' || *path == '\\') path++;	/* Strip heading separator */
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2833:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj->n_frag = 0;	/* Invalidate last fragment counter of the object */
2835:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2836:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT && obj->sclust) {	/* Retrieve the sub-directory status if needed */
2837:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_scl = fs->cdc_scl;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_size = fs->cdc_size;
2841:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_ofs = fs->cdc_ofs;
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_obj_dir(&dj, obj);
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2846:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2847:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2848:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
ARM GAS  /tmp/ccVOuidm.s 			page 82


2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(obj->attr & AM_DIR)) {		/* It is not a sub-directory and cannot follow */
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2877:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2878:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {		/* Save containing directory information for next dir */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_scl = obj->sclust;
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
2881:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_ofs = dp->blk_ofs;
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Open next directory */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
2886:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2894:Middlewares/Third_Party/FatFs/src/ff.c **** }
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 
2899:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2900:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2901:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 
2903:Middlewares/Third_Party/FatFs/src/ff.c **** static
2904:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** )
2907:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1652              		.loc 1 2907 1 is_stmt 1 view -0
 1653              		.cfi_startproc
 1654              		@ args = 0, pretend = 0, frame = 0
 1655              		@ frame_needed = 0, uses_anonymous_args = 0
 1656              		.loc 1 2907 1 is_stmt 0 view .LVU478
 1657 0000 10B5     		push	{r4, lr}
 1658              	.LCFI11:
 1659              		.cfi_def_cfa_offset 8
 1660              		.cfi_offset 4, -8
 1661              		.cfi_offset 14, -4
 1662 0002 0100     		movs	r1, r0
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1663              		.loc 1 2908 2 is_stmt 1 view .LVU479
ARM GAS  /tmp/ccVOuidm.s 			page 83


2909:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1664              		.loc 1 2909 2 view .LVU480
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1665              		.loc 1 2910 2 view .LVU481
 1666              	.LVL195:
2911:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const volid[] = {_VOLUME_STRS};
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2916:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1667              		.loc 1 2919 2 view .LVU482
 1668              		.loc 1 2919 6 is_stmt 0 view .LVU483
 1669 0004 0068     		ldr	r0, [r0]
 1670              	.LVL196:
 1671              		.loc 1 2919 5 view .LVU484
 1672 0006 0028     		cmp	r0, #0
 1673 0008 07D0     		beq	.L137
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1674              		.loc 1 2920 11 view .LVU485
 1675 000a 0200     		movs	r2, r0
 1676              	.L127:
 1677              	.LVL197:
 1678              		.loc 1 2920 56 is_stmt 1 discriminator 1 view .LVU486
 1679              		.loc 1 2920 26 is_stmt 0 discriminator 1 view .LVU487
 1680 000c 1378     		ldrb	r3, [r2]
 1681              		.loc 1 2920 56 discriminator 1 view .LVU488
 1682 000e 202B     		cmp	r3, #32
 1683 0010 05D9     		bls	.L129
 1684              		.loc 1 2920 56 discriminator 3 view .LVU489
 1685 0012 3A2B     		cmp	r3, #58
 1686 0014 03D0     		beq	.L129
 1687              		.loc 1 2920 73 is_stmt 1 discriminator 4 view .LVU490
 1688 0016 0132     		adds	r2, r2, #1
 1689              	.LVL198:
 1690              		.loc 1 2920 73 is_stmt 0 discriminator 4 view .LVU491
 1691 0018 F8E7     		b	.L127
 1692              	.LVL199:
 1693              	.L137:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1694              		.loc 1 2910 6 view .LVU492
 1695 001a 0138     		subs	r0, r0, #1
 1696 001c 02E0     		b	.L126
 1697              	.LVL200:
 1698              	.L129:
2921:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1699              		.loc 1 2921 3 is_stmt 1 view .LVU493
 1700              		.loc 1 2921 6 is_stmt 0 view .LVU494
 1701 001e 3A2B     		cmp	r3, #58
 1702 0020 01D0     		beq	.L138
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0';
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
ARM GAS  /tmp/ccVOuidm.s 			page 84


2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2928:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2930:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = volid[i]; tp = *path;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2937:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2940:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2944:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2947:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2948:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1703              		.loc 1 2951 7 view .LVU495
 1704 0022 0020     		movs	r0, #0
 1705              	.LVL201:
 1706              	.L126:
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2954:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2955:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1707              		.loc 1 2955 1 view .LVU496
 1708              		@ sp needed
 1709 0024 10BD     		pop	{r4, pc}
 1710              	.LVL202:
 1711              	.L138:
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1712              		.loc 1 2922 4 is_stmt 1 view .LVU497
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1713              		.loc 1 2923 4 view .LVU498
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1714              		.loc 1 2923 11 is_stmt 0 view .LVU499
 1715 0026 431C     		adds	r3, r0, #1
 1716              	.LVL203:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1717              		.loc 1 2923 8 view .LVU500
 1718 0028 0078     		ldrb	r0, [r0]
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1719              		.loc 1 2923 14 view .LVU501
 1720 002a 3038     		subs	r0, r0, #48
 1721              	.LVL204:
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1722              		.loc 1 2924 4 is_stmt 1 view .LVU502
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
ARM GAS  /tmp/ccVOuidm.s 			page 85


 1723              		.loc 1 2924 7 is_stmt 0 view .LVU503
 1724 002c 0928     		cmp	r0, #9
 1725 002e 09D8     		bhi	.L134
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1726              		.loc 1 2924 15 discriminator 1 view .LVU504
 1727 0030 9A42     		cmp	r2, r3
 1728 0032 02D0     		beq	.L139
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1729              		.loc 1 2910 6 view .LVU505
 1730 0034 0120     		movs	r0, #1
 1731              	.LVL205:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1732              		.loc 1 2910 6 view .LVU506
 1733 0036 4042     		rsbs	r0, r0, #0
 1734 0038 F4E7     		b	.L126
 1735              	.LVL206:
 1736              	.L139:
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1737              		.loc 1 2925 5 is_stmt 1 view .LVU507
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1738              		.loc 1 2925 8 is_stmt 0 view .LVU508
 1739 003a 0028     		cmp	r0, #0
 1740 003c 05D1     		bne	.L136
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1741              		.loc 1 2926 6 is_stmt 1 view .LVU509
 1742              	.LVL207:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1743              		.loc 1 2927 6 view .LVU510
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1744              		.loc 1 2927 12 is_stmt 0 view .LVU511
 1745 003e 0132     		adds	r2, r2, #1
 1746              	.LVL208:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1747              		.loc 1 2927 12 view .LVU512
 1748 0040 0A60     		str	r2, [r1]
 1749 0042 EFE7     		b	.L126
 1750              	.LVL209:
 1751              	.L134:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1752              		.loc 1 2910 6 view .LVU513
 1753 0044 0120     		movs	r0, #1
 1754              	.LVL210:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1755              		.loc 1 2910 6 view .LVU514
 1756 0046 4042     		rsbs	r0, r0, #0
 1757 0048 ECE7     		b	.L126
 1758              	.LVL211:
 1759              	.L136:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1760              		.loc 1 2910 6 view .LVU515
 1761 004a 0120     		movs	r0, #1
 1762              	.LVL212:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1763              		.loc 1 2910 6 view .LVU516
 1764 004c 4042     		rsbs	r0, r0, #0
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1765              		.loc 1 2946 4 is_stmt 1 view .LVU517
ARM GAS  /tmp/ccVOuidm.s 			page 86


2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1766              		.loc 1 2946 11 is_stmt 0 view .LVU518
 1767 004e E9E7     		b	.L126
 1768              		.cfi_endproc
 1769              	.LFE527:
 1771              		.section	.text.putc_init,"ax",%progbits
 1772              		.align	1
 1773              		.syntax unified
 1774              		.code	16
 1775              		.thumb_func
 1777              	putc_init:
 1778              	.LVL213:
 1779              	.LFB551:
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2961:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2962:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2963:Middlewares/Third_Party/FatFs/src/ff.c **** 
2964:Middlewares/Third_Party/FatFs/src/ff.c **** static
2965:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT, 1:exFAT, 2:Valid BS but not FAT, 3:Not a BS, 4:Disk error */
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2967:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to load and check if it is an FAT-VBR or not */
2968:Middlewares/Third_Party/FatFs/src/ff.c **** )
2969:Middlewares/Third_Party/FatFs/src/ff.c **** {
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
2972:Middlewares/Third_Party/FatFs/src/ff.c **** 
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(fs->win + BS_55AA) != 0xAA55) return 3;	/* Check boot record signature (always placed 
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->win[BS_JmpBoot] == 0xE9 || (fs->win[BS_JmpBoot] == 0xEB && fs->win[BS_JmpBoot + 2] == 0x90
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2979:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!mem_cmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;
2981:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 2;
2983:Middlewares/Third_Party/FatFs/src/ff.c **** }
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** 
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 
2988:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2989:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2990:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 
2992:Middlewares/Third_Party/FatFs/src/ff.c **** static
2993:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* !=0: Check write protection for write access */
2997:Middlewares/Third_Party/FatFs/src/ff.c **** )
2998:Middlewares/Third_Party/FatFs/src/ff.c **** {
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
ARM GAS  /tmp/ccVOuidm.s 			page 87


3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
3019:Middlewares/Third_Party/FatFs/src/ff.c **** 
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3043:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS					/* Get sector size (multiple sector size cfg only) */
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning rules, FDISK and SFD. */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3056:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);					/* Partition number: 0:auto, 1-4:forced */
ARM GAS  /tmp/ccVOuidm.s 			page 88


3057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {							/* Find an FAT volume */
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
3062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the file system object */
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 
3068:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1) {
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 		QWORD maxlba;
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3074:Middlewares/Third_Party/FatFs/src/ff.c **** 
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT revision (Mu
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 
3077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_NO_FILESYSTEM;
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA + 1 of the volume */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be handled in 32-bit LBA) */
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768) */
3091:Middlewares/Third_Party/FatFs/src/ff.c **** 
3092:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3097:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;
3098:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3099:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3100:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3102:Middlewares/Third_Party/FatFs/src/ff.c **** 
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Check if bitmap location is in assumption (at the first cluster) */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, clust2sect(fs, fs->dirbase)) != FR_OK) return FR_DISK_ERR;
3105:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < SS(fs); i += SZDIRE) {
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->win[i] == 0x81 && ld_dword(fs->win + i + 20) == 2) break;	/* 81 entry with cluster #2? *
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == SS(fs)) return FR_NO_FILESYSTEM;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
ARM GAS  /tmp/ccVOuidm.s 			page 89


3114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine the FAT sub type */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
3157:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;/* (BPB_RootEntCnt must not be 0) */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3166:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get FSINFO if available */
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
3169:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo32 == 1 */
ARM GAS  /tmp/ccVOuidm.s 			page 90


3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
3181:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3182:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
3184:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3187:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* (_FS_NOFSINFO & 3) != 3 */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;		/* FAT sub-type */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
3197:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3198:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3199:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
3200:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3202:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0			/* Clear file lock semaphores */
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3205:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3206:Middlewares/Third_Party/FatFs/src/ff.c **** }
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 
3211:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3212:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
3213:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 
3215:Middlewares/Third_Party/FatFs/src/ff.c **** static
3216:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,		/* Pointer to the _OBJ, the 1st member in the FIL/DIR object, to check validity */
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fs		/* Pointer to pointer to the owner file system object to return */
3219:Middlewares/Third_Party/FatFs/src/ff.c **** )
3220:Middlewares/Third_Party/FatFs/src/ff.c **** {
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
3225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
ARM GAS  /tmp/ccVOuidm.s 			page 91


3228:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3229:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3230:Middlewares/Third_Party/FatFs/src/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_TIMEOUT;
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3235:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialized
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	*fs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
3242:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3243:Middlewares/Third_Party/FatFs/src/ff.c **** }
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 
3247:Middlewares/Third_Party/FatFs/src/ff.c **** 
3248:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------------------------------------
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions (FatFs API)
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
3252:Middlewares/Third_Party/FatFs/src/ff.c **** ----------------------------------------------------------------------------*/
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** 
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* Mode option 0:Do not mount (delayed mount), 1:Mount immediately */
3264:Middlewares/Third_Party/FatFs/src/ff.c **** )
3265:Middlewares/Third_Party/FatFs/src/ff.c **** {
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
3278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
3280:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3281:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3283:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
ARM GAS  /tmp/ccVOuidm.s 			page 92


3285:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3291:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);	/* Force mounted the volume */
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3299:Middlewares/Third_Party/FatFs/src/ff.c **** }
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 
3304:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3305:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
3306:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
3308:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
3312:Middlewares/Third_Party/FatFs/src/ff.c **** )
3313:Middlewares/Third_Party/FatFs/src/ff.c **** {
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3316:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3317:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl, bcs, clst, sc;
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
3320:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
3325:Middlewares/Third_Party/FatFs/src/ff.c **** 
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= _FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN_A
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3332:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccVOuidm.s 			page 93


3342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3344:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
3348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
3350:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3351:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
3352:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
3365:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get current allocation info */
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.fs = fs;
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.n_frag = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Initialize directory entry block */
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, dw);	/* Set created time */
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_CrtTime10] = 0;
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, dw);	/* Set modified time */
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_ModTime10] = 0;
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;				/* Reset attribute */
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, 0);		/* Reset file allocation info */
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_FileSize, 0);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_ValidFileSize, 0);
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK && fp->obj.sclust) {		/* Remove the cluster chain if exist */
3385:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
3386:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3387:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3388:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
3389:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3390:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean directory info */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, dw);	/* Set created time */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
ARM GAS  /tmp/ccVOuidm.s 			page 94


3399:Middlewares/Third_Party/FatFs/src/ff.c **** 
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cl) {							/* Remove the cluster chain if exist */
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3408:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Following succeeded */
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* R/O violation */
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
3427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
3430:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3431:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3432:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* R/O configuration */
3433:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3437:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3438:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3439:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3440:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3442:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3445:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
ARM GAS  /tmp/ccVOuidm.s 			page 95


3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;			/* Disable fast seek mode */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.fs = fs;	 	/* Validate the file object */
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
3468:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3469:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fp->buf, 0, _MAX_SS);	/* Clear sector buffer */
3471:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
3487:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_read(fs->drv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
3489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3493:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3502:Middlewares/Third_Party/FatFs/src/ff.c **** }
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 
3507:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3508:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
3509:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 
3511:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 	/* Pointer to the file object */
ARM GAS  /tmp/ccVOuidm.s 			page 96


3513:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,	/* Pointer to data buffer */
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,	/* Number of bytes to read */
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br	/* Pointer to number of bytes read */
3516:Middlewares/Third_Party/FatFs/src/ff.c **** )
3517:Middlewares/Third_Party/FatFs/src/ff.c **** {
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
3540:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
3541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3544:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3546:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3563:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
3564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3568:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
ARM GAS  /tmp/ccVOuidm.s 			page 97


3570:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3572:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3578:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
3579:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
3592:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3595:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3596:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3597:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3598:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3601:Middlewares/Third_Party/FatFs/src/ff.c **** }
3602:Middlewares/Third_Party/FatFs/src/ff.c **** 
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 
3606:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3607:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3608:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
3609:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void* buff,	/* Pointer to the data to be written */
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** )
3617:Middlewares/Third_Party/FatFs/src/ff.c **** {
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
ARM GAS  /tmp/ccVOuidm.s 			page 98


3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4GiB on FATxx) */
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((!_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* On the middle or end of the file */
3646:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3661:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
3663:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3667:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3668:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 0;
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccVOuidm.s 			page 99


3684:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3690:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3694:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->winsect = sect;
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3705:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
3710:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
3714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
3717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3723:Middlewares/Third_Party/FatFs/src/ff.c **** }
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 
3728:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3729:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
3730:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 
3732:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3734:Middlewares/Third_Party/FatFs/src/ff.c **** )
3735:Middlewares/Third_Party/FatFs/src/ff.c **** {
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3739:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3740:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
ARM GAS  /tmp/ccVOuidm.s 			page 100


3741:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3747:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
3748:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3753:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 					INIT_NAMBUF(fs);
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_obj_dir(&dj, &fp->obj);	/* Load directory entry block */
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive bit */
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation info */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = sync_fs(fs);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 					FREE_NAMBUF();
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3782:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3784:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, fp->dir_sect);
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccVOuidm.s 			page 101


3798:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3802:Middlewares/Third_Party/FatFs/src/ff.c **** }
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 
3804:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 
3806:Middlewares/Third_Party/FatFs/src/ff.c **** 
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 
3808:Middlewares/Third_Party/FatFs/src/ff.c **** 
3809:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3810:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 
3813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object to be closed */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** )
3816:Middlewares/Third_Party/FatFs/src/ff.c **** {
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 
3820:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3823:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3827:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->obj.lockid);	/* Decrement file open counter */
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
3830:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.fs = 0;			/* Invalidate file object */
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3834:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
3836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3840:Middlewares/Third_Party/FatFs/src/ff.c **** }
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 
3845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3847:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
3848:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 
3850:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3851:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
3853:Middlewares/Third_Party/FatFs/src/ff.c **** )
3854:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccVOuidm.s 			page 102


3855:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
3860:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3861:Middlewares/Third_Party/FatFs/src/ff.c **** 
3862:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3865:Middlewares/Third_Party/FatFs/src/ff.c **** }
3866:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3867:Middlewares/Third_Party/FatFs/src/ff.c **** 
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 
3869:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3871:Middlewares/Third_Party/FatFs/src/ff.c **** )
3872:Middlewares/Third_Party/FatFs/src/ff.c **** {
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
3887:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_size = dj.obj.c_size;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
3896:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
3899:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3901:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
3902:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3907:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3908:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3909:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3910:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccVOuidm.s 			page 103


3912:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 
3916:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3917:Middlewares/Third_Party/FatFs/src/ff.c **** }
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 
3920:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3921:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3923:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3924:Middlewares/Third_Party/FatFs/src/ff.c **** )
3925:Middlewares/Third_Party/FatFs/src/ff.c **** {
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (n) buff[--i] = fno.fname[--n];
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccVOuidm.s 			page 104


3969:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3972:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3974:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3975:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3979:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3981:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3982:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3989:Middlewares/Third_Party/FatFs/src/ff.c **** }
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 
3996:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3997:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3998:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 
4001:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
4002:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
4004:Middlewares/Third_Party/FatFs/src/ff.c **** )
4005:Middlewares/Third_Party/FatFs/src/ff.c **** {
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
4017:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4018:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4020:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 
4023:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
ARM GAS  /tmp/ccVOuidm.s 			page 105


4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
4059:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4060:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4066:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fs->drv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current sec
4067:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sect = dsc;
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4072:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4077:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4GiB-1 if at FATx
4079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->obj.objsize && (_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, cl
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccVOuidm.s 			page 106


4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
4094:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4101:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
4107:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag |= FA_MODIFIED;
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4118:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
4125:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
4131:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4132:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4133:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_READONLY && fp->fptr > fp->obj.objsize) {		/* Set file change flag if the file size is e
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
4139:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
ARM GAS  /tmp/ccVOuidm.s 			page 107


4140:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
4147:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = nsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4153:Middlewares/Third_Party/FatFs/src/ff.c **** }
4154:Middlewares/Third_Party/FatFs/src/ff.c **** 
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 
4156:Middlewares/Third_Party/FatFs/src/ff.c **** 
4157:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
4158:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4159:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 
4162:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4165:Middlewares/Third_Party/FatFs/src/ff.c **** )
4166:Middlewares/Third_Party/FatFs/src/ff.c **** {
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj = &dp->obj;
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_scl = obj->sclust;							/* Get containing directory inforamation */
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_ofs = dp->blk_ofs;
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4194:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
ARM GAS  /tmp/ccVOuidm.s 			page 108


4197:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* This object is a file */
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
4205:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = 0;	/* Root directory need not to be locked */
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4214:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) obj->fs = 0;		/* Invalidate the directory object if function faild */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4223:Middlewares/Third_Party/FatFs/src/ff.c **** }
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 
4228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4229:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 
4232:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4234:Middlewares/Third_Party/FatFs/src/ff.c **** )
4235:Middlewares/Third_Party/FatFs/src/ff.c **** {
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);			/* Check validity of the file object */
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4242:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.lockid) {				/* Decrement sub-directory open counter */
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
4247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.fs = 0;			/* Invalidate directory object */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4253:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccVOuidm.s 			page 109


4254:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4256:Middlewares/Third_Party/FatFs/src/ff.c **** }
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 
4261:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4262:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
4263:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 
4265:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** )
4269:Middlewares/Third_Party/FatFs/src/ff.c **** {
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_NAMBUF(fs);
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_NAMBUF();
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4292:Middlewares/Third_Party/FatFs/src/ff.c **** }
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 
4296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
4297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find Next File                                                        */
4299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 
4301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** )
4305:Middlewares/Third_Party/FatFs/src/ff.c **** {
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
ARM GAS  /tmp/ccVOuidm.s 			page 110


4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;		/* Test for the file name */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && _USE_FIND == 2
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->altname, 0, 0)) break;	/* Test for alternative name if exist *
4315:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4318:Middlewares/Third_Party/FatFs/src/ff.c **** }
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 
4322:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4323:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find First File                                                       */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** )
4332:Middlewares/Third_Party/FatFs/src/ff.c **** {
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** }
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 
4344:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 
4348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
4349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4350:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
4351:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 
4353:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4356:Middlewares/Third_Party/FatFs/src/ff.c **** )
4357:Middlewares/Third_Party/FatFs/src/ff.c **** {
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4361:Middlewares/Third_Party/FatFs/src/ff.c **** 
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &dj.obj.fs, 0);
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
ARM GAS  /tmp/ccVOuidm.s 			page 111


4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
4379:Middlewares/Third_Party/FatFs/src/ff.c **** }
4380:Middlewares/Third_Party/FatFs/src/ff.c **** 
4381:Middlewares/Third_Party/FatFs/src/ff.c **** 
4382:Middlewares/Third_Party/FatFs/src/ff.c **** 
4383:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4384:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4385:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 
4388:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
4389:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
4392:Middlewares/Third_Party/FatFs/src/ff.c **** )
4393:Middlewares/Third_Party/FatFs/src/ff.c **** {
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			nfree = 0;
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4421:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan bitmap table */
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 					BYTE bm;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 					UINT b;
ARM GAS  /tmp/ccVOuidm.s 			page 112


4425:Middlewares/Third_Party/FatFs/src/ff.c **** 
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent - 2;
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 					sect = fs->database;
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0;
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0 && (res = move_window(fs, sect++)) != FR_OK) break;
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!(bm & 1)) nfree++;
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 							bm >>= 1;
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = (i + 1) % SS(fs);
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (clst);
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 				{	/* FAT16/32: Sector alighed FAT entries */
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent; sect = fs->fatbase;
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_FAT16) {
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
4452:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							if ((ld_dword(p) & 0x0FFFFFFF) == 0) nfree++;
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
4455:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (--clst);
4457:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = nfree;			/* Return the free clusters */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4466:Middlewares/Third_Party/FatFs/src/ff.c **** }
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 
4470:Middlewares/Third_Party/FatFs/src/ff.c **** 
4471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
4473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 
4475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** )
4478:Middlewares/Third_Party/FatFs/src/ff.c **** {
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
ARM GAS  /tmp/ccVOuidm.s 			page 113


4482:Middlewares/Third_Party/FatFs/src/ff.c **** 
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current R/W point */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
4503:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4511:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
4513:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4516:Middlewares/Third_Party/FatFs/src/ff.c **** }
4517:Middlewares/Third_Party/FatFs/src/ff.c **** 
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 
4521:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4522:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File/Directory                                               */
4523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 
4525:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4527:Middlewares/Third_Party/FatFs/src/ff.c **** )
4528:Middlewares/Third_Party/FatFs/src/ff.c **** {
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
4532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4534:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4535:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4536:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 114


4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4548:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
4550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_RDO) {
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4559:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj.fs = fs;
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.sclust = dclst = ld_dword(fs->dirbuf + XDIR_FstClus);
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 					dclst = ld_clust(fs, dj.dir);
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == fs->cdir) {		 		/* Is it the current directory? */
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4576:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.fs = fs;						/* Open the sub-directory */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
4580:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.objsize = obj.objsize;
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.stat = obj.stat;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 0);
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
ARM GAS  /tmp/ccVOuidm.s 			page 115


4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
4598:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4599:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4600:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
4602:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4603:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4611:Middlewares/Third_Party/FatFs/src/ff.c **** }
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 
4616:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4617:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
4618:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
4622:Middlewares/Third_Party/FatFs/src/ff.c **** )
4623:Middlewares/Third_Party/FatFs/src/ff.c **** {
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
4630:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
ARM GAS  /tmp/ccVOuidm.s 			page 116


4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)dj.obj.objsize);	/* File size needs to be valid */
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)dj.obj.objsize);
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag (contiguous) */
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = dj.dir;
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(&dj.obj, dcl, 0);		/* Could not register, remove cluster chain */
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4708:Middlewares/Third_Party/FatFs/src/ff.c **** }
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 117


4710:Middlewares/Third_Party/FatFs/src/ff.c **** 
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 
4713:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename a File/Directory                                               */
4715:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 
4717:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
4720:Middlewares/Third_Party/FatFs/src/ff.c **** )
4721:Middlewares/Third_Party/FatFs/src/ff.c **** {
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	get_ldnumber(&path_new);						/* Snip drive number of new name off */
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
4737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4741:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Object to be renamed is found */
4743:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT */
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 				BYTE nf, nn;
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 				WORD nh;
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
4749:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof djo);
4750:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4751:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4752:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4753:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4754:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4755:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4756:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4757:Middlewares/Third_Party/FatFs/src/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
4758:Middlewares/Third_Party/FatFs/src/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
4759:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(fs->dirbuf, buf, SZDIRE * 2);
4760:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
4761:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
4762:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4763:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&djn);
4764:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4765:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
ARM GAS  /tmp/ccVOuidm.s 			page 118


4767:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4768:Middlewares/Third_Party/FatFs/src/ff.c **** 			{	/* At FAT12/FAT16/FAT32 */
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about the object except name */
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4774:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
4786:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
4787:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(fs, dw);
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
4793:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
4794:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
4795:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4796:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4797:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4798:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4803:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4804:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4805:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of the critical section */
4806:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4808:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4809:Middlewares/Third_Party/FatFs/src/ff.c **** 
4810:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4811:Middlewares/Third_Party/FatFs/src/ff.c **** }
4812:Middlewares/Third_Party/FatFs/src/ff.c **** 
4813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4814:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
4815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
4816:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
4817:Middlewares/Third_Party/FatFs/src/ff.c **** 
4818:Middlewares/Third_Party/FatFs/src/ff.c **** 
4819:Middlewares/Third_Party/FatFs/src/ff.c **** 
4820:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_CHMOD && !_FS_READONLY
4821:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
4823:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccVOuidm.s 			page 119


4824:Middlewares/Third_Party/FatFs/src/ff.c **** 
4825:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
4826:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4827:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
4828:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
4829:Middlewares/Third_Party/FatFs/src/ff.c **** )
4830:Middlewares/Third_Party/FatFs/src/ff.c **** {
4831:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4832:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4834:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4835:Middlewares/Third_Party/FatFs/src/ff.c **** 
4836:Middlewares/Third_Party/FatFs/src/ff.c **** 
4837:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4838:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4839:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4840:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4841:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4842:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4844:Middlewares/Third_Party/FatFs/src/ff.c **** 			mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
4845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4846:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4847:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->dirbuf[XDIR_Attr] = (attr & mask) | (fs->dirbuf[XDIR_Attr] & (BYTE)~mask);	/* Apply attribu
4848:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4849:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4850:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4851:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4852:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[DIR_Attr] = (attr & mask) | (dj.dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change 
4853:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4854:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4855:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4856:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4857:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4858:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4859:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4860:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4861:Middlewares/Third_Party/FatFs/src/ff.c **** 
4862:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4863:Middlewares/Third_Party/FatFs/src/ff.c **** }
4864:Middlewares/Third_Party/FatFs/src/ff.c **** 
4865:Middlewares/Third_Party/FatFs/src/ff.c **** 
4866:Middlewares/Third_Party/FatFs/src/ff.c **** 
4867:Middlewares/Third_Party/FatFs/src/ff.c **** 
4868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
4870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4871:Middlewares/Third_Party/FatFs/src/ff.c **** 
4872:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
4873:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
4874:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
4875:Middlewares/Third_Party/FatFs/src/ff.c **** )
4876:Middlewares/Third_Party/FatFs/src/ff.c **** {
4877:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4878:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4879:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4880:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
ARM GAS  /tmp/ccVOuidm.s 			page 120


4881:Middlewares/Third_Party/FatFs/src/ff.c **** 
4882:Middlewares/Third_Party/FatFs/src/ff.c **** 
4883:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4884:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4885:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4886:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4887:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4889:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4890:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4891:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4892:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(fs->dirbuf + XDIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4893:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4895:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4896:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4897:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(dj.dir + DIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4900:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4901:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4902:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4903:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4904:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4906:Middlewares/Third_Party/FatFs/src/ff.c **** 
4907:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4908:Middlewares/Third_Party/FatFs/src/ff.c **** }
4909:Middlewares/Third_Party/FatFs/src/ff.c **** 
4910:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_CHMOD && !_FS_READONLY */
4911:Middlewares/Third_Party/FatFs/src/ff.c **** 
4912:Middlewares/Third_Party/FatFs/src/ff.c **** 
4913:Middlewares/Third_Party/FatFs/src/ff.c **** 
4914:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
4915:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4916:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Volume Label                                                      */
4917:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4918:Middlewares/Third_Party/FatFs/src/ff.c **** 
4919:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
4920:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4921:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
4922:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
4923:Middlewares/Third_Party/FatFs/src/ff.c **** )
4924:Middlewares/Third_Party/FatFs/src/ff.c **** {
4925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4926:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4927:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4928:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT si, di;
4929:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE || _FS_EXFAT
4930:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
4931:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4932:Middlewares/Third_Party/FatFs/src/ff.c **** 
4933:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4934:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4935:Middlewares/Third_Party/FatFs/src/ff.c **** 
4936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
4937:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
ARM GAS  /tmp/ccVOuidm.s 			page 121


4938:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs; dj.obj.sclust = 0;	/* Open root directory */
4939:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
4940:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4941:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	res = dir_read(&dj, 1);			/* Find a volume label entry */
4942:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	if (res == FR_OK) {
4943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4944:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4945:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (si = di = 0; si < dj.dir[XDIR_NumLabel]; si++) {	/* Extract volume label from 83 entry */
4946:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ld_word(dj.dir + XDIR_Label + si * 2);
4947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4948:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = w;
4949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4950:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ff_convert(w, 0);	/* Unicode -> OEM */
4951:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (w == 0) w = '?';	/* Replace wrong character */
4952:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_DF1S && w >= 0x100) label[di++] = (char)(w >> 8);
4953:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = (char)w;
4954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4955:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4956:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[di] = 0;
4957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4959:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4960:Middlewares/Third_Party/FatFs/src/ff.c **** 					si = di = 0;		/* Extract volume label from AM_VOL entry with code comversion */
4961:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4962:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4963:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = (si < 11) ? dj.dir[si++] : ' ';
4964:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsDBCS1(w) && si < 11 && IsDBCS2(dj.dir[si])) {
4965:Middlewares/Third_Party/FatFs/src/ff.c **** 							w = w << 8 | dj.dir[si++];
4966:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4967:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = ff_convert(w, 1);	/* OEM -> Unicode */
4968:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4969:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = dj.dir[si++];
4970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4971:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (di < 11);
4972:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {				/* Truncate trailing spaces */
4973:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di] = 0;
4974:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (di == 0) break;
4975:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (label[--di] == ' ');
4976:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4977:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4978:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4979:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {	/* No label entry and return nul string */
4980:Middlewares/Third_Party/FatFs/src/ff.c **** 			label[0] = 0;
4981:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4982:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4983:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4984:Middlewares/Third_Party/FatFs/src/ff.c **** 
4985:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
4986:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
4987:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, fs->volbase);
4988:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4989:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (fs->fs_type) {
4990:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_EXFAT:
4991:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BPB_VolIDEx; break;
4992:Middlewares/Third_Party/FatFs/src/ff.c **** 
4993:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_FAT32:
4994:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID32; break;
ARM GAS  /tmp/ccVOuidm.s 			page 122


4995:Middlewares/Third_Party/FatFs/src/ff.c **** 
4996:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
4997:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID;
4998:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4999:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = ld_dword(fs->win + di);
5000:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5001:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5002:Middlewares/Third_Party/FatFs/src/ff.c **** 
5003:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5004:Middlewares/Third_Party/FatFs/src/ff.c **** }
5005:Middlewares/Third_Party/FatFs/src/ff.c **** 
5006:Middlewares/Third_Party/FatFs/src/ff.c **** 
5007:Middlewares/Third_Party/FatFs/src/ff.c **** 
5008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5009:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5010:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set Volume Label                                                      */
5011:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5012:Middlewares/Third_Party/FatFs/src/ff.c **** 
5013:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
5014:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
5015:Middlewares/Third_Party/FatFs/src/ff.c **** )
5016:Middlewares/Third_Party/FatFs/src/ff.c **** {
5017:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
5019:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5020:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE dirvn[22];
5021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, slen;
5022:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
5023:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char badchr[] = "\"*+,.:;<=>\?[]|\x7F";
5024:Middlewares/Third_Party/FatFs/src/ff.c **** 
5025:Middlewares/Third_Party/FatFs/src/ff.c **** 
5026:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
5027:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&label, &fs, FA_WRITE);
5028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
5029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
5030:Middlewares/Third_Party/FatFs/src/ff.c **** 
5031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get length of given volume label */
5032:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (slen = 0; (UINT)label[slen] >= ' '; slen++) ;	/* Get name length */
5033:Middlewares/Third_Party/FatFs/src/ff.c **** 
5034:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5035:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
5036:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = j = 0; i < slen; ) {	/* Create volume label in directory form */
5037:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = label[i++];
5038:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
5039:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w)) {
5040:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5041:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5042:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 1);
5043:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w == 0 || chk_chr(badchr, w) || j == 22) {	/* Check validity check validity of the volume la
5045:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(fs, FR_INVALID_NAME);
5046:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5047:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirvn + j, w); j += 2;
5048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5049:Middlewares/Third_Party/FatFs/src/ff.c **** 		slen = j;
5050:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5051:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccVOuidm.s 			page 123


5052:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
5053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for ( ; slen && label[slen - 1] == ' '; slen--) ;	/* Remove trailing spaces */
5054:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (slen) {		/* Is there a volume label to be set? */
5055:Middlewares/Third_Party/FatFs/src/ff.c **** 			dirvn[0] = 0; i = j = 0;	/* Create volume label in directory form */
5056:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
5057:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5058:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(label[i++]), 0);
5059:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5060:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (BYTE)label[i++];
5061:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsDBCS1(w)) {
5062:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (j < 10 && i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5063:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5064:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
5065:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
5066:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5067:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
5068:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
5069:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
5070:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5071:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
5072:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5074:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5075:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0 || chk_chr(badchr, w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) {	/* Reject invalid ch
5076:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fs, FR_INVALID_NAME);
5077:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5078:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x100) dirvn[j++] = (BYTE)(w >> 8);
5079:Middlewares/Third_Party/FatFs/src/ff.c **** 				dirvn[j++] = (BYTE)w;
5080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (i < slen);
5081:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j < 11) dirvn[j++] = ' ';	/* Fill remaining name field */
5082:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dirvn[0] == DDEM) LEAVE_FF(fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
5083:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5084:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5085:Middlewares/Third_Party/FatFs/src/ff.c **** 
5086:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
5087:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.sclust = 0;		/* Open root directory */
5088:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
5089:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5090:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);	/* Get volume label entry */
5091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
5092:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5093:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);	/* Change the volume label */
5094:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5095:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5096:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {
5097:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dj.dir, dirvn, 11);	/* Change the volume label */
5098:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5099:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Name] = DDEM;	/* Remove the volume label */
5100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5101:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5102:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
5103:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(fs);
5104:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* No volume label entry is found or error */
5105:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
5106:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
5107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {	/* Create a volume label entry */
5108:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry */
ARM GAS  /tmp/ccVOuidm.s 			page 124


5109:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
5110:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZDIRE);	/* Clear the entry */
5111:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5112:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_Type] = 0x83;		/* Create 83 entry */
5113:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);
5114:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5115:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
5116:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[DIR_Attr] = AM_VOL;		/* Create volume label entry */
5117:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir, dirvn, 11);
5118:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
5119:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
5120:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(fs);
5121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5122:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5123:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5124:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5125:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5126:Middlewares/Third_Party/FatFs/src/ff.c **** 
5127:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5128:Middlewares/Third_Party/FatFs/src/ff.c **** }
5129:Middlewares/Third_Party/FatFs/src/ff.c **** 
5130:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
5131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
5132:Middlewares/Third_Party/FatFs/src/ff.c **** 
5133:Middlewares/Third_Party/FatFs/src/ff.c **** 
5134:Middlewares/Third_Party/FatFs/src/ff.c **** 
5135:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_EXPAND && !_FS_READONLY
5136:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5137:Middlewares/Third_Party/FatFs/src/ff.c **** /* Allocate a Contiguous Blocks to the File                              */
5138:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5139:Middlewares/Third_Party/FatFs/src/ff.c **** 
5140:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_expand (
5141:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
5142:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t fsz,	/* File size to be expanded to */
5143:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt		/* Operation mode 0:Find and prepare or 1:Find and allocate */
5144:Middlewares/Third_Party/FatFs/src/ff.c **** )
5145:Middlewares/Third_Party/FatFs/src/ff.c **** {
5146:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, stcl, scl, ncl, tcl, lclst;
5149:Middlewares/Third_Party/FatFs/src/ff.c **** 
5150:Middlewares/Third_Party/FatFs/src/ff.c **** 
5151:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5152:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5153:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fsz == 0 || fp->obj.objsize != 0 || !(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);
5154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5155:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type != FS_EXFAT && fsz >= 0x100000000) LEAVE_FF(fs, FR_DENIED);	/* Check if in size li
5156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5157:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (DWORD)fs->csize * SS(fs);	/* Cluster size */
5158:Middlewares/Third_Party/FatFs/src/ff.c **** 	tcl = (DWORD)(fsz / n) + ((fsz & (n - 1)) ? 1 : 0);	/* Number of clusters required */
5159:Middlewares/Third_Party/FatFs/src/ff.c **** 	stcl = fs->last_clst; lclst = 0;
5160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stcl < 2 || stcl >= fs->n_fatent) stcl = 2;
5161:Middlewares/Third_Party/FatFs/src/ff.c **** 
5162:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
5164:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = find_bitmap(fs, stcl, tcl);			/* Find a contiguous cluster block */
5165:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0) res = FR_DENIED;				/* No contiguous cluster block was found */
ARM GAS  /tmp/ccVOuidm.s 			page 125


5166:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0xFFFFFFFF) res = FR_DISK_ERR;
5167:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, tcl, 1);	/* Mark the cluster block 'in use' */
5170:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl + tcl - 1;
5171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5172:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5173:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5174:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5175:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5177:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
5178:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst = stcl; ncl = 0;
5179:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {	/* Find a contiguous cluster block */
5180:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = get_fat(&fp->obj, clst);
5181:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (++clst >= fs->n_fatent) clst = 2;
5182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 1) { res = FR_INT_ERR; break; }
5183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
5184:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0) {	/* Is it a free cluster? */
5185:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++ncl == tcl) break;	/* Break if a contiguous cluster block is found */
5186:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5187:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = clst; ncl = 0;		/* Not a free cluster */
5188:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5189:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == stcl) { res = FR_DENIED; break; }	/* No contiguous cluster? */
5190:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5191:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5192:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5193:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (clst = scl, n = tcl; n; clst++, n--) {	/* Create a cluster chain on the FAT */
5194:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fs, clst, (n == 1) ? 0xFFFFFFFF : clst + 1);
5195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
5196:Middlewares/Third_Party/FatFs/src/ff.c **** 					lclst = clst;
5197:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5198:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5199:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5200:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5201:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5202:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5203:Middlewares/Third_Party/FatFs/src/ff.c **** 
5204:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5205:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = lclst;		/* Set suggested start cluster to start next */
5206:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt) {	/* Is it allocated now? */
5207:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = scl;		/* Update object allocation information */
5208:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fsz;
5209:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT) fp->obj.stat = 2;	/* Set status 'contiguous chain' */
5210:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
5211:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clst <= fs->n_fatent - 2) {	/* Update FSINFO */
5212:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst -= tcl;
5213:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
5214:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5215:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5216:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5217:Middlewares/Third_Party/FatFs/src/ff.c **** 
5218:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5219:Middlewares/Third_Party/FatFs/src/ff.c **** }
5220:Middlewares/Third_Party/FatFs/src/ff.c **** 
5221:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_EXPAND && !_FS_READONLY */
5222:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 126


5223:Middlewares/Third_Party/FatFs/src/ff.c **** 
5224:Middlewares/Third_Party/FatFs/src/ff.c **** 
5225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD
5226:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5227:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly                                   */
5228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5229:Middlewares/Third_Party/FatFs/src/ff.c **** 
5230:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
5231:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
5232:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
5233:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
5234:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
5235:Middlewares/Third_Party/FatFs/src/ff.c **** )
5236:Middlewares/Third_Party/FatFs/src/ff.c **** {
5237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5238:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5239:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
5240:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
5241:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, csect;
5242:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dbuf;
5243:Middlewares/Third_Party/FatFs/src/ff.c **** 
5244:Middlewares/Third_Party/FatFs/src/ff.c **** 
5245:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
5246:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5247:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5248:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
5249:Middlewares/Third_Party/FatFs/src/ff.c **** 
5250:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
5251:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
5252:Middlewares/Third_Party/FatFs/src/ff.c **** 
5253:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream goes busy */
5254:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
5255:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
5256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {				/* On the sector boundary? */
5257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {						/* On the cluster boundary? */
5258:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
5259:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust : get_fat(&fp->obj, fp->clust);
5260:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fs, FR_INT_ERR);
5261:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
5262:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
5263:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5264:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5265:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fs, fp->clust);			/* Get current data sector */
5266:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fs, FR_INT_ERR);
5267:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
5268:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
5269:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window to the file dat
5270:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fs->win;
5271:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5272:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->sect != sect) {		/* Fill sector cache with file data */
5273:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5274:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
5275:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5276:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
5277:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5278:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
ARM GAS  /tmp/ccVOuidm.s 			page 127


5280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5281:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fp->buf;
5282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5283:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->sect = sect;
5284:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
5285:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;					/* Clip it by btr if needed */
5286:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(dbuf + ((UINT)fp->fptr % SS(fs)), rcnt);	/* Forward the file data */
5287:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fs, FR_INT_ERR);
5288:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5289:Middlewares/Third_Party/FatFs/src/ff.c **** 
5290:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
5291:Middlewares/Third_Party/FatFs/src/ff.c **** }
5292:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
5293:Middlewares/Third_Party/FatFs/src/ff.c **** 
5294:Middlewares/Third_Party/FatFs/src/ff.c **** 
5295:Middlewares/Third_Party/FatFs/src/ff.c **** 
5296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
5297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create an FAT/exFAT volume                                            */
5299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5300:Middlewares/Third_Party/FatFs/src/ff.c **** 
5301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
5302:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
5303:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt,			/* Format option */
5304:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD au,			/* Size of allocation unit (cluster) [byte] */
5305:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work,			/* Pointer to working buffer */
5306:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len			/* Size of working buffer */
5307:Middlewares/Third_Party/FatFs/src/ff.c **** )
5308:Middlewares/Third_Party/FatFs/src/ff.c **** {
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
5320:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
5322:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tbl[3];
5323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5324:Middlewares/Third_Party/FatFs/src/ff.c **** 
5325:Middlewares/Third_Party/FatFs/src/ff.c **** 
5326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);					/* Get target logical drive */
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
5332:Middlewares/Third_Party/FatFs/src/ff.c **** 
5333:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check physical drive status */
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
ARM GAS  /tmp/ccVOuidm.s 			page 128


5337:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
5338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &ss) != RES_OK) return FR_DISK_ERR;
5340:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
5341:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5342:Middlewares/Third_Party/FatFs/src/ff.c **** 	ss = _MAX_SS;
5343:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((au != 0 && au < ss) || au > 0x1000000 || (au & (au - 1))) return FR_INVALID_PARAMETER;	/* Che
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
5346:Middlewares/Third_Party/FatFs/src/ff.c **** 
5347:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get working buffer */
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	buf = (BYTE*)work;		/* Working buffer */
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
5352:Middlewares/Third_Party/FatFs/src/ff.c **** 
5353:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine where the volume to be located (b_vol, sz_vol) */
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {
5355:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
5356:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Load MBR */
5357:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(buf + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;	/* Check if MBR is valid */
5358:Middlewares/Third_Party/FatFs/src/ff.c **** 		pte = buf + (MBR_Table + (part - 1) * SZ_PTE);
5359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!pte[PTE_System]) return FR_MKFS_ABORTED;	/* No partition? */
5360:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = ld_dword(pte + PTE_StLba);		/* Get volume start sector */
5361:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol = ld_dword(pte + PTE_SizLba);	/* Get volume size */
5362:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5363:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a single-partition in this function */
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_vol) != RES_OK) return FR_DISK_ERR;
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
5368:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_vol < 128) return FR_MKFS_ABORTED;	/* Check if volume size is >=128s */
5370:Middlewares/Third_Party/FatFs/src/ff.c **** 
5371:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-determine the FAT type */
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
5374:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
5375:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_EXFAT; break;
5376:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (au > 128) return FR_INVALID_PARAMETER;	/* Too large au for FAT/FAT32 */
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
5382:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5383:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_FAT)) return FR_INVALID_PARAMETER;	/* no-FAT? */
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
5387:Middlewares/Third_Party/FatFs/src/ff.c **** 
5388:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5389:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_EXFAT) {	/* Create an exFAT volume */
5390:Middlewares/Third_Party/FatFs/src/ff.c **** 		DWORD szb_bit, szb_case, sum, nb, cl;
5391:Middlewares/Third_Party/FatFs/src/ff.c **** 		WCHAR ch, si;
5392:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT j, st;
5393:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE b;
ARM GAS  /tmp/ccVOuidm.s 			page 129


5394:Middlewares/Third_Party/FatFs/src/ff.c **** 
5395:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x1000) return FR_MKFS_ABORTED;	/* Too small volume? */
5396:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5397:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area may be erased *
5398:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5399:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5400:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine FAT location, data location and number of clusters */
5401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!au) {	/* au auto-selection */
5402:Middlewares/Third_Party/FatFs/src/ff.c **** 			au = 8;
5403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x80000) au = 64;		/* >= 512Ks */
5404:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x4000000) au = 256;	/* >= 64Ms */
5405:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5406:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat = b_vol + 32;										/* FAT start at offset 32 */
5407:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_fat = ((sz_vol / au + 2) * 4 + ss - 1) / ss;			/* Number of FAT sectors */
5408:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_data = (b_fat + sz_fat + sz_blk - 1) & ~(sz_blk - 1);	/* Align data area to the erase block bou
5409:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (b_data >= sz_vol / 2) return FR_MKFS_ABORTED;		/* Too small volume? */
5410:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_clst = (sz_vol - (b_data - b_vol)) / au;				/* Number of clusters */
5411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst <16) return FR_MKFS_ABORTED;					/* Too few clusters? */
5412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst > MAX_EXFAT) return FR_MKFS_ABORTED;			/* Too many clusters? */
5413:Middlewares/Third_Party/FatFs/src/ff.c **** 
5414:Middlewares/Third_Party/FatFs/src/ff.c **** 		szb_bit = (n_clst + 7) / 8;						/* Size of allocation bitmap */
5415:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = (szb_bit + au * ss - 1) / (au * ss);	/* Number of allocation bitmap clusters */
5416:Middlewares/Third_Party/FatFs/src/ff.c **** 
5417:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a compressed up-case table */
5418:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * tbl[0];	/* Table start sector */
5419:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = 0;						/* Table checksum to be stored in the 82 entry */
5420:Middlewares/Third_Party/FatFs/src/ff.c **** 		st = si = i = j = szb_case = 0;
5421:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5422:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (st) {
5423:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 0:
5424:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = ff_wtoupper(si);	/* Get an up-case char */
5425:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ch != si) {
5426:Middlewares/Third_Party/FatFs/src/ff.c **** 					si++; break;		/* Store the up-case char if exist */
5427:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5428:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (j = 1; (WCHAR)(si + j) && (WCHAR)(si + j) == ff_wtoupper((WCHAR)(si + j)); j++) ;	/* Get r
5429:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (j >= 128) {
5430:Middlewares/Third_Party/FatFs/src/ff.c **** 					ch = 0xFFFF; st = 2; break;	/* Compress the no-case block if run is >= 128 */
5431:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5432:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 1;			/* Do not compress short run */
5433:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* go to next case */
5434:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 1:
5435:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = si++;		/* Fill the short run */
5436:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--j == 0) st = 0;
5437:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
5438:Middlewares/Third_Party/FatFs/src/ff.c **** 
5439:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
5440:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = (WCHAR)j; si += j;	/* Number of chars to skip */
5441:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 0;
5442:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5443:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 0] = (BYTE)ch, sum);		/* Put it into the write buffer */
5444:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 1] = (BYTE)(ch >> 8), sum);
5445:Middlewares/Third_Party/FatFs/src/ff.c **** 			i += 2; szb_case += 2;
5446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!si || i == szb_buf) {		/* Write buffered data when buffer full or end of process */
5447:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (i + ss - 1) / ss;
5448:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5449:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; i = 0;
5450:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccVOuidm.s 			page 130


5451:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (si);
5452:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[1] = (szb_case + au * ss - 1) / (au * ss);	/* Number of up-case table clusters */
5453:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[2] = 1;										/* Number of root dir clusters */
5454:Middlewares/Third_Party/FatFs/src/ff.c **** 
5455:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the allocation bitmap */
5456:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data; nsect = (szb_bit + ss - 1) / ss;	/* Start of bitmap and number of sectors */
5457:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb = tbl[0] + tbl[1] + tbl[2];					/* Number of clusters in-use by system */
5458:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5459:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf);
5460:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; nb >= 8 && i < szb_buf; buf[i++] = 0xFF, nb -= 8) ;
5461:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (b = 1; nb && i < szb_buf; buf[i] |= b, b <<= 1, nb--) ;
5462:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;		/* Write the buffered data */
5463:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5464:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5465:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5466:Middlewares/Third_Party/FatFs/src/ff.c **** 
5467:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the FAT */
5468:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat; nsect = sz_fat;	/* Start of FAT and number of FAT sectors */
5469:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = nb = cl = 0;
5470:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5471:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf); i = 0;	/* Clear work area and reset write index */
5472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl == 0) {	/* Set entry 0 and 1 */
5473:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFF8); i += 4; cl++;
5474:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFFF); i += 4; cl++;
5475:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5476:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {			/* Create chains of bitmap, up-case and root dir */
5477:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (nb && i < szb_buf) {			/* Create a chain */
5478:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(buf + i, (nb > 1) ? cl + 1 : 0xFFFFFFFF);
5479:Middlewares/Third_Party/FatFs/src/ff.c **** 					i += 4; cl++; nb--;
5480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!nb && j < 3) nb = tbl[j++];	/* Next chain */
5482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nb && i < szb_buf);
5483:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;	/* Write the buffered data */
5484:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5485:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5486:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5487:Middlewares/Third_Party/FatFs/src/ff.c **** 
5488:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the root directory */
5489:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, szb_buf);
5490:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 0 + 0] = 0x83;		/* 83 entry (volume label) */
5491:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 1 + 0] = 0x81;		/* 81 entry (allocation bitmap) */
5492:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 20, 2);
5493:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 24, szb_bit);
5494:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 2 + 0] = 0x82;		/* 82 entry (up-case table) */
5495:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 4, sum);
5496:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 20, 2 + tbl[0]);
5497:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 24, szb_case);
5498:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * (tbl[0] + tbl[1]);	nsect = au;	/* Start of the root directory and number of 
5499:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill root directory sectors */
5500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5502:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5503:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5504:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5505:Middlewares/Third_Party/FatFs/src/ff.c **** 
5506:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create two set of the exFAT VBR blocks */
5507:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_vol;
ARM GAS  /tmp/ccVOuidm.s 			page 131


5508:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; n < 2; n++) {
5509:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Main record (+0) */
5510:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5511:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11);	/* Boot jump code (x86), OEM name */
5512:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolOfsEx, b_vol);					/* Volume offset in the physical drive [sector] */
5513:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSecEx, sz_vol);					/* Volume size [sector] */
5514:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatOfsEx, b_fat - b_vol);			/* FAT offset [sector] */
5515:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatSzEx, sz_fat);					/* FAT size [sector] */
5516:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_DataOfsEx, b_data - b_vol);			/* Data offset [sector] */
5517:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_NumClusEx, n_clst);					/* Number of clusters */
5518:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClusEx, 2 + tbl[0] + tbl[1]);	/* Root dir cluster # */
5519:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolIDEx, GET_FATTIME());				/* VSN */
5520:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSVerEx, 0x100);						/* File system version (1.00) */
5521:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_BytsPerSecEx] = 0, i = ss; i >>= 1; buf[BPB_BytsPerSecEx]++) ;	/* Log2 of sector si
5522:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_SecPerClusEx] = 0, i = au; i >>= 1; buf[BPB_SecPerClusEx]++) ;	/* Log2 of cluster s
5523:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_NumFATsEx] = 1;					/* Number of FATs */
5524:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_DrvNumEx] = 0x80;				/* Drive number (for int13) */
5525:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_BootCodeEx, 0xFEEB);	/* Boot code (x86) */
5526:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);			/* Signature (placed here regardless of sector size) */
5527:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = sum = 0; i < ss; i++) {		/* VBR checksum */
5528:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i != BPB_VolFlagEx && i != BPB_VolFlagEx + 1 && i != BPB_PercInUseEx) sum = xsum32(buf[i], 
5529:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5530:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5531:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Extended bootstrap record (+1..+8) */
5532:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5533:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + ss - 2, 0xAA55);	/* Signature (placed at end of sector) */
5534:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 1; j < 9; j++) {
5535:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5536:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5537:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5538:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* OEM/Reserved record (+9..+10) */
5539:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5540:Middlewares/Third_Party/FatFs/src/ff.c **** 			for ( ; j < 11; j++) {
5541:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5542:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5543:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5544:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Sum record (+11) */
5545:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < ss; i += 4) st_dword(buf + i, sum);		/* Fill with checksum value */
5546:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5548:Middlewares/Third_Party/FatFs/src/ff.c **** 
5549:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
5551:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* Create an FAT12/16/32 volume */
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
5554:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {	/* FAT32 volume */
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5559:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;	/* Number of clusters */
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
ARM GAS  /tmp/ccVOuidm.s 			page 132


5565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
5573:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					fmt = FS_FAT12;
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
5576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n + ss - 1) / ss;		/* FAT size [sector] */
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
5580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_fat = b_vol + sz_rsv;						/* FAT base */
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
5583:Middlewares/Third_Party/FatFs/src/ff.c **** 
5584:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Align data base to erase block boundary (for flash memory media) */
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = ((b_data + sz_blk - 1) & ~(sz_blk - 1)) - b_data;	/* Next nearest erase block from current d
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
5588:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat += n / n_fats;
5590:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5591:Middlewares/Third_Party/FatFs/src/ff.c **** 
5592:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Determine number of clusters and final check of validity of the FAT sub-type */
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol < b_data + pau * 16 - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5599:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5600:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT16) {
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
5605:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((opt & FM_FAT32)) {
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
5608:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5611:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 				if  (n_clst <= MAX_FAT12) {	/* Too few clusters for FAT16 */
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5615:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5616:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT12 && n_clst > MAX_FAT12) return FR_MKFS_ABORTED;	/* Too many clusters for FAT1
5618:Middlewares/Third_Party/FatFs/src/ff.c **** 
5619:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Ok, it is the valid cluster configuration */
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
5621:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
ARM GAS  /tmp/ccVOuidm.s 			page 133


5622:Middlewares/Third_Party/FatFs/src/ff.c **** 
5623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5624:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area can be erased *
5625:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5626:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5627:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FAT VBR */
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, ss);
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
5637:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSec32, sz_vol);		/* Volume size in 32-bit LBA */
5639:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_Media] = 0xF8;							/* Media descriptor byte */
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
5653:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID, GET_FATTIME());	/* VSN */
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
5659:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BS_55AA, 0xAA55);					/* Signature (offset is fixed here regardless of sector size)
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
5662:Middlewares/Third_Party/FatFs/src/ff.c **** 
5663:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FSINFO record if needed */
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
5674:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5675:Middlewares/Third_Party/FatFs/src/ff.c **** 
5676:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize FAT area */
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, (UINT)szb_buf);
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
ARM GAS  /tmp/ccVOuidm.s 			page 134


5679:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
5684:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, (fmt == FS_FAT12) ? 0xFFFFF8 : 0xFFFFFFF8);	/* Entry 0 and 1 */
5686:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5687:Middlewares/Third_Party/FatFs/src/ff.c **** 			nsect = sz_fat;		/* Number of FAT sectors */
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {	/* Fill FAT sectors */
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
5694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5695:Middlewares/Third_Party/FatFs/src/ff.c **** 
5696:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize root directory (fill with zero) */
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		nsect = (fmt == FS_FAT32) ? pau : sz_dir;	/* Number of root directory sectors */
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5703:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5704:Middlewares/Third_Party/FatFs/src/ff.c **** 
5705:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_EXFAT && fmt == FS_EXFAT) {
5707:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
5708:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
5711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x10000) {
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
5714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = (fmt == FS_FAT16) ? 0x04 : 0x01;	/* FAT16 (<64KS) : FAT12 (<64KS) */
5716:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5717:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5719:Middlewares/Third_Party/FatFs/src/ff.c **** 
5720:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Update partition information */
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {	/* Created in the existing partition */
5722:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
5723:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Read the MBR */
5724:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[MBR_Table + (part - 1) * SZ_PTE + PTE_System] = sys;		/* Set system ID */
5725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it back to the MBR */
5726:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Created as a new single partition */
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_SFD)) {	/* Create partition table if in FDISK format */
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
ARM GAS  /tmp/ccVOuidm.s 			page 135


5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
5743:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5744:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5745:Middlewares/Third_Party/FatFs/src/ff.c **** 
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) return FR_DISK_ERR;
5747:Middlewares/Third_Party/FatFs/src/ff.c **** 
5748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
5749:Middlewares/Third_Party/FatFs/src/ff.c **** }
5750:Middlewares/Third_Party/FatFs/src/ff.c **** 
5751:Middlewares/Third_Party/FatFs/src/ff.c **** 
5752:Middlewares/Third_Party/FatFs/src/ff.c **** 
5753:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
5754:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5755:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
5756:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5757:Middlewares/Third_Party/FatFs/src/ff.c **** 
5758:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
5759:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
5760:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD* szt,	/* Pointer to the size table for each partitions */
5761:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
5762:Middlewares/Third_Party/FatFs/src/ff.c **** )
5763:Middlewares/Third_Party/FatFs/src/ff.c **** {
5764:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
5765:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
5766:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
5768:Middlewares/Third_Party/FatFs/src/ff.c **** 
5769:Middlewares/Third_Party/FatFs/src/ff.c **** 
5770:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5771:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5772:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5773:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
5774:Middlewares/Third_Party/FatFs/src/ff.c **** 
5775:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the CHS without any consideration of the drive geometry */
5776:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
5777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
5778:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
5779:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
5780:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
5781:Middlewares/Third_Party/FatFs/src/ff.c **** 
5782:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
5783:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
5784:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
5785:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
5786:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;	/* Number of cylinder
5787:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
5788:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
5789:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
5790:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
5791:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
5792:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
ARM GAS  /tmp/ccVOuidm.s 			page 136


5793:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5794:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
5795:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5796:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;	/* End cylinder */
5797:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
5798:Middlewares/Third_Party/FatFs/src/ff.c **** 
5799:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
5800:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
5801:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
5802:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
5803:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x07;						/* System type (temporary setting) */
5804:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
5805:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
5806:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
5807:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 8, s_part);			/* Start sector in LBA */
5808:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 12, sz_part);			/* Number of sectors */
5809:Middlewares/Third_Party/FatFs/src/ff.c **** 
5810:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
5811:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
5812:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5813:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(p, 0xAA55);
5814:Middlewares/Third_Party/FatFs/src/ff.c **** 
5815:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
5816:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
5817:Middlewares/Third_Party/FatFs/src/ff.c **** }
5818:Middlewares/Third_Party/FatFs/src/ff.c **** 
5819:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
5820:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
5821:Middlewares/Third_Party/FatFs/src/ff.c **** 
5822:Middlewares/Third_Party/FatFs/src/ff.c **** 
5823:Middlewares/Third_Party/FatFs/src/ff.c **** 
5824:Middlewares/Third_Party/FatFs/src/ff.c **** 
5825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
5826:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5827:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
5828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5829:Middlewares/Third_Party/FatFs/src/ff.c **** 
5830:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
5831:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
5832:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
5833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
5834:Middlewares/Third_Party/FatFs/src/ff.c **** )
5835:Middlewares/Third_Party/FatFs/src/ff.c **** {
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
5840:Middlewares/Third_Party/FatFs/src/ff.c **** 
5841:Middlewares/Third_Party/FatFs/src/ff.c **** 
5842:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
5843:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5844:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
5845:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5846:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5847:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5848:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
5849:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
ARM GAS  /tmp/ccVOuidm.s 			page 137


5850:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence (0x80-0x7FF) */
5851:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
5852:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
5853:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
5854:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';	/* Reject invalid code range */
5855:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5856:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence (0x800-0xFFFF) */
5857:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
5858:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
5859:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
5860:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';	/* Reject invalid code range */
5861:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
5862:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
5863:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5864:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5865:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5866:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
5867:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5868:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5869:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
5870:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
5871:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5872:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5873:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
5874:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
5875:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5876:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5877:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
5879:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
5880:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
5881:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
5882:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5883:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
5884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
5885:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5886:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5889:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5890:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
5895:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
5897:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
5898:Middlewares/Third_Party/FatFs/src/ff.c **** }
5899:Middlewares/Third_Party/FatFs/src/ff.c **** 
5900:Middlewares/Third_Party/FatFs/src/ff.c **** 
5901:Middlewares/Third_Party/FatFs/src/ff.c **** 
5902:Middlewares/Third_Party/FatFs/src/ff.c **** 
5903:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5904:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
5905:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5906:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
ARM GAS  /tmp/ccVOuidm.s 			page 138


5907:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5908:Middlewares/Third_Party/FatFs/src/ff.c **** 
5909:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
5910:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp;		/* Ptr to the writing file */
5911:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;	/* Write index of buf[] (-1:error), number of chars written */
5912:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];	/* Write buffer */
5913:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
5914:Middlewares/Third_Party/FatFs/src/ff.c **** 
5915:Middlewares/Third_Party/FatFs/src/ff.c **** 
5916:Middlewares/Third_Party/FatFs/src/ff.c **** static
5917:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (		/* Buffered write with code conversion */
5918:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5919:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
5920:Middlewares/Third_Party/FatFs/src/ff.c **** )
5921:Middlewares/Third_Party/FatFs/src/ff.c **** {
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
5924:Middlewares/Third_Party/FatFs/src/ff.c **** 
5925:Middlewares/Third_Party/FatFs/src/ff.c **** 
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n') {	 /* LF -> CRLF conversion */
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
5928:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5929:Middlewares/Third_Party/FatFs/src/ff.c **** 
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;		/* Write index of pb->buf[] */
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
5932:Middlewares/Third_Party/FatFs/src/ff.c **** 
5933:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5934:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
5935:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
5936:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
5937:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5938:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
5939:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
5940:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
5941:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
5942:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
5943:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5944:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
5945:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5946:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
5947:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5948:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5949:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
5950:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5951:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5952:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
5953:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
5954:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
5955:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
5956:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
5957:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5959:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
5960:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5962:Middlewares/Third_Party/FatFs/src/ff.c **** 
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
ARM GAS  /tmp/ccVOuidm.s 			page 139


5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
5966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
5968:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
5969:Middlewares/Third_Party/FatFs/src/ff.c **** }
5970:Middlewares/Third_Party/FatFs/src/ff.c **** 
5971:Middlewares/Third_Party/FatFs/src/ff.c **** 
5972:Middlewares/Third_Party/FatFs/src/ff.c **** static
5973:Middlewares/Third_Party/FatFs/src/ff.c **** int putc_flush (		/* Flush left characters in the buffer */
5974:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb
5975:Middlewares/Third_Party/FatFs/src/ff.c **** )
5976:Middlewares/Third_Party/FatFs/src/ff.c **** {
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
5978:Middlewares/Third_Party/FatFs/src/ff.c **** 
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb->idx >= 0	/* Flush buffered characters to the file */
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
5982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
5983:Middlewares/Third_Party/FatFs/src/ff.c **** }
5984:Middlewares/Third_Party/FatFs/src/ff.c **** 
5985:Middlewares/Third_Party/FatFs/src/ff.c **** 
5986:Middlewares/Third_Party/FatFs/src/ff.c **** static
5987:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_init (		/* Initialize write buffer */
5988:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5989:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp
5990:Middlewares/Third_Party/FatFs/src/ff.c **** )
5991:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1780              		.loc 1 5991 1 is_stmt 1 view -0
 1781              		.cfi_startproc
 1782              		@ args = 0, pretend = 0, frame = 0
 1783              		@ frame_needed = 0, uses_anonymous_args = 0
 1784              		@ link register save eliminated.
5992:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->fp = fp;
 1785              		.loc 1 5992 2 view .LVU520
 1786              		.loc 1 5992 9 is_stmt 0 view .LVU521
 1787 0000 0160     		str	r1, [r0]
5993:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr = pb->idx = 0;
 1788              		.loc 1 5993 2 is_stmt 1 view .LVU522
 1789              		.loc 1 5993 21 is_stmt 0 view .LVU523
 1790 0002 0023     		movs	r3, #0
 1791 0004 4360     		str	r3, [r0, #4]
 1792              		.loc 1 5993 11 view .LVU524
 1793 0006 8360     		str	r3, [r0, #8]
5994:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1794              		.loc 1 5994 1 view .LVU525
 1795              		@ sp needed
 1796 0008 7047     		bx	lr
 1797              		.cfi_endproc
 1798              	.LFE551:
 1800              		.section	.text.validate,"ax",%progbits
 1801              		.align	1
 1802              		.syntax unified
 1803              		.code	16
 1804              		.thumb_func
 1806              	validate:
 1807              	.LVL214:
ARM GAS  /tmp/ccVOuidm.s 			page 140


 1808              	.LFB530:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1809              		.loc 1 3220 1 is_stmt 1 view -0
 1810              		.cfi_startproc
 1811              		@ args = 0, pretend = 0, frame = 0
 1812              		@ frame_needed = 0, uses_anonymous_args = 0
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1813              		.loc 1 3220 1 is_stmt 0 view .LVU527
 1814 0000 70B5     		push	{r4, r5, r6, lr}
 1815              	.LCFI12:
 1816              		.cfi_def_cfa_offset 16
 1817              		.cfi_offset 4, -16
 1818              		.cfi_offset 5, -12
 1819              		.cfi_offset 6, -8
 1820              		.cfi_offset 14, -4
 1821 0002 0400     		movs	r4, r0
 1822 0004 0D00     		movs	r5, r1
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1823              		.loc 1 3221 2 is_stmt 1 view .LVU528
 1824              	.LVL215:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1825              		.loc 1 3224 2 view .LVU529
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1826              		.loc 1 3224 5 is_stmt 0 view .LVU530
 1827 0006 0028     		cmp	r0, #0
 1828 0008 18D0     		beq	.L143
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1829              		.loc 1 3224 16 discriminator 1 view .LVU531
 1830 000a 0368     		ldr	r3, [r0]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1831              		.loc 1 3224 10 discriminator 1 view .LVU532
 1832 000c 002B     		cmp	r3, #0
 1833 000e 17D0     		beq	.L144
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1834              		.loc 1 3224 31 discriminator 2 view .LVU533
 1835 0010 1A78     		ldrb	r2, [r3]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1836              		.loc 1 3224 21 discriminator 2 view .LVU534
 1837 0012 002A     		cmp	r2, #0
 1838 0014 17D0     		beq	.L145
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1839              		.loc 1 3224 47 discriminator 3 view .LVU535
 1840 0016 8188     		ldrh	r1, [r0, #4]
 1841              	.LVL216:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1842              		.loc 1 3224 62 discriminator 3 view .LVU536
 1843 0018 DA88     		ldrh	r2, [r3, #6]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1844              		.loc 1 3224 41 discriminator 3 view .LVU537
 1845 001a 9142     		cmp	r1, r2
 1846 001c 03D0     		beq	.L148
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1847              		.loc 1 3221 10 view .LVU538
 1848 001e 0920     		movs	r0, #9
 1849              	.LVL217:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1850              		.loc 1 3241 33 discriminator 2 view .LVU539
ARM GAS  /tmp/ccVOuidm.s 			page 141


 1851 0020 0024     		movs	r4, #0
 1852              	.LVL218:
 1853              	.L142:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1854              		.loc 1 3241 6 discriminator 4 view .LVU540
 1855 0022 2C60     		str	r4, [r5]
3242:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1856              		.loc 1 3242 2 is_stmt 1 view .LVU541
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1857              		.loc 1 3243 1 is_stmt 0 view .LVU542
 1858              		@ sp needed
 1859              	.LVL219:
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1860              		.loc 1 3243 1 view .LVU543
 1861 0024 70BD     		pop	{r4, r5, r6, pc}
 1862              	.LVL220:
 1863              	.L148:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1864              		.loc 1 3236 3 is_stmt 1 view .LVU544
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1865              		.loc 1 3236 9 is_stmt 0 view .LVU545
 1866 0026 5878     		ldrb	r0, [r3, #1]
 1867              	.LVL221:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1868              		.loc 1 3236 9 view .LVU546
 1869 0028 FFF7FEFF 		bl	disk_status
 1870              	.LVL222:
 1871 002c 0300     		movs	r3, r0
 1872 002e 0122     		movs	r2, #1
 1873 0030 1000     		movs	r0, r2
 1874 0032 1840     		ands	r0, r3
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1875              		.loc 1 3236 6 discriminator 1 view .LVU547
 1876 0034 1A42     		tst	r2, r3
 1877 0036 09D1     		bne	.L147
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1878              		.loc 1 3237 4 is_stmt 1 view .LVU548
 1879              	.LVL223:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1880              		.loc 1 3241 2 view .LVU549
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1881              		.loc 1 3241 33 is_stmt 0 discriminator 1 view .LVU550
 1882 0038 2468     		ldr	r4, [r4]
 1883              	.LVL224:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1884              		.loc 1 3241 33 discriminator 1 view .LVU551
 1885 003a F2E7     		b	.L142
 1886              	.LVL225:
 1887              	.L143:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1888              		.loc 1 3221 10 view .LVU552
 1889 003c 0920     		movs	r0, #9
 1890              	.LVL226:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1891              		.loc 1 3221 10 view .LVU553
 1892 003e F0E7     		b	.L142
 1893              	.LVL227:
ARM GAS  /tmp/ccVOuidm.s 			page 142


 1894              	.L144:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1895              		.loc 1 3241 33 discriminator 2 view .LVU554
 1896 0040 1C00     		movs	r4, r3
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1897              		.loc 1 3221 10 view .LVU555
 1898 0042 0920     		movs	r0, #9
 1899              	.LVL228:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1900              		.loc 1 3221 10 view .LVU556
 1901 0044 EDE7     		b	.L142
 1902              	.LVL229:
 1903              	.L145:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1904              		.loc 1 3221 10 view .LVU557
 1905 0046 0920     		movs	r0, #9
 1906              	.LVL230:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1907              		.loc 1 3241 33 discriminator 2 view .LVU558
 1908 0048 0024     		movs	r4, #0
 1909              	.LVL231:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1910              		.loc 1 3241 33 discriminator 2 view .LVU559
 1911 004a EAE7     		b	.L142
 1912              	.LVL232:
 1913              	.L147:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1914              		.loc 1 3221 10 view .LVU560
 1915 004c 0920     		movs	r0, #9
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1916              		.loc 1 3241 33 discriminator 2 view .LVU561
 1917 004e 0024     		movs	r4, #0
 1918              	.LVL233:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1919              		.loc 1 3241 33 discriminator 2 view .LVU562
 1920 0050 E7E7     		b	.L142
 1921              		.cfi_endproc
 1922              	.LFE530:
 1924              		.section	.text.sync_window,"ax",%progbits
 1925              		.align	1
 1926              		.syntax unified
 1927              		.code	16
 1928              		.thumb_func
 1930              	sync_window:
 1931              	.LVL234:
 1932              	.LFB506:
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1933              		.loc 1 886 1 is_stmt 1 view -0
 1934              		.cfi_startproc
 1935              		@ args = 0, pretend = 0, frame = 0
 1936              		@ frame_needed = 0, uses_anonymous_args = 0
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1937              		.loc 1 886 1 is_stmt 0 view .LVU564
 1938 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1939              	.LCFI13:
 1940              		.cfi_def_cfa_offset 20
 1941              		.cfi_offset 4, -20
ARM GAS  /tmp/ccVOuidm.s 			page 143


 1942              		.cfi_offset 5, -16
 1943              		.cfi_offset 6, -12
 1944              		.cfi_offset 7, -8
 1945              		.cfi_offset 14, -4
 1946 0002 C646     		mov	lr, r8
 1947 0004 00B5     		push	{lr}
 1948              	.LCFI14:
 1949              		.cfi_def_cfa_offset 24
 1950              		.cfi_offset 8, -24
 1951 0006 0400     		movs	r4, r0
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 1952              		.loc 1 887 2 is_stmt 1 view .LVU565
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1953              		.loc 1 888 2 view .LVU566
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1954              		.loc 1 889 2 view .LVU567
 1955              	.LVL235:
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1956              		.loc 1 892 2 view .LVU568
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1957              		.loc 1 892 8 is_stmt 0 view .LVU569
 1958 0008 C578     		ldrb	r5, [r0, #3]
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1959              		.loc 1 892 5 view .LVU570
 1960 000a 002D     		cmp	r5, #0
 1961 000c 03D1     		bne	.L154
 1962              	.LVL236:
 1963              	.L150:
 906:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1964              		.loc 1 906 2 is_stmt 1 view .LVU571
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1965              		.loc 1 907 1 is_stmt 0 view .LVU572
 1966 000e 2800     		movs	r0, r5
 1967              		@ sp needed
 1968              	.LVL237:
 1969              	.LVL238:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1970              		.loc 1 907 1 view .LVU573
 1971 0010 80BC     		pop	{r7}
 1972 0012 B846     		mov	r8, r7
 1973 0014 F0BD     		pop	{r4, r5, r6, r7, pc}
 1974              	.LVL239:
 1975              	.L154:
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 1976              		.loc 1 893 3 is_stmt 1 view .LVU574
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 1977              		.loc 1 893 9 is_stmt 0 view .LVU575
 1978 0016 C76A     		ldr	r7, [r0, #44]
 1979              	.LVL240:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1980              		.loc 1 894 3 is_stmt 1 view .LVU576
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1981              		.loc 1 894 29 is_stmt 0 view .LVU577
 1982 0018 3023     		movs	r3, #48
 1983 001a 9846     		mov	r8, r3
 1984 001c 8044     		add	r8, r8, r0
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
ARM GAS  /tmp/ccVOuidm.s 			page 144


 1985              		.loc 1 894 7 view .LVU578
 1986 001e 4078     		ldrb	r0, [r0, #1]
 1987              	.LVL241:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1988              		.loc 1 894 7 view .LVU579
 1989 0020 2F3B     		subs	r3, r3, #47
 1990 0022 3A00     		movs	r2, r7
 1991 0024 4146     		mov	r1, r8
 1992 0026 FFF7FEFF 		bl	disk_write
 1993              	.LVL242:
 1994 002a 051E     		subs	r5, r0, #0
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1995              		.loc 1 894 6 discriminator 1 view .LVU580
 1996 002c 14D1     		bne	.L153
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1997              		.loc 1 897 4 is_stmt 1 view .LVU581
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1998              		.loc 1 897 14 is_stmt 0 view .LVU582
 1999 002e 0023     		movs	r3, #0
 2000 0030 E370     		strb	r3, [r4, #3]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2001              		.loc 1 898 4 is_stmt 1 view .LVU583
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2002              		.loc 1 898 18 is_stmt 0 view .LVU584
 2003 0032 236A     		ldr	r3, [r4, #32]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2004              		.loc 1 898 14 view .LVU585
 2005 0034 FB1A     		subs	r3, r7, r3
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2006              		.loc 1 898 32 view .LVU586
 2007 0036 A269     		ldr	r2, [r4, #24]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2008              		.loc 1 898 7 view .LVU587
 2009 0038 9342     		cmp	r3, r2
 2010 003a E8D2     		bcs	.L150
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2011              		.loc 1 899 5 is_stmt 1 view .LVU588
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2012              		.loc 1 899 17 is_stmt 0 view .LVU589
 2013 003c A678     		ldrb	r6, [r4, #2]
 2014              	.LVL243:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2015              		.loc 1 899 5 view .LVU590
 2016 003e 08E0     		b	.L151
 2017              	.L152:
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2018              		.loc 1 900 6 is_stmt 1 view .LVU591
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2019              		.loc 1 900 17 is_stmt 0 view .LVU592
 2020 0040 A369     		ldr	r3, [r4, #24]
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2021              		.loc 1 900 12 view .LVU593
 2022 0042 FF18     		adds	r7, r7, r3
 2023              	.LVL244:
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 2024              		.loc 1 901 6 is_stmt 1 view .LVU594
 2025 0044 6078     		ldrb	r0, [r4, #1]
ARM GAS  /tmp/ccVOuidm.s 			page 145


 2026 0046 0123     		movs	r3, #1
 2027 0048 3A00     		movs	r2, r7
 2028 004a 4146     		mov	r1, r8
 2029 004c FFF7FEFF 		bl	disk_write
 2030              	.LVL245:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2031              		.loc 1 899 38 discriminator 3 view .LVU595
 2032 0050 013E     		subs	r6, r6, #1
 2033              	.LVL246:
 2034              	.L151:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2035              		.loc 1 899 30 discriminator 1 view .LVU596
 2036 0052 012E     		cmp	r6, #1
 2037 0054 F4D8     		bhi	.L152
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2038              		.loc 1 899 30 is_stmt 0 discriminator 1 view .LVU597
 2039 0056 DAE7     		b	.L150
 2040              	.LVL247:
 2041              	.L153:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2042              		.loc 1 895 8 view .LVU598
 2043 0058 0125     		movs	r5, #1
 2044 005a D8E7     		b	.L150
 2045              		.cfi_endproc
 2046              	.LFE506:
 2048              		.section	.text.move_window,"ax",%progbits
 2049              		.align	1
 2050              		.syntax unified
 2051              		.code	16
 2052              		.thumb_func
 2054              	move_window:
 2055              	.LVL248:
 2056              	.LFB507:
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2057              		.loc 1 916 1 is_stmt 1 view -0
 2058              		.cfi_startproc
 2059              		@ args = 0, pretend = 0, frame = 0
 2060              		@ frame_needed = 0, uses_anonymous_args = 0
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2061              		.loc 1 916 1 is_stmt 0 view .LVU600
 2062 0000 70B5     		push	{r4, r5, r6, lr}
 2063              	.LCFI15:
 2064              		.cfi_def_cfa_offset 16
 2065              		.cfi_offset 4, -16
 2066              		.cfi_offset 5, -12
 2067              		.cfi_offset 6, -8
 2068              		.cfi_offset 14, -4
 2069 0002 0400     		movs	r4, r0
 2070 0004 0D00     		movs	r5, r1
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2071              		.loc 1 917 2 is_stmt 1 view .LVU601
 2072              	.LVL249:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2073              		.loc 1 920 2 view .LVU602
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2074              		.loc 1 920 18 is_stmt 0 view .LVU603
 2075 0006 C36A     		ldr	r3, [r0, #44]
ARM GAS  /tmp/ccVOuidm.s 			page 146


 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2076              		.loc 1 920 5 view .LVU604
 2077 0008 8B42     		cmp	r3, r1
 2078 000a 02D1     		bne	.L160
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2079              		.loc 1 917 10 view .LVU605
 2080 000c 0026     		movs	r6, #0
 2081              	.LVL250:
 2082              	.L156:
 932:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2083              		.loc 1 932 2 is_stmt 1 view .LVU606
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2084              		.loc 1 933 1 is_stmt 0 view .LVU607
 2085 000e 3000     		movs	r0, r6
 2086              		@ sp needed
 2087              	.LVL251:
 2088              	.LVL252:
 2089              	.LVL253:
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2090              		.loc 1 933 1 view .LVU608
 2091 0010 70BD     		pop	{r4, r5, r6, pc}
 2092              	.LVL254:
 2093              	.L160:
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2094              		.loc 1 922 3 is_stmt 1 view .LVU609
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2095              		.loc 1 922 9 is_stmt 0 view .LVU610
 2096 0012 FFF7FEFF 		bl	sync_window
 2097              	.LVL255:
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2098              		.loc 1 922 9 view .LVU611
 2099 0016 061E     		subs	r6, r0, #0
 2100              	.LVL256:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2101              		.loc 1 924 3 is_stmt 1 view .LVU612
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2102              		.loc 1 924 6 is_stmt 0 view .LVU613
 2103 0018 F9D1     		bne	.L156
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2104              		.loc 1 925 4 is_stmt 1 view .LVU614
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2105              		.loc 1 925 29 is_stmt 0 view .LVU615
 2106 001a 2100     		movs	r1, r4
 2107 001c 3031     		adds	r1, r1, #48
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2108              		.loc 1 925 8 view .LVU616
 2109 001e 6078     		ldrb	r0, [r4, #1]
 2110              	.LVL257:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2111              		.loc 1 925 8 view .LVU617
 2112 0020 0123     		movs	r3, #1
 2113 0022 2A00     		movs	r2, r5
 2114 0024 FFF7FEFF 		bl	disk_read
 2115              	.LVL258:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2116              		.loc 1 925 7 discriminator 1 view .LVU618
 2117 0028 0028     		cmp	r0, #0
ARM GAS  /tmp/ccVOuidm.s 			page 147


 2118 002a 02D0     		beq	.L157
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2119              		.loc 1 927 9 view .LVU619
 2120 002c 0136     		adds	r6, r6, #1
 2121              	.LVL259:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 2122              		.loc 1 926 12 view .LVU620
 2123 002e 0125     		movs	r5, #1
 2124              	.LVL260:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 2125              		.loc 1 926 12 view .LVU621
 2126 0030 6D42     		rsbs	r5, r5, #0
 2127              	.LVL261:
 2128              	.L157:
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2129              		.loc 1 929 4 is_stmt 1 view .LVU622
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2130              		.loc 1 929 16 is_stmt 0 view .LVU623
 2131 0032 E562     		str	r5, [r4, #44]
 2132 0034 EBE7     		b	.L156
 2133              		.cfi_endproc
 2134              	.LFE507:
 2136              		.section	.text.check_fs,"ax",%progbits
 2137              		.align	1
 2138              		.syntax unified
 2139              		.code	16
 2140              		.thumb_func
 2142              	check_fs:
 2143              	.LVL262:
 2144              	.LFB528:
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2145              		.loc 1 2969 1 is_stmt 1 view -0
 2146              		.cfi_startproc
 2147              		@ args = 0, pretend = 0, frame = 0
 2148              		@ frame_needed = 0, uses_anonymous_args = 0
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2149              		.loc 1 2969 1 is_stmt 0 view .LVU625
 2150 0000 70B5     		push	{r4, r5, r6, lr}
 2151              	.LCFI16:
 2152              		.cfi_def_cfa_offset 16
 2153              		.cfi_offset 4, -16
 2154              		.cfi_offset 5, -12
 2155              		.cfi_offset 6, -8
 2156              		.cfi_offset 14, -4
 2157 0002 0400     		movs	r4, r0
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2158              		.loc 1 2970 2 is_stmt 1 view .LVU626
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2159              		.loc 1 2970 12 is_stmt 0 view .LVU627
 2160 0004 0023     		movs	r3, #0
 2161 0006 C370     		strb	r3, [r0, #3]
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2162              		.loc 1 2970 17 is_stmt 1 view .LVU628
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2163              		.loc 1 2970 29 is_stmt 0 view .LVU629
 2164 0008 013B     		subs	r3, r3, #1
 2165 000a C362     		str	r3, [r0, #44]
ARM GAS  /tmp/ccVOuidm.s 			page 148


2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2166              		.loc 1 2971 2 is_stmt 1 view .LVU630
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2167              		.loc 1 2971 6 is_stmt 0 view .LVU631
 2168 000c FFF7FEFF 		bl	move_window
 2169              	.LVL263:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2170              		.loc 1 2971 6 view .LVU632
 2171 0010 051E     		subs	r5, r0, #0
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2172              		.loc 1 2971 5 discriminator 1 view .LVU633
 2173 0012 24D1     		bne	.L164
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2174              		.loc 1 2973 2 is_stmt 1 view .LVU634
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2175              		.loc 1 2973 6 is_stmt 0 view .LVU635
 2176 0014 144B     		ldr	r3, .L167
 2177 0016 E018     		adds	r0, r4, r3
 2178 0018 FFF7FEFF 		bl	ld_word
 2179              	.LVL264:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2180              		.loc 1 2973 5 discriminator 1 view .LVU636
 2181 001c 134B     		ldr	r3, .L167+4
 2182 001e 9842     		cmp	r0, r3
 2183 0020 1FD1     		bne	.L165
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2184              		.loc 1 2975 2 is_stmt 1 view .LVU637
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2185              		.loc 1 2975 13 is_stmt 0 view .LVU638
 2186 0022 3023     		movs	r3, #48
 2187 0024 E35C     		ldrb	r3, [r4, r3]
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2188              		.loc 1 2975 5 view .LVU639
 2189 0026 E92B     		cmp	r3, #233
 2190 0028 07D0     		beq	.L163
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2191              		.loc 1 2975 66 discriminator 1 view .LVU640
 2192 002a 236B     		ldr	r3, [r4, #48]
 2193 002c 104A     		ldr	r2, .L167+8
 2194 002e 1340     		ands	r3, r2
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2195              		.loc 1 2975 34 discriminator 1 view .LVU641
 2196 0030 104A     		ldr	r2, .L167+12
 2197 0032 9342     		cmp	r3, r2
 2198 0034 01D0     		beq	.L163
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2199              		.loc 1 2982 9 view .LVU642
 2200 0036 0225     		movs	r5, #2
 2201 0038 14E0     		b	.L162
 2202              	.L163:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2203              		.loc 1 2976 3 is_stmt 1 view .LVU643
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2204              		.loc 1 2976 8 is_stmt 0 view .LVU644
 2205 003a 2000     		movs	r0, r4
 2206 003c 6630     		adds	r0, r0, #102
 2207 003e FFF7FEFF 		bl	ld_dword
ARM GAS  /tmp/ccVOuidm.s 			page 149


 2208              	.LVL265:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2209              		.loc 1 2976 42 discriminator 1 view .LVU645
 2210 0042 0002     		lsls	r0, r0, #8
 2211 0044 000A     		lsrs	r0, r0, #8
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2212              		.loc 1 2976 6 discriminator 1 view .LVU646
 2213 0046 0C4B     		ldr	r3, .L167+16
 2214 0048 9842     		cmp	r0, r3
 2215 004a 0BD0     		beq	.L162
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2216              		.loc 1 2977 3 is_stmt 1 view .LVU647
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2217              		.loc 1 2977 7 is_stmt 0 view .LVU648
 2218 004c 2000     		movs	r0, r4
 2219 004e 8230     		adds	r0, r0, #130
 2220 0050 FFF7FEFF 		bl	ld_dword
 2221              	.LVL266:
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2222              		.loc 1 2977 6 discriminator 1 view .LVU649
 2223 0054 094B     		ldr	r3, .L167+20
 2224 0056 9842     		cmp	r0, r3
 2225 0058 04D0     		beq	.L162
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2226              		.loc 1 2982 9 view .LVU650
 2227 005a 0225     		movs	r5, #2
 2228 005c 02E0     		b	.L162
 2229              	.L164:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2230              		.loc 1 2971 45 discriminator 1 view .LVU651
 2231 005e 0425     		movs	r5, #4
 2232 0060 00E0     		b	.L162
 2233              	.L165:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2234              		.loc 1 2973 51 discriminator 1 view .LVU652
 2235 0062 0325     		movs	r5, #3
 2236              	.L162:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2237              		.loc 1 2983 1 view .LVU653
 2238 0064 2800     		movs	r0, r5
 2239              		@ sp needed
 2240              	.LVL267:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2241              		.loc 1 2983 1 view .LVU654
 2242 0066 70BD     		pop	{r4, r5, r6, pc}
 2243              	.L168:
 2244              		.align	2
 2245              	.L167:
 2246 0068 2E020000 		.word	558
 2247 006c 55AA0000 		.word	43605
 2248 0070 FF00FF00 		.word	16711935
 2249 0074 EB009000 		.word	9437419
 2250 0078 46415400 		.word	5521734
 2251 007c 46415433 		.word	861159750
 2252              		.cfi_endproc
 2253              	.LFE528:
 2255              		.section	.text.find_volume,"ax",%progbits
ARM GAS  /tmp/ccVOuidm.s 			page 150


 2256              		.align	1
 2257              		.syntax unified
 2258              		.code	16
 2259              		.thumb_func
 2261              	find_volume:
 2262              	.LVL268:
 2263              	.LFB529:
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2264              		.loc 1 2998 1 is_stmt 1 view -0
 2265              		.cfi_startproc
 2266              		@ args = 0, pretend = 0, frame = 24
 2267              		@ frame_needed = 0, uses_anonymous_args = 0
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2268              		.loc 1 2998 1 is_stmt 0 view .LVU656
 2269 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2270              	.LCFI17:
 2271              		.cfi_def_cfa_offset 20
 2272              		.cfi_offset 4, -20
 2273              		.cfi_offset 5, -16
 2274              		.cfi_offset 6, -12
 2275              		.cfi_offset 7, -8
 2276              		.cfi_offset 14, -4
 2277 0002 DE46     		mov	lr, fp
 2278 0004 5746     		mov	r7, r10
 2279 0006 4E46     		mov	r6, r9
 2280 0008 4546     		mov	r5, r8
 2281 000a E0B5     		push	{r5, r6, r7, lr}
 2282              	.LCFI18:
 2283              		.cfi_def_cfa_offset 36
 2284              		.cfi_offset 8, -36
 2285              		.cfi_offset 9, -32
 2286              		.cfi_offset 10, -28
 2287              		.cfi_offset 11, -24
 2288 000c 87B0     		sub	sp, sp, #28
 2289              	.LCFI19:
 2290              		.cfi_def_cfa_offset 64
 2291 000e 0F00     		movs	r7, r1
 2292 0010 1500     		movs	r5, r2
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 2293              		.loc 1 2999 2 is_stmt 1 view .LVU657
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 2294              		.loc 1 3000 2 view .LVU658
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 2295              		.loc 1 3001 2 view .LVU659
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 2296              		.loc 1 3002 2 view .LVU660
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 2297              		.loc 1 3003 2 view .LVU661
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 2298              		.loc 1 3004 2 view .LVU662
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2299              		.loc 1 3005 2 view .LVU663
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2300              		.loc 1 3009 2 view .LVU664
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2301              		.loc 1 3009 7 is_stmt 0 view .LVU665
 2302 0012 0023     		movs	r3, #0
ARM GAS  /tmp/ccVOuidm.s 			page 151


 2303 0014 0B60     		str	r3, [r1]
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2304              		.loc 1 3010 2 is_stmt 1 view .LVU666
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2305              		.loc 1 3010 8 is_stmt 0 view .LVU667
 2306 0016 FFF7FEFF 		bl	get_ldnumber
 2307              	.LVL269:
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2308              		.loc 1 3010 8 view .LVU668
 2309 001a 061E     		subs	r6, r0, #0
 2310              	.LVL270:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2311              		.loc 1 3011 2 is_stmt 1 view .LVU669
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2312              		.loc 1 3011 5 is_stmt 0 view .LVU670
 2313 001c 00DA     		bge	.LCB2141
 2314 001e 51E1     		b	.L186	@long jump
 2315              	.LCB2141:
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2316              		.loc 1 3014 2 is_stmt 1 view .LVU671
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2317              		.loc 1 3014 5 is_stmt 0 view .LVU672
 2318 0020 BE4B     		ldr	r3, .L216
 2319 0022 8200     		lsls	r2, r0, #2
 2320 0024 D458     		ldr	r4, [r2, r3]
 2321              	.LVL271:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2322              		.loc 1 3015 2 is_stmt 1 view .LVU673
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2323              		.loc 1 3015 5 is_stmt 0 view .LVU674
 2324 0026 002C     		cmp	r4, #0
 2325 0028 00D1     		bne	.LCB2149
 2326 002a 54E1     		b	.L187	@long jump
 2327              	.LCB2149:
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 2328              		.loc 1 3017 14 is_stmt 1 view .LVU675
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2329              		.loc 1 3018 2 view .LVU676
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2330              		.loc 1 3018 7 is_stmt 0 view .LVU677
 2331 002c 3C60     		str	r4, [r7]
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2332              		.loc 1 3020 2 is_stmt 1 view .LVU678
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2333              		.loc 1 3020 7 is_stmt 0 view .LVU679
 2334 002e 0123     		movs	r3, #1
 2335 0030 9D43     		bics	r5, r3
 2336              	.LVL272:
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2337              		.loc 1 3020 7 view .LVU680
 2338 0032 2F00     		movs	r7, r5
 2339              	.LVL273:
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2340              		.loc 1 3021 2 is_stmt 1 view .LVU681
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2341              		.loc 1 3021 8 is_stmt 0 view .LVU682
 2342 0034 2378     		ldrb	r3, [r4]
ARM GAS  /tmp/ccVOuidm.s 			page 152


3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2343              		.loc 1 3021 5 view .LVU683
 2344 0036 002B     		cmp	r3, #0
 2345 0038 0FD0     		beq	.L171
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2346              		.loc 1 3022 3 is_stmt 1 view .LVU684
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2347              		.loc 1 3022 10 is_stmt 0 view .LVU685
 2348 003a 6078     		ldrb	r0, [r4, #1]
 2349              	.LVL274:
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2350              		.loc 1 3022 10 view .LVU686
 2351 003c FFF7FEFF 		bl	disk_status
 2352              	.LVL275:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2353              		.loc 1 3023 3 is_stmt 1 view .LVU687
 2354 0040 0123     		movs	r3, #1
 2355 0042 1D00     		movs	r5, r3
 2356 0044 0540     		ands	r5, r0
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2357              		.loc 1 3023 6 is_stmt 0 view .LVU688
 2358 0046 0342     		tst	r3, r0
 2359 0048 07D1     		bne	.L171
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2360              		.loc 1 3024 4 is_stmt 1 view .LVU689
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2361              		.loc 1 3024 7 is_stmt 0 view .LVU690
 2362 004a 002F     		cmp	r7, #0
 2363 004c 00D1     		bne	.LCB2179
 2364 004e 3AE1     		b	.L170	@long jump
 2365              	.LCB2179:
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2366              		.loc 1 3024 30 discriminator 1 view .LVU691
 2367 0050 4007     		lsls	r0, r0, #29
 2368 0052 00D4     		bmi	.LCB2184
 2369 0054 37E1     		b	.L170	@long jump
 2370              	.LCB2184:
 2371              	.LVL276:
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2372              		.loc 1 3025 12 view .LVU692
 2373 0056 0A25     		movs	r5, #10
 2374 0058 35E1     		b	.L170
 2375              	.LVL277:
 2376              	.L171:
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2377              		.loc 1 3034 2 is_stmt 1 view .LVU693
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2378              		.loc 1 3034 14 is_stmt 0 view .LVU694
 2379 005a 0023     		movs	r3, #0
 2380 005c 2370     		strb	r3, [r4]
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2381              		.loc 1 3035 2 is_stmt 1 view .LVU695
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2382              		.loc 1 3035 12 is_stmt 0 view .LVU696
 2383 005e F0B2     		uxtb	r0, r6
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2384              		.loc 1 3035 10 view .LVU697
ARM GAS  /tmp/ccVOuidm.s 			page 153


 2385 0060 6070     		strb	r0, [r4, #1]
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2386              		.loc 1 3036 2 is_stmt 1 view .LVU698
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2387              		.loc 1 3036 9 is_stmt 0 view .LVU699
 2388 0062 FFF7FEFF 		bl	disk_initialize
 2389              	.LVL278:
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2390              		.loc 1 3037 2 is_stmt 1 view .LVU700
 2391 0066 0123     		movs	r3, #1
 2392 0068 1D00     		movs	r5, r3
 2393 006a 0540     		ands	r5, r0
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2394              		.loc 1 3037 5 is_stmt 0 view .LVU701
 2395 006c 0342     		tst	r3, r0
 2396 006e 00D0     		beq	.LCB2207
 2397 0070 33E1     		b	.L189	@long jump
 2398              	.LCB2207:
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2399              		.loc 1 3040 2 is_stmt 1 view .LVU702
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2400              		.loc 1 3040 5 is_stmt 0 view .LVU703
 2401 0072 002F     		cmp	r7, #0
 2402 0074 02D0     		beq	.L172
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2403              		.loc 1 3040 28 discriminator 1 view .LVU704
 2404 0076 4007     		lsls	r0, r0, #29
 2405 0078 00D5     		bpl	.LCB2215
 2406 007a 30E1     		b	.L190	@long jump
 2407              	.LCB2215:
 2408              	.LVL279:
 2409              	.L172:
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2410              		.loc 1 3049 2 is_stmt 1 view .LVU705
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2411              		.loc 1 3050 2 view .LVU706
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2412              		.loc 1 3050 8 is_stmt 0 view .LVU707
 2413 007c 0021     		movs	r1, #0
 2414 007e 2000     		movs	r0, r4
 2415 0080 FFF7FEFF 		bl	check_fs
 2416              	.LVL280:
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2417              		.loc 1 3051 2 is_stmt 1 view .LVU708
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2418              		.loc 1 3051 5 is_stmt 0 view .LVU709
 2419 0084 0228     		cmp	r0, #2
 2420 0086 00D1     		bne	.LCB2228
 2421 0088 82E0     		b	.L191	@long jump
 2422              	.LCB2228:
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2423              		.loc 1 3049 8 view .LVU710
 2424 008a 0026     		movs	r6, #0
 2425              	.LVL281:
 2426              	.L174:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2427              		.loc 1 3063 2 is_stmt 1 view .LVU711
ARM GAS  /tmp/ccVOuidm.s 			page 154


3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2428              		.loc 1 3063 5 is_stmt 0 view .LVU712
 2429 008c 0428     		cmp	r0, #4
 2430 008e 00D1     		bne	.LCB2240
 2431 0090 27E1     		b	.L194	@long jump
 2432              	.LCB2240:
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2433              		.loc 1 3064 2 is_stmt 1 view .LVU713
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2434              		.loc 1 3064 5 is_stmt 0 view .LVU714
 2435 0092 0128     		cmp	r0, #1
 2436 0094 00D9     		bls	.LCB2243
 2437 0096 26E1     		b	.L195	@long jump
 2438              	.LCB2243:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2439              		.loc 1 3116 3 is_stmt 1 view .LVU715
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2440              		.loc 1 3116 7 is_stmt 0 view .LVU716
 2441 0098 2000     		movs	r0, r4
 2442              	.LVL282:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2443              		.loc 1 3116 7 view .LVU717
 2444 009a 3B30     		adds	r0, r0, #59
 2445 009c FFF7FEFF 		bl	ld_word
 2446              	.LVL283:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2447              		.loc 1 3116 6 discriminator 1 view .LVU718
 2448 00a0 8023     		movs	r3, #128
 2449 00a2 9B00     		lsls	r3, r3, #2
 2450 00a4 9842     		cmp	r0, r3
 2451 00a6 00D0     		beq	.LCB2253
 2452 00a8 1FE1     		b	.L196	@long jump
 2453              	.LCB2253:
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2454              		.loc 1 3118 3 is_stmt 1 view .LVU719
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2455              		.loc 1 3118 12 is_stmt 0 view .LVU720
 2456 00aa 2000     		movs	r0, r4
 2457 00ac 4630     		adds	r0, r0, #70
 2458 00ae FFF7FEFF 		bl	ld_word
 2459              	.LVL284:
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2460              		.loc 1 3118 10 discriminator 1 view .LVU721
 2461 00b2 071E     		subs	r7, r0, #0
 2462              	.LVL285:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2463              		.loc 1 3119 3 is_stmt 1 view .LVU722
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2464              		.loc 1 3119 6 is_stmt 0 view .LVU723
 2465 00b4 04D1     		bne	.L179
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2466              		.loc 1 3119 20 is_stmt 1 discriminator 1 view .LVU724
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2467              		.loc 1 3119 29 is_stmt 0 discriminator 1 view .LVU725
 2468 00b6 2000     		movs	r0, r4
 2469              	.LVL286:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
ARM GAS  /tmp/ccVOuidm.s 			page 155


 2470              		.loc 1 3119 29 discriminator 1 view .LVU726
 2471 00b8 5430     		adds	r0, r0, #84
 2472 00ba FFF7FEFF 		bl	ld_dword
 2473              	.LVL287:
 2474 00be 0700     		movs	r7, r0
 2475              	.LVL288:
 2476              	.L179:
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2477              		.loc 1 3120 3 is_stmt 1 view .LVU727
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2478              		.loc 1 3120 13 is_stmt 0 view .LVU728
 2479 00c0 A761     		str	r7, [r4, #24]
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2480              		.loc 1 3122 3 is_stmt 1 view .LVU729
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2481              		.loc 1 3122 23 is_stmt 0 view .LVU730
 2482 00c2 4023     		movs	r3, #64
 2483 00c4 E25C     		ldrb	r2, [r4, r3]
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2484              		.loc 1 3122 14 view .LVU731
 2485 00c6 A270     		strb	r2, [r4, #2]
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2486              		.loc 1 3123 3 is_stmt 1 view .LVU732
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2487              		.loc 1 3123 23 is_stmt 0 view .LVU733
 2488 00c8 531E     		subs	r3, r2, #1
 2489 00ca DBB2     		uxtb	r3, r3
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2490              		.loc 1 3123 6 view .LVU734
 2491 00cc 012B     		cmp	r3, #1
 2492 00ce 00D9     		bls	.LCB2284
 2493 00d0 0DE1     		b	.L197	@long jump
 2494              	.LCB2284:
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2495              		.loc 1 3124 3 is_stmt 1 view .LVU735
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2496              		.loc 1 3124 10 is_stmt 0 view .LVU736
 2497 00d2 7A43     		muls	r2, r7
 2498 00d4 9046     		mov	r8, r2
 2499              	.LVL289:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2500              		.loc 1 3126 3 is_stmt 1 view .LVU737
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2501              		.loc 1 3126 22 is_stmt 0 view .LVU738
 2502 00d6 3D23     		movs	r3, #61
 2503 00d8 E35C     		ldrb	r3, [r4, r3]
 2504 00da 9A46     		mov	r10, r3
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2505              		.loc 1 3126 13 view .LVU739
 2506 00dc 6381     		strh	r3, [r4, #10]
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2507              		.loc 1 3127 3 is_stmt 1 view .LVU740
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2508              		.loc 1 3127 6 is_stmt 0 view .LVU741
 2509 00de 002B     		cmp	r3, #0
 2510 00e0 00D1     		bne	.LCB2296
 2511 00e2 06E1     		b	.L198	@long jump
ARM GAS  /tmp/ccVOuidm.s 			page 156


 2512              	.LCB2296:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2513              		.loc 1 3127 49 discriminator 2 view .LVU742
 2514 00e4 013B     		subs	r3, r3, #1
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2515              		.loc 1 3127 22 discriminator 2 view .LVU743
 2516 00e6 5246     		mov	r2, r10
 2517              	.LVL290:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2518              		.loc 1 3127 22 discriminator 2 view .LVU744
 2519 00e8 1342     		tst	r3, r2
 2520 00ea 00D0     		beq	.LCB2302
 2521 00ec 03E1     		b	.L199	@long jump
 2522              	.LCB2302:
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2523              		.loc 1 3129 3 is_stmt 1 view .LVU745
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2524              		.loc 1 3129 19 is_stmt 0 view .LVU746
 2525 00ee 2000     		movs	r0, r4
 2526 00f0 4130     		adds	r0, r0, #65
 2527 00f2 FFF7FEFF 		bl	ld_word
 2528              	.LVL291:
 2529 00f6 8146     		mov	r9, r0
 2530 00f8 0300     		movs	r3, r0
 2531 00fa 0090     		str	r0, [sp]
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2532              		.loc 1 3129 17 discriminator 1 view .LVU747
 2533 00fc 2081     		strh	r0, [r4, #8]
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2534              		.loc 1 3130 3 is_stmt 1 view .LVU748
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2535              		.loc 1 3130 6 is_stmt 0 view .LVU749
 2536 00fe 1B07     		lsls	r3, r3, #28
 2537 0100 00D0     		beq	.LCB2316
 2538 0102 FAE0     		b	.L200	@long jump
 2539              	.LCB2316:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2540              		.loc 1 3132 3 is_stmt 1 view .LVU750
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2541              		.loc 1 3132 11 is_stmt 0 view .LVU751
 2542 0104 2000     		movs	r0, r4
 2543 0106 4330     		adds	r0, r0, #67
 2544 0108 FFF7FEFF 		bl	ld_word
 2545              	.LVL292:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2546              		.loc 1 3132 9 discriminator 1 view .LVU752
 2547 010c 8346     		mov	fp, r0
 2548              	.LVL293:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2549              		.loc 1 3133 3 is_stmt 1 view .LVU753
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2550              		.loc 1 3133 6 is_stmt 0 view .LVU754
 2551 010e 0028     		cmp	r0, #0
 2552 0110 04D1     		bne	.L180
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2553              		.loc 1 3133 19 is_stmt 1 discriminator 1 view .LVU755
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 157


 2554              		.loc 1 3133 27 is_stmt 0 discriminator 1 view .LVU756
 2555 0112 2000     		movs	r0, r4
 2556              	.LVL294:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2557              		.loc 1 3133 27 discriminator 1 view .LVU757
 2558 0114 5030     		adds	r0, r0, #80
 2559 0116 FFF7FEFF 		bl	ld_dword
 2560              	.LVL295:
 2561 011a 8346     		mov	fp, r0
 2562              	.LVL296:
 2563              	.L180:
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2564              		.loc 1 3135 3 is_stmt 1 view .LVU758
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2565              		.loc 1 3135 10 is_stmt 0 view .LVU759
 2566 011c 2000     		movs	r0, r4
 2567 011e 3E30     		adds	r0, r0, #62
 2568 0120 FFF7FEFF 		bl	ld_word
 2569              	.LVL297:
 2570 0124 0190     		str	r0, [sp, #4]
 2571              	.LVL298:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2572              		.loc 1 3136 3 is_stmt 1 view .LVU760
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2573              		.loc 1 3136 6 is_stmt 0 view .LVU761
 2574 0126 0028     		cmp	r0, #0
 2575 0128 00D1     		bne	.LCB2346
 2576 012a E8E0     		b	.L201	@long jump
 2577              	.LCB2346:
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2578              		.loc 1 3139 3 is_stmt 1 view .LVU762
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2579              		.loc 1 3139 17 is_stmt 0 view .LVU763
 2580 012c 0200     		movs	r2, r0
 2581 012e 4244     		add	r2, r2, r8
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2582              		.loc 1 3139 42 view .LVU764
 2583 0130 4B46     		mov	r3, r9
 2584 0132 1B09     		lsrs	r3, r3, #4
 2585 0134 9BB2     		uxth	r3, r3
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2586              		.loc 1 3139 10 view .LVU765
 2587 0136 9146     		mov	r9, r2
 2588 0138 9944     		add	r9, r9, r3
 2589              	.LVL299:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2590              		.loc 1 3140 3 is_stmt 1 view .LVU766
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2591              		.loc 1 3140 6 is_stmt 0 view .LVU767
 2592 013a CB45     		cmp	fp, r9
 2593 013c 00D2     		bcs	.LCB2358
 2594 013e E0E0     		b	.L202	@long jump
 2595              	.LCB2358:
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2596              		.loc 1 3141 3 is_stmt 1 view .LVU768
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2597              		.loc 1 3141 18 is_stmt 0 view .LVU769
ARM GAS  /tmp/ccVOuidm.s 			page 158


 2598 0140 5B46     		mov	r3, fp
 2599 0142 4A46     		mov	r2, r9
 2600 0144 9B1A     		subs	r3, r3, r2
 2601 0146 9B46     		mov	fp, r3
 2602              	.LVL300:
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2603              		.loc 1 3141 9 view .LVU770
 2604 0148 5146     		mov	r1, r10
 2605 014a 1800     		movs	r0, r3
 2606              	.LVL301:
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2607              		.loc 1 3141 9 view .LVU771
 2608 014c FFF7FEFF 		bl	__aeabi_uidiv
 2609              	.LVL302:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2610              		.loc 1 3142 3 is_stmt 1 view .LVU772
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2611              		.loc 1 3142 6 is_stmt 0 view .LVU773
 2612 0150 D345     		cmp	fp, r10
 2613 0152 00D2     		bcs	.LCB2372
 2614 0154 D7E0     		b	.L203	@long jump
 2615              	.LCB2372:
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2616              		.loc 1 3143 3 is_stmt 1 view .LVU774
 2617              	.LVL303:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2618              		.loc 1 3144 3 view .LVU775
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2619              		.loc 1 3144 6 is_stmt 0 view .LVU776
 2620 0156 724B     		ldr	r3, .L216+4
 2621 0158 9842     		cmp	r0, r3
 2622 015a 2FD8     		bhi	.L204
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2623              		.loc 1 3144 27 is_stmt 1 discriminator 1 view .LVU777
 2624              	.LVL304:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2625              		.loc 1 3145 3 view .LVU778
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2626              		.loc 1 3145 6 is_stmt 0 view .LVU779
 2627 015c 714B     		ldr	r3, .L216+8
 2628 015e 9842     		cmp	r0, r3
 2629 0160 68D9     		bls	.L205
 2630 0162 0223     		movs	r3, #2
 2631 0164 9B46     		mov	fp, r3
 2632 0166 2BE0     		b	.L181
 2633              	.LVL305:
 2634              	.L192:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2635              		.loc 1 3054 54 discriminator 2 view .LVU780
 2636 0168 0020     		movs	r0, #0
 2637              	.LVL306:
 2638              	.L175:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2639              		.loc 1 3054 10 discriminator 4 view .LVU781
 2640 016a B200     		lsls	r2, r6, #2
 2641 016c 02AB     		add	r3, sp, #8
 2642 016e D050     		str	r0, [r2, r3]
ARM GAS  /tmp/ccVOuidm.s 			page 159


3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2643              		.loc 1 3052 23 is_stmt 1 discriminator 2 view .LVU782
 2644 0170 0136     		adds	r6, r6, #1
 2645              	.LVL307:
 2646              	.L173:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2647              		.loc 1 3052 17 discriminator 1 view .LVU783
 2648 0172 032E     		cmp	r6, #3
 2649 0174 0ED8     		bhi	.L211
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2650              		.loc 1 3053 4 view .LVU784
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2651              		.loc 1 3053 9 is_stmt 0 view .LVU785
 2652 0176 2000     		movs	r0, r4
 2653 0178 3030     		adds	r0, r0, #48
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2654              		.loc 1 3053 34 view .LVU786
 2655 017a 3301     		lsls	r3, r6, #4
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2656              		.loc 1 3053 30 view .LVU787
 2657 017c BF33     		adds	r3, r3, #191
 2658 017e FF33     		adds	r3, r3, #255
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2659              		.loc 1 3053 7 view .LVU788
 2660 0180 C018     		adds	r0, r0, r3
 2661              	.LVL308:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2662              		.loc 1 3054 4 is_stmt 1 view .LVU789
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2663              		.loc 1 3054 14 is_stmt 0 view .LVU790
 2664 0182 0379     		ldrb	r3, [r0, #4]
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2665              		.loc 1 3054 54 view .LVU791
 2666 0184 002B     		cmp	r3, #0
 2667 0186 EFD0     		beq	.L192
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2668              		.loc 1 3054 41 discriminator 1 view .LVU792
 2669 0188 0830     		adds	r0, r0, #8
 2670              	.LVL309:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2671              		.loc 1 3054 29 discriminator 1 view .LVU793
 2672 018a FFF7FEFF 		bl	ld_dword
 2673              	.LVL310:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2674              		.loc 1 3054 29 discriminator 1 view .LVU794
 2675 018e ECE7     		b	.L175
 2676              	.LVL311:
 2677              	.L191:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2678              		.loc 1 3052 10 view .LVU795
 2679 0190 0026     		movs	r6, #0
 2680              	.LVL312:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2681              		.loc 1 3052 10 view .LVU796
 2682 0192 EEE7     		b	.L173
 2683              	.LVL313:
 2684              	.L211:
ARM GAS  /tmp/ccVOuidm.s 			page 160


3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2685              		.loc 1 3052 10 view .LVU797
 2686 0194 0027     		movs	r7, #0
 2687              	.LVL314:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2688              		.loc 1 3052 10 view .LVU798
 2689 0196 0AE0     		b	.L178
 2690              	.LVL315:
 2691              	.L212:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2692              		.loc 1 3060 18 discriminator 1 view .LVU799
 2693 0198 3100     		movs	r1, r6
 2694 019a 2000     		movs	r0, r4
 2695 019c FFF7FEFF 		bl	check_fs
 2696              	.LVL316:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2697              		.loc 1 3061 40 is_stmt 1 view .LVU800
 2698 01a0 0128     		cmp	r0, #1
 2699 01a2 00D8     		bhi	.LCB2472
 2700 01a4 72E7     		b	.L174	@long jump
 2701              	.LCB2472:
 2702              	.LVL317:
 2703              	.L177:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2704              		.loc 1 3061 40 is_stmt 0 discriminator 1 view .LVU801
 2705 01a6 0137     		adds	r7, r7, #1
 2706              	.LVL318:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2707              		.loc 1 3061 40 discriminator 1 view .LVU802
 2708 01a8 032F     		cmp	r7, #3
 2709 01aa 00D9     		bls	.LCB2481
 2710 01ac 6EE7     		b	.L174	@long jump
 2711              	.LCB2481:
 2712              	.LVL319:
 2713              	.L178:
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2714              		.loc 1 3058 3 is_stmt 1 view .LVU803
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2715              		.loc 1 3059 4 view .LVU804
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2716              		.loc 1 3059 10 is_stmt 0 view .LVU805
 2717 01ae BB00     		lsls	r3, r7, #2
 2718 01b0 02AA     		add	r2, sp, #8
 2719 01b2 9E58     		ldr	r6, [r3, r2]
 2720              	.LVL320:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2721              		.loc 1 3060 4 is_stmt 1 view .LVU806
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2722              		.loc 1 3060 8 is_stmt 0 view .LVU807
 2723 01b4 002E     		cmp	r6, #0
 2724 01b6 EFD1     		bne	.L212
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2725              		.loc 1 3060 8 discriminator 2 view .LVU808
 2726 01b8 0320     		movs	r0, #3
 2727 01ba F4E7     		b	.L177
 2728              	.LVL321:
 2729              	.L204:
ARM GAS  /tmp/ccVOuidm.s 			page 161


3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2730              		.loc 1 3143 7 view .LVU809
 2731 01bc 0323     		movs	r3, #3
 2732 01be 9B46     		mov	fp, r3
 2733              	.LVL322:
 2734              	.L181:
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2735              		.loc 1 3148 3 is_stmt 1 view .LVU810
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2736              		.loc 1 3148 24 is_stmt 0 view .LVU811
 2737 01c0 831C     		adds	r3, r0, #2
 2738 01c2 9A46     		mov	r10, r3
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2739              		.loc 1 3148 16 view .LVU812
 2740 01c4 6361     		str	r3, [r4, #20]
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2741              		.loc 1 3149 3 is_stmt 1 view .LVU813
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2742              		.loc 1 3149 15 is_stmt 0 view .LVU814
 2743 01c6 E661     		str	r6, [r4, #28]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2744              		.loc 1 3150 3 is_stmt 1 view .LVU815
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2745              		.loc 1 3150 23 is_stmt 0 view .LVU816
 2746 01c8 019B     		ldr	r3, [sp, #4]
 2747 01ca 9B19     		adds	r3, r3, r6
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2748              		.loc 1 3150 15 view .LVU817
 2749 01cc 2362     		str	r3, [r4, #32]
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2750              		.loc 1 3151 3 is_stmt 1 view .LVU818
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2751              		.loc 1 3151 24 is_stmt 0 view .LVU819
 2752 01ce 4A46     		mov	r2, r9
 2753 01d0 B218     		adds	r2, r6, r2
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2754              		.loc 1 3151 16 view .LVU820
 2755 01d2 A262     		str	r2, [r4, #40]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2756              		.loc 1 3152 3 is_stmt 1 view .LVU821
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2757              		.loc 1 3152 6 is_stmt 0 view .LVU822
 2758 01d4 5A46     		mov	r2, fp
 2759 01d6 032A     		cmp	r2, #3
 2760 01d8 2FD0     		beq	.L213
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2761              		.loc 1 3158 4 is_stmt 1 view .LVU823
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2762              		.loc 1 3158 7 is_stmt 0 view .LVU824
 2763 01da 009A     		ldr	r2, [sp]
 2764 01dc 002A     		cmp	r2, #0
 2765 01de 00D1     		bne	.LCB2537
 2766 01e0 97E0     		b	.L208	@long jump
 2767              	.LCB2537:
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2768              		.loc 1 3159 4 is_stmt 1 view .LVU825
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
ARM GAS  /tmp/ccVOuidm.s 			page 162


 2769              		.loc 1 3159 30 is_stmt 0 view .LVU826
 2770 01e2 4344     		add	r3, r3, r8
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2771              		.loc 1 3159 16 view .LVU827
 2772 01e4 6362     		str	r3, [r4, #36]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2773              		.loc 1 3160 4 is_stmt 1 view .LVU828
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2774              		.loc 1 3161 22 is_stmt 0 view .LVU829
 2775 01e6 5B46     		mov	r3, fp
 2776 01e8 022B     		cmp	r3, #2
 2777 01ea 37D0     		beq	.L214
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2778              		.loc 1 3161 37 discriminator 2 view .LVU830
 2779 01ec 5346     		mov	r3, r10
 2780 01ee 5B00     		lsls	r3, r3, #1
 2781 01f0 5344     		add	r3, r3, r10
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2782              		.loc 1 3161 41 discriminator 2 view .LVU831
 2783 01f2 5B08     		lsrs	r3, r3, #1
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2784              		.loc 1 3161 61 discriminator 2 view .LVU832
 2785 01f4 0122     		movs	r2, #1
 2786              	.LVL323:
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2787              		.loc 1 3161 61 discriminator 2 view .LVU833
 2788 01f6 5146     		mov	r1, r10
 2789 01f8 0A40     		ands	r2, r1
 2790              	.LVL324:
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2791              		.loc 1 3161 22 discriminator 2 view .LVU834
 2792 01fa 9B18     		adds	r3, r3, r2
 2793              	.LVL325:
 2794              	.L183:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2795              		.loc 1 3163 3 is_stmt 1 view .LVU835
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2796              		.loc 1 3163 27 is_stmt 0 view .LVU836
 2797 01fc 4A4A     		ldr	r2, .L216+12
 2798 01fe 9446     		mov	ip, r2
 2799 0200 6344     		add	r3, r3, ip
 2800              	.LVL326:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2801              		.loc 1 3163 43 view .LVU837
 2802 0202 5B0A     		lsrs	r3, r3, #9
 2803              	.LVL327:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2804              		.loc 1 3163 6 view .LVU838
 2805 0204 BB42     		cmp	r3, r7
 2806 0206 00D9     		bls	.LCB2569
 2807 0208 85E0     		b	.L209	@long jump
 2808              	.LCB2569:
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2809              		.loc 1 3167 3 is_stmt 1 view .LVU839
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2810              		.loc 1 3167 33 is_stmt 0 view .LVU840
 2811 020a 0123     		movs	r3, #1
ARM GAS  /tmp/ccVOuidm.s 			page 163


 2812              	.LVL328:
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2813              		.loc 1 3167 33 view .LVU841
 2814 020c 5B42     		rsbs	r3, r3, #0
 2815              	.LVL329:
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2816              		.loc 1 3167 33 view .LVU842
 2817 020e 2361     		str	r3, [r4, #16]
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2818              		.loc 1 3167 17 view .LVU843
 2819 0210 E360     		str	r3, [r4, #12]
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2820              		.loc 1 3168 3 is_stmt 1 view .LVU844
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2821              		.loc 1 3168 16 is_stmt 0 view .LVU845
 2822 0212 8133     		adds	r3, r3, #129
 2823 0214 2371     		strb	r3, [r4, #4]
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2824              		.loc 1 3170 3 is_stmt 1 view .LVU846
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2825              		.loc 1 3170 6 is_stmt 0 view .LVU847
 2826 0216 5B46     		mov	r3, fp
 2827 0218 032B     		cmp	r3, #3
 2828 021a 22D0     		beq	.L215
 2829              	.L185:
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2830              		.loc 1 3191 2 is_stmt 1 view .LVU848
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2831              		.loc 1 3191 14 is_stmt 0 view .LVU849
 2832 021c 5B46     		mov	r3, fp
 2833 021e 2370     		strb	r3, [r4]
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2834              		.loc 1 3192 2 is_stmt 1 view .LVU850
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2835              		.loc 1 3192 11 is_stmt 0 view .LVU851
 2836 0220 424A     		ldr	r2, .L216+16
 2837 0222 1388     		ldrh	r3, [r2]
 2838 0224 0133     		adds	r3, r3, #1
 2839 0226 9BB2     		uxth	r3, r3
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2840              		.loc 1 3192 9 view .LVU852
 2841 0228 1380     		strh	r3, [r2]
 2842 022a E380     		strh	r3, [r4, #6]
3203:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2843              		.loc 1 3203 2 is_stmt 1 view .LVU853
 2844 022c 2000     		movs	r0, r4
 2845 022e FFF7FEFF 		bl	clear_lock
 2846              	.LVL330:
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2847              		.loc 1 3205 2 view .LVU854
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2848              		.loc 1 3205 9 is_stmt 0 view .LVU855
 2849 0232 48E0     		b	.L170
 2850              	.LVL331:
 2851              	.L205:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2852              		.loc 1 3145 31 discriminator 1 view .LVU856
ARM GAS  /tmp/ccVOuidm.s 			page 164


 2853 0234 0123     		movs	r3, #1
 2854              	.LVL332:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2855              		.loc 1 3145 31 discriminator 1 view .LVU857
 2856 0236 9B46     		mov	fp, r3
 2857 0238 C2E7     		b	.L181
 2858              	.LVL333:
 2859              	.L213:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2860              		.loc 1 3153 4 is_stmt 1 view .LVU858
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2861              		.loc 1 3153 8 is_stmt 0 view .LVU859
 2862 023a 2000     		movs	r0, r4
 2863              	.LVL334:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2864              		.loc 1 3153 8 view .LVU860
 2865 023c 5A30     		adds	r0, r0, #90
 2866 023e FFF7FEFF 		bl	ld_word
 2867              	.LVL335:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2868              		.loc 1 3153 7 discriminator 1 view .LVU861
 2869 0242 0028     		cmp	r0, #0
 2870 0244 61D1     		bne	.L206
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2871              		.loc 1 3154 4 is_stmt 1 view .LVU862
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2872              		.loc 1 3154 7 is_stmt 0 view .LVU863
 2873 0246 009B     		ldr	r3, [sp]
 2874 0248 002B     		cmp	r3, #0
 2875 024a 60D1     		bne	.L207
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2876              		.loc 1 3155 4 is_stmt 1 view .LVU864
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2877              		.loc 1 3155 18 is_stmt 0 view .LVU865
 2878 024c 2000     		movs	r0, r4
 2879 024e 5C30     		adds	r0, r0, #92
 2880 0250 FFF7FEFF 		bl	ld_dword
 2881              	.LVL336:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2882              		.loc 1 3155 16 discriminator 1 view .LVU866
 2883 0254 6062     		str	r0, [r4, #36]
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2884              		.loc 1 3156 4 is_stmt 1 view .LVU867
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2885              		.loc 1 3156 11 is_stmt 0 view .LVU868
 2886 0256 5346     		mov	r3, r10
 2887 0258 9B00     		lsls	r3, r3, #2
 2888              	.LVL337:
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2889              		.loc 1 3156 11 view .LVU869
 2890 025a CFE7     		b	.L183
 2891              	.LVL338:
 2892              	.L214:
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2893              		.loc 1 3161 22 discriminator 1 view .LVU870
 2894 025c 5346     		mov	r3, r10
 2895 025e 5B00     		lsls	r3, r3, #1
ARM GAS  /tmp/ccVOuidm.s 			page 165


 2896 0260 CCE7     		b	.L183
 2897              	.LVL339:
 2898              	.L215:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2899              		.loc 1 3171 7 view .LVU871
 2900 0262 2000     		movs	r0, r4
 2901 0264 6030     		adds	r0, r0, #96
 2902 0266 FFF7FEFF 		bl	ld_word
 2903              	.LVL340:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2904              		.loc 1 3171 4 discriminator 1 view .LVU872
 2905 026a 0128     		cmp	r0, #1
 2906 026c D6D1     		bne	.L185
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2907              		.loc 1 3172 7 view .LVU873
 2908 026e 711C     		adds	r1, r6, #1
 2909 0270 2000     		movs	r0, r4
 2910 0272 FFF7FEFF 		bl	move_window
 2911              	.LVL341:
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2912              		.loc 1 3172 4 discriminator 1 view .LVU874
 2913 0276 0028     		cmp	r0, #0
 2914 0278 D0D1     		bne	.L185
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2915              		.loc 1 3174 4 is_stmt 1 view .LVU875
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2916              		.loc 1 3174 17 is_stmt 0 view .LVU876
 2917 027a 0023     		movs	r3, #0
 2918 027c 2371     		strb	r3, [r4, #4]
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2919              		.loc 1 3175 4 is_stmt 1 view .LVU877
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2920              		.loc 1 3175 8 is_stmt 0 view .LVU878
 2921 027e 2C4B     		ldr	r3, .L216+20
 2922 0280 E018     		adds	r0, r4, r3
 2923 0282 FFF7FEFF 		bl	ld_word
 2924              	.LVL342:
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2925              		.loc 1 3175 7 discriminator 1 view .LVU879
 2926 0286 2B4B     		ldr	r3, .L216+24
 2927 0288 9842     		cmp	r0, r3
 2928 028a C7D1     		bne	.L185
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2929              		.loc 1 3176 17 view .LVU880
 2930 028c 2000     		movs	r0, r4
 2931 028e 3030     		adds	r0, r0, #48
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2932              		.loc 1 3176 8 view .LVU881
 2933 0290 FFF7FEFF 		bl	ld_dword
 2934              	.LVL343:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2935              		.loc 1 3176 5 discriminator 1 view .LVU882
 2936 0294 284B     		ldr	r3, .L216+28
 2937 0296 9842     		cmp	r0, r3
 2938 0298 C0D1     		bne	.L185
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2939              		.loc 1 3177 8 view .LVU883
ARM GAS  /tmp/ccVOuidm.s 			page 166


 2940 029a 8523     		movs	r3, #133
 2941 029c 9B00     		lsls	r3, r3, #2
 2942 029e E018     		adds	r0, r4, r3
 2943 02a0 FFF7FEFF 		bl	ld_dword
 2944              	.LVL344:
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2945              		.loc 1 3177 5 discriminator 1 view .LVU884
 2946 02a4 254B     		ldr	r3, .L216+32
 2947 02a6 9842     		cmp	r0, r3
 2948 02a8 B8D1     		bne	.L185
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2949              		.loc 1 3180 5 is_stmt 1 view .LVU885
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2950              		.loc 1 3180 21 is_stmt 0 view .LVU886
 2951 02aa 8623     		movs	r3, #134
 2952 02ac 9B00     		lsls	r3, r3, #2
 2953 02ae E018     		adds	r0, r4, r3
 2954 02b0 FFF7FEFF 		bl	ld_dword
 2955              	.LVL345:
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2956              		.loc 1 3180 19 discriminator 1 view .LVU887
 2957 02b4 2061     		str	r0, [r4, #16]
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2958              		.loc 1 3183 5 is_stmt 1 view .LVU888
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2959              		.loc 1 3183 21 is_stmt 0 view .LVU889
 2960 02b6 8723     		movs	r3, #135
 2961 02b8 9B00     		lsls	r3, r3, #2
 2962 02ba E018     		adds	r0, r4, r3
 2963 02bc FFF7FEFF 		bl	ld_dword
 2964              	.LVL346:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2965              		.loc 1 3183 19 discriminator 1 view .LVU890
 2966 02c0 E060     		str	r0, [r4, #12]
 2967 02c2 ABE7     		b	.L185
 2968              	.LVL347:
 2969              	.L186:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2970              		.loc 1 3011 22 discriminator 1 view .LVU891
 2971 02c4 0B25     		movs	r5, #11
 2972              	.LVL348:
 2973              	.L170:
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2974              		.loc 1 3206 1 view .LVU892
 2975 02c6 2800     		movs	r0, r5
 2976 02c8 07B0     		add	sp, sp, #28
 2977              		@ sp needed
 2978 02ca F0BC     		pop	{r4, r5, r6, r7}
 2979 02cc BB46     		mov	fp, r7
 2980 02ce B246     		mov	r10, r6
 2981 02d0 A946     		mov	r9, r5
 2982 02d2 A046     		mov	r8, r4
 2983 02d4 F0BD     		pop	{r4, r5, r6, r7, pc}
 2984              	.LVL349:
 2985              	.L187:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2986              		.loc 1 3015 18 discriminator 1 view .LVU893
ARM GAS  /tmp/ccVOuidm.s 			page 167


 2987 02d6 0C25     		movs	r5, #12
 2988 02d8 F5E7     		b	.L170
 2989              	.LVL350:
 2990              	.L189:
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2991              		.loc 1 3038 10 view .LVU894
 2992 02da 0325     		movs	r5, #3
 2993 02dc F3E7     		b	.L170
 2994              	.LVL351:
 2995              	.L190:
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2996              		.loc 1 3041 10 view .LVU895
 2997 02de 0A25     		movs	r5, #10
 2998 02e0 F1E7     		b	.L170
 2999              	.LVL352:
 3000              	.L194:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 3001              		.loc 1 3063 23 discriminator 1 view .LVU896
 3002 02e2 0125     		movs	r5, #1
 3003              	.LVL353:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 3004              		.loc 1 3063 23 discriminator 1 view .LVU897
 3005 02e4 EFE7     		b	.L170
 3006              	.LVL354:
 3007              	.L195:
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3008              		.loc 1 3064 23 discriminator 1 view .LVU898
 3009 02e6 0D25     		movs	r5, #13
 3010 02e8 EDE7     		b	.L170
 3011              	.LVL355:
 3012              	.L196:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3013              		.loc 1 3116 59 discriminator 1 view .LVU899
 3014 02ea 0D25     		movs	r5, #13
 3015 02ec EBE7     		b	.L170
 3016              	.LVL356:
 3017              	.L197:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 3018              		.loc 1 3123 50 discriminator 1 view .LVU900
 3019 02ee 0D25     		movs	r5, #13
 3020 02f0 E9E7     		b	.L170
 3021              	.LVL357:
 3022              	.L198:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3023              		.loc 1 3127 63 discriminator 3 view .LVU901
 3024 02f2 0D25     		movs	r5, #13
 3025 02f4 E7E7     		b	.L170
 3026              	.LVL358:
 3027              	.L199:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3028              		.loc 1 3127 63 discriminator 3 view .LVU902
 3029 02f6 0D25     		movs	r5, #13
 3030 02f8 E5E7     		b	.L170
 3031              	.L200:
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3032              		.loc 1 3130 49 discriminator 1 view .LVU903
 3033 02fa 0D25     		movs	r5, #13
ARM GAS  /tmp/ccVOuidm.s 			page 168


 3034 02fc E3E7     		b	.L170
 3035              	.LVL359:
 3036              	.L201:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3037              		.loc 1 3136 25 discriminator 1 view .LVU904
 3038 02fe 0D25     		movs	r5, #13
 3039 0300 E1E7     		b	.L170
 3040              	.LVL360:
 3041              	.L202:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 3042              		.loc 1 3140 30 discriminator 1 view .LVU905
 3043 0302 0D25     		movs	r5, #13
 3044 0304 DFE7     		b	.L170
 3045              	.LVL361:
 3046              	.L203:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 3047              		.loc 1 3142 26 discriminator 1 view .LVU906
 3048 0306 0D25     		movs	r5, #13
 3049 0308 DDE7     		b	.L170
 3050              	.LVL362:
 3051              	.L206:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 3052              		.loc 1 3153 52 discriminator 1 view .LVU907
 3053 030a 0D25     		movs	r5, #13
 3054 030c DBE7     		b	.L170
 3055              	.L207:
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 3056              		.loc 1 3154 30 discriminator 1 view .LVU908
 3057 030e 0D25     		movs	r5, #13
 3058 0310 D9E7     		b	.L170
 3059              	.LVL363:
 3060              	.L208:
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 3061              		.loc 1 3158 35 discriminator 1 view .LVU909
 3062 0312 0D25     		movs	r5, #13
 3063 0314 D7E7     		b	.L170
 3064              	.LVL364:
 3065              	.L209:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3066              		.loc 1 3163 60 discriminator 1 view .LVU910
 3067 0316 0D25     		movs	r5, #13
 3068 0318 D5E7     		b	.L170
 3069              	.L217:
 3070 031a C046     		.align	2
 3071              	.L216:
 3072 031c 00000000 		.word	FatFs
 3073 0320 F5FF0000 		.word	65525
 3074 0324 F50F0000 		.word	4085
 3075 0328 FF010000 		.word	511
 3076 032c 00000000 		.word	Fsid
 3077 0330 2E020000 		.word	558
 3078 0334 55AA0000 		.word	43605
 3079 0338 52526141 		.word	1096897106
 3080 033c 72724161 		.word	1631679090
 3081              		.cfi_endproc
 3082              	.LFE529:
 3084              		.section	.text.put_fat,"ax",%progbits
ARM GAS  /tmp/ccVOuidm.s 			page 169


 3085              		.align	1
 3086              		.syntax unified
 3087              		.code	16
 3088              		.thumb_func
 3090              	put_fat:
 3091              	.LVL365:
 3092              	.LFB511:
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3093              		.loc 1 1086 1 is_stmt 1 view -0
 3094              		.cfi_startproc
 3095              		@ args = 0, pretend = 0, frame = 0
 3096              		@ frame_needed = 0, uses_anonymous_args = 0
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3097              		.loc 1 1086 1 is_stmt 0 view .LVU912
 3098 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3099              	.LCFI20:
 3100              		.cfi_def_cfa_offset 20
 3101              		.cfi_offset 4, -20
 3102              		.cfi_offset 5, -16
 3103              		.cfi_offset 6, -12
 3104              		.cfi_offset 7, -8
 3105              		.cfi_offset 14, -4
 3106 0002 D646     		mov	lr, r10
 3107 0004 4F46     		mov	r7, r9
 3108 0006 4646     		mov	r6, r8
 3109 0008 C0B5     		push	{r6, r7, lr}
 3110              	.LCFI21:
 3111              		.cfi_def_cfa_offset 32
 3112              		.cfi_offset 8, -32
 3113              		.cfi_offset 9, -28
 3114              		.cfi_offset 10, -24
 3115 000a 0600     		movs	r6, r0
 3116 000c 0C00     		movs	r4, r1
 3117 000e 1700     		movs	r7, r2
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 3118              		.loc 1 1087 2 is_stmt 1 view .LVU913
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
 3119              		.loc 1 1088 2 view .LVU914
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3120              		.loc 1 1089 2 view .LVU915
 3121              	.LVL366:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3122              		.loc 1 1091 2 view .LVU916
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3123              		.loc 1 1091 5 is_stmt 0 view .LVU917
 3124 0010 0129     		cmp	r1, #1
 3125 0012 00D8     		bhi	.LCB2931
 3126 0014 80E0     		b	.L226	@long jump
 3127              	.LCB2931:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3128              		.loc 1 1091 28 discriminator 1 view .LVU918
 3129 0016 4369     		ldr	r3, [r0, #20]
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3130              		.loc 1 1091 16 discriminator 1 view .LVU919
 3131 0018 8B42     		cmp	r3, r1
 3132 001a 00D8     		bhi	.LCB2934
 3133 001c 83E0     		b	.L227	@long jump
ARM GAS  /tmp/ccVOuidm.s 			page 170


 3134              	.LCB2934:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3135              		.loc 1 1092 3 is_stmt 1 view .LVU920
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3136              		.loc 1 1092 13 is_stmt 0 view .LVU921
 3137 001e 0378     		ldrb	r3, [r0]
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3138              		.loc 1 1092 3 view .LVU922
 3139 0020 022B     		cmp	r3, #2
 3140 0022 49D0     		beq	.L220
 3141 0024 032B     		cmp	r3, #3
 3142 0026 5BD0     		beq	.L221
 3143 0028 012B     		cmp	r3, #1
 3144 002a 00D0     		beq	.LCB2942
 3145 002c 7DE0     		b	.L228	@long jump
 3146              	.LCB2942:
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3147              		.loc 1 1094 4 is_stmt 1 view .LVU923
 3148              	.LVL367:
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3149              		.loc 1 1094 21 view .LVU924
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3150              		.loc 1 1094 30 is_stmt 0 view .LVU925
 3151 002e 4B08     		lsrs	r3, r1, #1
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3152              		.loc 1 1094 24 view .LVU926
 3153 0030 9846     		mov	r8, r3
 3154 0032 8844     		add	r8, r8, r1
 3155              	.LVL368:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3156              		.loc 1 1095 4 is_stmt 1 view .LVU927
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3157              		.loc 1 1095 28 is_stmt 0 view .LVU928
 3158 0034 016A     		ldr	r1, [r0, #32]
 3159              	.LVL369:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3160              		.loc 1 1095 44 view .LVU929
 3161 0036 4346     		mov	r3, r8
 3162 0038 5B0A     		lsrs	r3, r3, #9
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3163              		.loc 1 1095 10 view .LVU930
 3164 003a C918     		adds	r1, r1, r3
 3165 003c FFF7FEFF 		bl	move_window
 3166              	.LVL370:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3167              		.loc 1 1095 10 view .LVU931
 3168 0040 051E     		subs	r5, r0, #0
 3169              	.LVL371:
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 3170              		.loc 1 1096 4 is_stmt 1 view .LVU932
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 3171              		.loc 1 1096 7 is_stmt 0 view .LVU933
 3172 0042 6AD1     		bne	.L219
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3173              		.loc 1 1097 4 is_stmt 1 view .LVU934
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3174              		.loc 1 1097 8 is_stmt 0 view .LVU935
ARM GAS  /tmp/ccVOuidm.s 			page 171


 3175 0044 3023     		movs	r3, #48
 3176 0046 9A46     		mov	r10, r3
 3177 0048 B244     		add	r10, r10, r6
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3178              		.loc 1 1097 23 view .LVU936
 3179 004a 2F3B     		subs	r3, r3, #47
 3180 004c 4344     		add	r3, r3, r8
 3181 004e 9946     		mov	r9, r3
 3182              	.LVL372:
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3183              		.loc 1 1097 23 view .LVU937
 3184 0050 4346     		mov	r3, r8
 3185              	.LVL373:
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3186              		.loc 1 1097 23 view .LVU938
 3187 0052 DB05     		lsls	r3, r3, #23
 3188 0054 DB0D     		lsrs	r3, r3, #23
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3189              		.loc 1 1097 6 view .LVU939
 3190 0056 5344     		add	r3, r3, r10
 3191              	.LVL374:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3192              		.loc 1 1098 4 is_stmt 1 view .LVU940
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3193              		.loc 1 1098 15 is_stmt 0 view .LVU941
 3194 0058 0122     		movs	r2, #1
 3195 005a 1100     		movs	r1, r2
 3196 005c 2140     		ands	r1, r4
 3197 005e 8846     		mov	r8, r1
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3198              		.loc 1 1098 7 view .LVU942
 3199 0060 2242     		tst	r2, r4
 3200 0062 1ED0     		beq	.L222
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3201              		.loc 1 1098 24 discriminator 1 view .LVU943
 3202 0064 1878     		ldrb	r0, [r3]
 3203              	.LVL375:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3204              		.loc 1 1098 7 discriminator 1 view .LVU944
 3205 0066 3A01     		lsls	r2, r7, #4
 3206 0068 0F21     		movs	r1, #15
 3207 006a 0140     		ands	r1, r0
 3208 006c 0A43     		orrs	r2, r1
 3209 006e D2B2     		uxtb	r2, r2
 3210              	.L223:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3211              		.loc 1 1098 7 discriminator 4 view .LVU945
 3212 0070 1A70     		strb	r2, [r3]
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3213              		.loc 1 1099 4 is_stmt 1 view .LVU946
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3214              		.loc 1 1099 14 is_stmt 0 view .LVU947
 3215 0072 0123     		movs	r3, #1
 3216              	.LVL376:
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3217              		.loc 1 1099 14 view .LVU948
 3218 0074 F370     		strb	r3, [r6, #3]
ARM GAS  /tmp/ccVOuidm.s 			page 172


1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3219              		.loc 1 1100 4 is_stmt 1 view .LVU949
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3220              		.loc 1 1100 28 is_stmt 0 view .LVU950
 3221 0076 316A     		ldr	r1, [r6, #32]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3222              		.loc 1 1100 44 view .LVU951
 3223 0078 4B46     		mov	r3, r9
 3224 007a 5B0A     		lsrs	r3, r3, #9
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3225              		.loc 1 1100 10 view .LVU952
 3226 007c C918     		adds	r1, r1, r3
 3227 007e 3000     		movs	r0, r6
 3228 0080 FFF7FEFF 		bl	move_window
 3229              	.LVL377:
 3230 0084 051E     		subs	r5, r0, #0
 3231              	.LVL378:
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 3232              		.loc 1 1101 4 is_stmt 1 view .LVU953
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 3233              		.loc 1 1101 7 is_stmt 0 view .LVU954
 3234 0086 48D1     		bne	.L219
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3235              		.loc 1 1102 4 is_stmt 1 view .LVU955
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3236              		.loc 1 1102 21 is_stmt 0 view .LVU956
 3237 0088 4B46     		mov	r3, r9
 3238 008a DB05     		lsls	r3, r3, #23
 3239 008c DB0D     		lsrs	r3, r3, #23
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3240              		.loc 1 1102 6 view .LVU957
 3241 008e 5344     		add	r3, r3, r10
 3242              	.LVL379:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3243              		.loc 1 1103 4 is_stmt 1 view .LVU958
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3244              		.loc 1 1103 7 is_stmt 0 view .LVU959
 3245 0090 4246     		mov	r2, r8
 3246 0092 002A     		cmp	r2, #0
 3247 0094 07D0     		beq	.L224
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3248              		.loc 1 1103 33 discriminator 1 view .LVU960
 3249 0096 3A09     		lsrs	r2, r7, #4
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3250              		.loc 1 1103 7 discriminator 1 view .LVU961
 3251 0098 D2B2     		uxtb	r2, r2
 3252              	.LVL380:
 3253              	.L225:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3254              		.loc 1 1103 7 discriminator 4 view .LVU962
 3255 009a 1A70     		strb	r2, [r3]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3256              		.loc 1 1104 4 is_stmt 1 view .LVU963
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3257              		.loc 1 1104 14 is_stmt 0 view .LVU964
 3258 009c 0123     		movs	r3, #1
 3259              	.LVL381:
ARM GAS  /tmp/ccVOuidm.s 			page 173


1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3260              		.loc 1 1104 14 view .LVU965
 3261 009e F370     		strb	r3, [r6, #3]
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3262              		.loc 1 1105 4 is_stmt 1 view .LVU966
 3263 00a0 3BE0     		b	.L219
 3264              	.LVL382:
 3265              	.L222:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3266              		.loc 1 1098 7 is_stmt 0 discriminator 2 view .LVU967
 3267 00a2 FAB2     		uxtb	r2, r7
 3268 00a4 E4E7     		b	.L223
 3269              	.L224:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3270              		.loc 1 1103 43 discriminator 2 view .LVU968
 3271 00a6 1A78     		ldrb	r2, [r3]
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3272              		.loc 1 1103 68 discriminator 2 view .LVU969
 3273 00a8 3F0A     		lsrs	r7, r7, #8
 3274              	.LVL383:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3275              		.loc 1 1103 57 discriminator 2 view .LVU970
 3276 00aa 7FB2     		sxtb	r7, r7
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3277              		.loc 1 1103 74 discriminator 2 view .LVU971
 3278 00ac 0F21     		movs	r1, #15
 3279 00ae 3940     		ands	r1, r7
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3280              		.loc 1 1103 7 discriminator 2 view .LVU972
 3281 00b0 0F20     		movs	r0, #15
 3282              	.LVL384:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3283              		.loc 1 1103 7 discriminator 2 view .LVU973
 3284 00b2 8243     		bics	r2, r0
 3285 00b4 0A43     		orrs	r2, r1
 3286 00b6 F0E7     		b	.L225
 3287              	.LVL385:
 3288              	.L220:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3289              		.loc 1 1108 4 is_stmt 1 view .LVU974
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3290              		.loc 1 1108 28 is_stmt 0 view .LVU975
 3291 00b8 016A     		ldr	r1, [r0, #32]
 3292              	.LVL386:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3293              		.loc 1 1108 46 view .LVU976
 3294 00ba 230A     		lsrs	r3, r4, #8
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3295              		.loc 1 1108 10 view .LVU977
 3296 00bc C918     		adds	r1, r1, r3
 3297 00be FFF7FEFF 		bl	move_window
 3298              	.LVL387:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3299              		.loc 1 1108 10 view .LVU978
 3300 00c2 051E     		subs	r5, r0, #0
 3301              	.LVL388:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
ARM GAS  /tmp/ccVOuidm.s 			page 174


 3302              		.loc 1 1109 4 is_stmt 1 view .LVU979
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 3303              		.loc 1 1109 7 is_stmt 0 view .LVU980
 3304 00c4 29D1     		bne	.L219
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3305              		.loc 1 1110 4 is_stmt 1 view .LVU981
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3306              		.loc 1 1110 12 is_stmt 0 view .LVU982
 3307 00c6 3000     		movs	r0, r6
 3308              	.LVL389:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3309              		.loc 1 1110 12 view .LVU983
 3310 00c8 3030     		adds	r0, r0, #48
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3311              		.loc 1 1110 27 view .LVU984
 3312 00ca 6400     		lsls	r4, r4, #1
 3313              	.LVL390:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3314              		.loc 1 1110 31 view .LVU985
 3315 00cc FF23     		movs	r3, #255
 3316 00ce 5B00     		lsls	r3, r3, #1
 3317 00d0 1C40     		ands	r4, r3
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3318              		.loc 1 1110 4 view .LVU986
 3319 00d2 B9B2     		uxth	r1, r7
 3320 00d4 0019     		adds	r0, r0, r4
 3321 00d6 FFF7FEFF 		bl	st_word
 3322              	.LVL391:
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3323              		.loc 1 1111 4 is_stmt 1 view .LVU987
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3324              		.loc 1 1111 14 is_stmt 0 view .LVU988
 3325 00da 0123     		movs	r3, #1
 3326 00dc F370     		strb	r3, [r6, #3]
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3327              		.loc 1 1112 4 is_stmt 1 view .LVU989
 3328 00de 1CE0     		b	.L219
 3329              	.LVL392:
 3330              	.L221:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3331              		.loc 1 1118 4 view .LVU990
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3332              		.loc 1 1118 28 is_stmt 0 view .LVU991
 3333 00e0 016A     		ldr	r1, [r0, #32]
 3334              	.LVL393:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3335              		.loc 1 1118 46 view .LVU992
 3336 00e2 E309     		lsrs	r3, r4, #7
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3337              		.loc 1 1118 10 view .LVU993
 3338 00e4 C918     		adds	r1, r1, r3
 3339 00e6 FFF7FEFF 		bl	move_window
 3340              	.LVL394:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3341              		.loc 1 1118 10 view .LVU994
 3342 00ea 051E     		subs	r5, r0, #0
 3343              	.LVL395:
ARM GAS  /tmp/ccVOuidm.s 			page 175


1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3344              		.loc 1 1119 4 is_stmt 1 view .LVU995
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3345              		.loc 1 1119 7 is_stmt 0 view .LVU996
 3346 00ec 15D1     		bne	.L219
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
 3347              		.loc 1 1120 4 is_stmt 1 view .LVU997
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3348              		.loc 1 1121 5 view .LVU998
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3349              		.loc 1 1121 16 is_stmt 0 view .LVU999
 3350 00ee 3F01     		lsls	r7, r7, #4
 3351              	.LVL396:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3352              		.loc 1 1121 16 view .LVU1000
 3353 00f0 3F09     		lsrs	r7, r7, #4
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3354              		.loc 1 1121 42 view .LVU1001
 3355 00f2 3300     		movs	r3, r6
 3356 00f4 3033     		adds	r3, r3, #48
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3357              		.loc 1 1121 57 view .LVU1002
 3358 00f6 A400     		lsls	r4, r4, #2
 3359              	.LVL397:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3360              		.loc 1 1121 61 view .LVU1003
 3361 00f8 FE22     		movs	r2, #254
 3362 00fa 5200     		lsls	r2, r2, #1
 3363 00fc 1440     		ands	r4, r2
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3364              		.loc 1 1121 33 view .LVU1004
 3365 00fe 1C19     		adds	r4, r3, r4
 3366 0100 2000     		movs	r0, r4
 3367              	.LVL398:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3368              		.loc 1 1121 33 view .LVU1005
 3369 0102 FFF7FEFF 		bl	ld_dword
 3370              	.LVL399:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3371              		.loc 1 1121 71 discriminator 1 view .LVU1006
 3372 0106 010F     		lsrs	r1, r0, #28
 3373 0108 0907     		lsls	r1, r1, #28
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3374              		.loc 1 1121 9 discriminator 1 view .LVU1007
 3375 010a 3943     		orrs	r1, r7
 3376              	.LVL400:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3377              		.loc 1 1123 4 is_stmt 1 view .LVU1008
 3378 010c 2000     		movs	r0, r4
 3379 010e FFF7FEFF 		bl	st_dword
 3380              	.LVL401:
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3381              		.loc 1 1124 4 view .LVU1009
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3382              		.loc 1 1124 14 is_stmt 0 view .LVU1010
 3383 0112 0123     		movs	r3, #1
 3384 0114 F370     		strb	r3, [r6, #3]
ARM GAS  /tmp/ccVOuidm.s 			page 176


1125:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3385              		.loc 1 1125 4 is_stmt 1 view .LVU1011
 3386 0116 00E0     		b	.L219
 3387              	.LVL402:
 3388              	.L226:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3389              		.loc 1 1089 10 is_stmt 0 view .LVU1012
 3390 0118 0225     		movs	r5, #2
 3391              	.LVL403:
 3392              	.L219:
1128:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3393              		.loc 1 1128 2 is_stmt 1 view .LVU1013
1129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3394              		.loc 1 1129 1 is_stmt 0 view .LVU1014
 3395 011a 2800     		movs	r0, r5
 3396              		@ sp needed
 3397              	.LVL404:
 3398              	.LVL405:
1129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3399              		.loc 1 1129 1 view .LVU1015
 3400 011c E0BC     		pop	{r5, r6, r7}
 3401 011e BA46     		mov	r10, r7
 3402 0120 B146     		mov	r9, r6
 3403 0122 A846     		mov	r8, r5
 3404 0124 F0BD     		pop	{r4, r5, r6, r7, pc}
 3405              	.LVL406:
 3406              	.L227:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3407              		.loc 1 1089 10 view .LVU1016
 3408 0126 0225     		movs	r5, #2
 3409 0128 F7E7     		b	.L219
 3410              	.L228:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3411              		.loc 1 1092 3 view .LVU1017
 3412 012a 0225     		movs	r5, #2
 3413 012c F5E7     		b	.L219
 3414              		.cfi_endproc
 3415              	.LFE511:
 3417              		.section	.text.get_fat,"ax",%progbits
 3418              		.align	1
 3419              		.syntax unified
 3420              		.code	16
 3421              		.thumb_func
 3423              	get_fat:
 3424              	.LVL407:
 3425              	.LFB510:
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3426              		.loc 1 1005 1 is_stmt 1 view -0
 3427              		.cfi_startproc
 3428              		@ args = 0, pretend = 0, frame = 0
 3429              		@ frame_needed = 0, uses_anonymous_args = 0
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3430              		.loc 1 1005 1 is_stmt 0 view .LVU1019
 3431 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3432              	.LCFI22:
 3433              		.cfi_def_cfa_offset 24
 3434              		.cfi_offset 3, -24
ARM GAS  /tmp/ccVOuidm.s 			page 177


 3435              		.cfi_offset 4, -20
 3436              		.cfi_offset 5, -16
 3437              		.cfi_offset 6, -12
 3438              		.cfi_offset 7, -8
 3439              		.cfi_offset 14, -4
 3440 0002 0C00     		movs	r4, r1
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 3441              		.loc 1 1006 2 is_stmt 1 view .LVU1020
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3442              		.loc 1 1007 2 view .LVU1021
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3443              		.loc 1 1008 2 view .LVU1022
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3444              		.loc 1 1008 9 is_stmt 0 view .LVU1023
 3445 0004 0568     		ldr	r5, [r0]
 3446              	.LVL408:
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3447              		.loc 1 1011 2 is_stmt 1 view .LVU1024
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3448              		.loc 1 1011 5 is_stmt 0 view .LVU1025
 3449 0006 0129     		cmp	r1, #1
 3450 0008 56D9     		bls	.L234
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3451              		.loc 1 1011 28 discriminator 1 view .LVU1026
 3452 000a 6B69     		ldr	r3, [r5, #20]
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3453              		.loc 1 1011 15 discriminator 1 view .LVU1027
 3454 000c 8B42     		cmp	r3, r1
 3455 000e 55D9     		bls	.L235
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3456              		.loc 1 1015 3 is_stmt 1 view .LVU1028
 3457              	.LVL409:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3458              		.loc 1 1017 3 view .LVU1029
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3459              		.loc 1 1017 13 is_stmt 0 view .LVU1030
 3460 0010 2B78     		ldrb	r3, [r5]
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3461              		.loc 1 1017 3 view .LVU1031
 3462 0012 022B     		cmp	r3, #2
 3463 0014 2CD0     		beq	.L231
 3464 0016 032B     		cmp	r3, #3
 3465 0018 3BD0     		beq	.L232
 3466 001a 012B     		cmp	r3, #1
 3467 001c 50D1     		bne	.L236
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3468              		.loc 1 1019 4 is_stmt 1 view .LVU1032
 3469              	.LVL410:
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3470              		.loc 1 1019 21 view .LVU1033
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3471              		.loc 1 1019 30 is_stmt 0 view .LVU1034
 3472 001e 4E08     		lsrs	r6, r1, #1
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3473              		.loc 1 1019 24 view .LVU1035
 3474 0020 7618     		adds	r6, r6, r1
 3475              	.LVL411:
ARM GAS  /tmp/ccVOuidm.s 			page 178


1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3476              		.loc 1 1020 4 is_stmt 1 view .LVU1036
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3477              		.loc 1 1020 26 is_stmt 0 view .LVU1037
 3478 0022 296A     		ldr	r1, [r5, #32]
 3479              	.LVL412:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3480              		.loc 1 1020 42 view .LVU1038
 3481 0024 730A     		lsrs	r3, r6, #9
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3482              		.loc 1 1020 8 view .LVU1039
 3483 0026 C918     		adds	r1, r1, r3
 3484 0028 2800     		movs	r0, r5
 3485              	.LVL413:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3486              		.loc 1 1020 8 view .LVU1040
 3487 002a FFF7FEFF 		bl	move_window
 3488              	.LVL414:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3489              		.loc 1 1020 7 discriminator 1 view .LVU1041
 3490 002e 0028     		cmp	r0, #0
 3491 0030 02D0     		beq	.L241
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3492              		.loc 1 1015 7 view .LVU1042
 3493 0032 0120     		movs	r0, #1
 3494 0034 4042     		rsbs	r0, r0, #0
 3495 0036 40E0     		b	.L229
 3496              	.L241:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3497              		.loc 1 1021 4 is_stmt 1 view .LVU1043
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3498              		.loc 1 1021 19 is_stmt 0 view .LVU1044
 3499 0038 771C     		adds	r7, r6, #1
 3500              	.LVL415:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3501              		.loc 1 1021 22 view .LVU1045
 3502 003a F605     		lsls	r6, r6, #23
 3503 003c F60D     		lsrs	r6, r6, #23
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3504              		.loc 1 1021 16 view .LVU1046
 3505 003e AE19     		adds	r6, r5, r6
 3506 0040 3036     		adds	r6, r6, #48
 3507 0042 3678     		ldrb	r6, [r6]
 3508              	.LVL416:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3509              		.loc 1 1022 4 is_stmt 1 view .LVU1047
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3510              		.loc 1 1022 26 is_stmt 0 view .LVU1048
 3511 0044 296A     		ldr	r1, [r5, #32]
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3512              		.loc 1 1022 42 view .LVU1049
 3513 0046 7B0A     		lsrs	r3, r7, #9
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3514              		.loc 1 1022 8 view .LVU1050
 3515 0048 C918     		adds	r1, r1, r3
 3516 004a 2800     		movs	r0, r5
 3517 004c FFF7FEFF 		bl	move_window
ARM GAS  /tmp/ccVOuidm.s 			page 179


 3518              	.LVL417:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3519              		.loc 1 1022 7 discriminator 1 view .LVU1051
 3520 0050 0028     		cmp	r0, #0
 3521 0052 37D1     		bne	.L238
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3522              		.loc 1 1023 4 is_stmt 1 view .LVU1052
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3523              		.loc 1 1023 21 is_stmt 0 view .LVU1053
 3524 0054 FB05     		lsls	r3, r7, #23
 3525 0056 DB0D     		lsrs	r3, r3, #23
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3526              		.loc 1 1023 17 view .LVU1054
 3527 0058 EB18     		adds	r3, r5, r3
 3528 005a 3033     		adds	r3, r3, #48
 3529 005c 1878     		ldrb	r0, [r3]
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3530              		.loc 1 1023 31 view .LVU1055
 3531 005e 0002     		lsls	r0, r0, #8
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3532              		.loc 1 1023 7 view .LVU1056
 3533 0060 3043     		orrs	r0, r6
 3534              	.LVL418:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3535              		.loc 1 1024 4 is_stmt 1 view .LVU1057
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3536              		.loc 1 1024 33 is_stmt 0 view .LVU1058
 3537 0062 E407     		lsls	r4, r4, #31
 3538 0064 01D5     		bpl	.L233
 3539              	.LVL419:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3540              		.loc 1 1024 33 discriminator 1 view .LVU1059
 3541 0066 0009     		lsrs	r0, r0, #4
 3542              	.LVL420:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3543              		.loc 1 1024 33 discriminator 1 view .LVU1060
 3544 0068 27E0     		b	.L229
 3545              	.LVL421:
 3546              	.L233:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3547              		.loc 1 1024 33 discriminator 2 view .LVU1061
 3548 006a 0005     		lsls	r0, r0, #20
 3549              	.LVL422:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3550              		.loc 1 1024 33 discriminator 2 view .LVU1062
 3551 006c 000D     		lsrs	r0, r0, #20
 3552 006e 24E0     		b	.L229
 3553              	.LVL423:
 3554              	.L231:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3555              		.loc 1 1028 4 is_stmt 1 view .LVU1063
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3556              		.loc 1 1028 26 is_stmt 0 view .LVU1064
 3557 0070 296A     		ldr	r1, [r5, #32]
 3558              	.LVL424:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3559              		.loc 1 1028 44 view .LVU1065
ARM GAS  /tmp/ccVOuidm.s 			page 180


 3560 0072 230A     		lsrs	r3, r4, #8
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3561              		.loc 1 1028 8 view .LVU1066
 3562 0074 C918     		adds	r1, r1, r3
 3563 0076 2800     		movs	r0, r5
 3564              	.LVL425:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3565              		.loc 1 1028 8 view .LVU1067
 3566 0078 FFF7FEFF 		bl	move_window
 3567              	.LVL426:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3568              		.loc 1 1028 7 discriminator 1 view .LVU1068
 3569 007c 0028     		cmp	r0, #0
 3570 007e 24D1     		bne	.L239
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3571              		.loc 1 1029 4 is_stmt 1 view .LVU1069
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3572              		.loc 1 1029 18 is_stmt 0 view .LVU1070
 3573 0080 3035     		adds	r5, r5, #48
 3574              	.LVL427:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3575              		.loc 1 1029 33 view .LVU1071
 3576 0082 6400     		lsls	r4, r4, #1
 3577              	.LVL428:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3578              		.loc 1 1029 37 view .LVU1072
 3579 0084 FF23     		movs	r3, #255
 3580 0086 5B00     		lsls	r3, r3, #1
 3581 0088 1C40     		ands	r4, r3
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3582              		.loc 1 1029 10 view .LVU1073
 3583 008a 2819     		adds	r0, r5, r4
 3584 008c FFF7FEFF 		bl	ld_word
 3585              	.LVL429:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3586              		.loc 1 1030 4 is_stmt 1 view .LVU1074
 3587 0090 13E0     		b	.L229
 3588              	.LVL430:
 3589              	.L232:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3590              		.loc 1 1033 4 view .LVU1075
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3591              		.loc 1 1033 26 is_stmt 0 view .LVU1076
 3592 0092 296A     		ldr	r1, [r5, #32]
 3593              	.LVL431:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3594              		.loc 1 1033 44 view .LVU1077
 3595 0094 E309     		lsrs	r3, r4, #7
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3596              		.loc 1 1033 8 view .LVU1078
 3597 0096 C918     		adds	r1, r1, r3
 3598 0098 2800     		movs	r0, r5
 3599              	.LVL432:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3600              		.loc 1 1033 8 view .LVU1079
 3601 009a FFF7FEFF 		bl	move_window
 3602              	.LVL433:
ARM GAS  /tmp/ccVOuidm.s 			page 181


1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3603              		.loc 1 1033 7 discriminator 1 view .LVU1080
 3604 009e 0028     		cmp	r0, #0
 3605 00a0 16D1     		bne	.L240
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3606              		.loc 1 1034 4 is_stmt 1 view .LVU1081
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3607              		.loc 1 1034 19 is_stmt 0 view .LVU1082
 3608 00a2 3035     		adds	r5, r5, #48
 3609              	.LVL434:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3610              		.loc 1 1034 34 view .LVU1083
 3611 00a4 A400     		lsls	r4, r4, #2
 3612              	.LVL435:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3613              		.loc 1 1034 38 view .LVU1084
 3614 00a6 FE23     		movs	r3, #254
 3615 00a8 5B00     		lsls	r3, r3, #1
 3616 00aa 1C40     		ands	r4, r3
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3617              		.loc 1 1034 10 view .LVU1085
 3618 00ac 2819     		adds	r0, r5, r4
 3619 00ae FFF7FEFF 		bl	ld_dword
 3620              	.LVL436:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3621              		.loc 1 1034 8 discriminator 1 view .LVU1086
 3622 00b2 0001     		lsls	r0, r0, #4
 3623 00b4 0009     		lsrs	r0, r0, #4
 3624              	.LVL437:
1035:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 3625              		.loc 1 1035 4 is_stmt 1 view .LVU1087
 3626 00b6 00E0     		b	.L229
 3627              	.LVL438:
 3628              	.L234:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3629              		.loc 1 1012 7 is_stmt 0 view .LVU1088
 3630 00b8 0120     		movs	r0, #1
 3631              	.LVL439:
 3632              	.L229:
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3633              		.loc 1 1070 1 view .LVU1089
 3634              		@ sp needed
 3635 00ba F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3636              	.LVL440:
 3637              	.L235:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3638              		.loc 1 1012 7 view .LVU1090
 3639 00bc 0120     		movs	r0, #1
 3640              	.LVL441:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3641              		.loc 1 1012 7 view .LVU1091
 3642 00be FCE7     		b	.L229
 3643              	.LVL442:
 3644              	.L236:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3645              		.loc 1 1017 3 view .LVU1092
 3646 00c0 0120     		movs	r0, #1
ARM GAS  /tmp/ccVOuidm.s 			page 182


 3647              	.LVL443:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3648              		.loc 1 1017 3 view .LVU1093
 3649 00c2 FAE7     		b	.L229
 3650              	.LVL444:
 3651              	.L238:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3652              		.loc 1 1015 7 view .LVU1094
 3653 00c4 0120     		movs	r0, #1
 3654 00c6 4042     		rsbs	r0, r0, #0
 3655 00c8 F7E7     		b	.L229
 3656              	.LVL445:
 3657              	.L239:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3658              		.loc 1 1015 7 view .LVU1095
 3659 00ca 0120     		movs	r0, #1
 3660 00cc 4042     		rsbs	r0, r0, #0
 3661 00ce F4E7     		b	.L229
 3662              	.L240:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3663              		.loc 1 1015 7 view .LVU1096
 3664 00d0 0120     		movs	r0, #1
 3665 00d2 4042     		rsbs	r0, r0, #0
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3666              		.loc 1 1069 2 is_stmt 1 view .LVU1097
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3667              		.loc 1 1069 9 is_stmt 0 view .LVU1098
 3668 00d4 F1E7     		b	.L229
 3669              		.cfi_endproc
 3670              	.LFE510:
 3672              		.section	.text.dir_sdi,"ax",%progbits
 3673              		.align	1
 3674              		.syntax unified
 3675              		.code	16
 3676              		.thumb_func
 3678              	dir_sdi:
 3679              	.LVL446:
 3680              	.LFB515:
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3681              		.loc 1 1474 1 is_stmt 1 view -0
 3682              		.cfi_startproc
 3683              		@ args = 0, pretend = 0, frame = 0
 3684              		@ frame_needed = 0, uses_anonymous_args = 0
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3685              		.loc 1 1474 1 is_stmt 0 view .LVU1100
 3686 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3687              	.LCFI23:
 3688              		.cfi_def_cfa_offset 20
 3689              		.cfi_offset 4, -20
 3690              		.cfi_offset 5, -16
 3691              		.cfi_offset 6, -12
 3692              		.cfi_offset 7, -8
 3693              		.cfi_offset 14, -4
 3694 0002 C646     		mov	lr, r8
 3695 0004 00B5     		push	{lr}
 3696              	.LCFI24:
 3697              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccVOuidm.s 			page 183


 3698              		.cfi_offset 8, -24
 3699 0006 0700     		movs	r7, r0
 3700 0008 0E00     		movs	r6, r1
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3701              		.loc 1 1475 2 is_stmt 1 view .LVU1101
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3702              		.loc 1 1476 2 view .LVU1102
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3703              		.loc 1 1476 9 is_stmt 0 view .LVU1103
 3704 000a 0368     		ldr	r3, [r0]
 3705 000c 9846     		mov	r8, r3
 3706              	.LVL447:
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3707              		.loc 1 1479 2 is_stmt 1 view .LVU1104
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3708              		.loc 1 1479 5 is_stmt 0 view .LVU1105
 3709 000e 8023     		movs	r3, #128
 3710              	.LVL448:
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3711              		.loc 1 1479 5 view .LVU1106
 3712 0010 9B03     		lsls	r3, r3, #14
 3713 0012 9942     		cmp	r1, r3
 3714 0014 3ED2     		bcs	.L249
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3715              		.loc 1 1479 84 discriminator 1 view .LVU1107
 3716 0016 CB06     		lsls	r3, r1, #27
 3717 0018 40D1     		bne	.L250
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3718              		.loc 1 1482 2 is_stmt 1 view .LVU1108
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3719              		.loc 1 1482 11 is_stmt 0 view .LVU1109
 3720 001a 4161     		str	r1, [r0, #20]
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3721              		.loc 1 1483 2 is_stmt 1 view .LVU1110
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3722              		.loc 1 1483 7 is_stmt 0 view .LVU1111
 3723 001c 8468     		ldr	r4, [r0, #8]
 3724              	.LVL449:
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3725              		.loc 1 1484 2 is_stmt 1 view .LVU1112
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3726              		.loc 1 1484 5 is_stmt 0 view .LVU1113
 3727 001e 002C     		cmp	r4, #0
 3728 0020 1ED1     		bne	.L244
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3729              		.loc 1 1484 21 discriminator 1 view .LVU1114
 3730 0022 4346     		mov	r3, r8
 3731 0024 1B78     		ldrb	r3, [r3]
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3732              		.loc 1 1484 16 discriminator 1 view .LVU1115
 3733 0026 022B     		cmp	r3, #2
 3734 0028 01D9     		bls	.L245
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3735              		.loc 1 1485 3 is_stmt 1 view .LVU1116
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3736              		.loc 1 1485 8 is_stmt 0 view .LVU1117
 3737 002a 4346     		mov	r3, r8
ARM GAS  /tmp/ccVOuidm.s 			page 184


 3738 002c 5C6A     		ldr	r4, [r3, #36]
 3739              	.LVL450:
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3740              		.loc 1 1486 3 is_stmt 1 view .LVU1118
 3741              	.L245:
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3742              		.loc 1 1489 2 view .LVU1119
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3743              		.loc 1 1489 5 is_stmt 0 view .LVU1120
 3744 002e 002C     		cmp	r4, #0
 3745 0030 16D1     		bne	.L244
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3746              		.loc 1 1490 3 is_stmt 1 view .LVU1121
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3747              		.loc 1 1490 11 is_stmt 0 view .LVU1122
 3748 0032 7309     		lsrs	r3, r6, #5
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3749              		.loc 1 1490 25 view .LVU1123
 3750 0034 4246     		mov	r2, r8
 3751 0036 1289     		ldrh	r2, [r2, #8]
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3752              		.loc 1 1490 6 view .LVU1124
 3753 0038 9342     		cmp	r3, r2
 3754 003a 31D2     		bcs	.L251
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3755              		.loc 1 1491 3 is_stmt 1 view .LVU1125
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3756              		.loc 1 1491 16 is_stmt 0 view .LVU1126
 3757 003c 4346     		mov	r3, r8
 3758 003e 5B6A     		ldr	r3, [r3, #36]
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3759              		.loc 1 1491 12 view .LVU1127
 3760 0040 FB61     		str	r3, [r7, #28]
 3761              	.LVL451:
 3762              	.L246:
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3763              		.loc 1 1503 2 is_stmt 1 view .LVU1128
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3764              		.loc 1 1503 12 is_stmt 0 view .LVU1129
 3765 0042 BC61     		str	r4, [r7, #24]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3766              		.loc 1 1504 2 is_stmt 1 view .LVU1130
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3767              		.loc 1 1504 9 is_stmt 0 view .LVU1131
 3768 0044 FB69     		ldr	r3, [r7, #28]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3769              		.loc 1 1504 5 view .LVU1132
 3770 0046 002B     		cmp	r3, #0
 3771 0048 32D0     		beq	.L255
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3772              		.loc 1 1505 2 is_stmt 1 view .LVU1133
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3773              		.loc 1 1505 18 is_stmt 0 view .LVU1134
 3774 004a 720A     		lsrs	r2, r6, #9
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3775              		.loc 1 1505 11 view .LVU1135
 3776 004c 9B18     		adds	r3, r3, r2
ARM GAS  /tmp/ccVOuidm.s 			page 185


 3777 004e FB61     		str	r3, [r7, #28]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3778              		.loc 1 1506 2 is_stmt 1 view .LVU1136
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3779              		.loc 1 1506 12 is_stmt 0 view .LVU1137
 3780 0050 4346     		mov	r3, r8
 3781 0052 3033     		adds	r3, r3, #48
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3782              		.loc 1 1506 27 view .LVU1138
 3783 0054 F105     		lsls	r1, r6, #23
 3784 0056 C90D     		lsrs	r1, r1, #23
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3785              		.loc 1 1506 20 view .LVU1139
 3786 0058 5B18     		adds	r3, r3, r1
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3787              		.loc 1 1506 10 view .LVU1140
 3788 005a 3B62     		str	r3, [r7, #32]
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3789              		.loc 1 1508 2 is_stmt 1 view .LVU1141
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3790              		.loc 1 1508 9 is_stmt 0 view .LVU1142
 3791 005c 0020     		movs	r0, #0
 3792 005e 1AE0     		b	.L243
 3793              	.LVL452:
 3794              	.L244:
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3795              		.loc 1 1494 3 is_stmt 1 view .LVU1143
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3796              		.loc 1 1494 18 is_stmt 0 view .LVU1144
 3797 0060 4346     		mov	r3, r8
 3798 0062 5D89     		ldrh	r5, [r3, #10]
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3799              		.loc 1 1494 7 view .LVU1145
 3800 0064 6D02     		lsls	r5, r5, #9
 3801              	.LVL453:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3802              		.loc 1 1495 3 is_stmt 1 view .LVU1146
 3803              	.L247:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3804              		.loc 1 1495 14 view .LVU1147
 3805 0066 AE42     		cmp	r6, r5
 3806 0068 0ED3     		bcc	.L256
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3807              		.loc 1 1496 4 view .LVU1148
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3808              		.loc 1 1496 11 is_stmt 0 view .LVU1149
 3809 006a 2100     		movs	r1, r4
 3810 006c 3800     		movs	r0, r7
 3811 006e FFF7FEFF 		bl	get_fat
 3812              	.LVL454:
 3813 0072 0400     		movs	r4, r0
 3814              	.LVL455:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3815              		.loc 1 1497 4 is_stmt 1 view .LVU1150
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3816              		.loc 1 1497 7 is_stmt 0 view .LVU1151
 3817 0074 431C     		adds	r3, r0, #1
ARM GAS  /tmp/ccVOuidm.s 			page 186


 3818 0076 15D0     		beq	.L252
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3819              		.loc 1 1498 4 is_stmt 1 view .LVU1152
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3820              		.loc 1 1498 7 is_stmt 0 view .LVU1153
 3821 0078 0128     		cmp	r0, #1
 3822 007a 15D9     		bls	.L253
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3823              		.loc 1 1498 30 discriminator 2 view .LVU1154
 3824 007c 4346     		mov	r3, r8
 3825 007e 5B69     		ldr	r3, [r3, #20]
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3826              		.loc 1 1498 17 discriminator 2 view .LVU1155
 3827 0080 8342     		cmp	r3, r0
 3828 0082 13D9     		bls	.L254
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3829              		.loc 1 1499 4 is_stmt 1 view .LVU1156
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3830              		.loc 1 1499 8 is_stmt 0 view .LVU1157
 3831 0084 761B     		subs	r6, r6, r5
 3832              	.LVL456:
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3833              		.loc 1 1499 8 view .LVU1158
 3834 0086 EEE7     		b	.L247
 3835              	.LVL457:
 3836              	.L256:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3837              		.loc 1 1501 3 is_stmt 1 view .LVU1159
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3838              		.loc 1 1501 14 is_stmt 0 view .LVU1160
 3839 0088 2100     		movs	r1, r4
 3840 008a 4046     		mov	r0, r8
 3841 008c FFF7FEFF 		bl	clust2sect
 3842              	.LVL458:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3843              		.loc 1 1501 12 discriminator 1 view .LVU1161
 3844 0090 F861     		str	r0, [r7, #28]
 3845 0092 D6E7     		b	.L246
 3846              	.LVL459:
 3847              	.L249:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3848              		.loc 1 1480 10 view .LVU1162
 3849 0094 0220     		movs	r0, #2
 3850              	.LVL460:
 3851              	.L243:
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3852              		.loc 1 1509 1 view .LVU1163
 3853              		@ sp needed
 3854              	.LVL461:
 3855              	.LVL462:
 3856              	.LVL463:
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3857              		.loc 1 1509 1 view .LVU1164
 3858 0096 80BC     		pop	{r7}
 3859 0098 B846     		mov	r8, r7
 3860 009a F0BD     		pop	{r4, r5, r6, r7, pc}
 3861              	.LVL464:
ARM GAS  /tmp/ccVOuidm.s 			page 187


 3862              	.L250:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3863              		.loc 1 1480 10 view .LVU1165
 3864 009c 0220     		movs	r0, #2
 3865              	.LVL465:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3866              		.loc 1 1480 10 view .LVU1166
 3867 009e FAE7     		b	.L243
 3868              	.LVL466:
 3869              	.L251:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3870              		.loc 1 1490 45 discriminator 1 view .LVU1167
 3871 00a0 0220     		movs	r0, #2
 3872              	.LVL467:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3873              		.loc 1 1490 45 discriminator 1 view .LVU1168
 3874 00a2 F8E7     		b	.L243
 3875              	.LVL468:
 3876              	.L252:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3877              		.loc 1 1497 35 discriminator 1 view .LVU1169
 3878 00a4 0120     		movs	r0, #1
 3879              	.LVL469:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3880              		.loc 1 1497 35 discriminator 1 view .LVU1170
 3881 00a6 F6E7     		b	.L243
 3882              	.LVL470:
 3883              	.L253:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3884              		.loc 1 1498 49 discriminator 3 view .LVU1171
 3885 00a8 0220     		movs	r0, #2
 3886              	.LVL471:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3887              		.loc 1 1498 49 discriminator 3 view .LVU1172
 3888 00aa F4E7     		b	.L243
 3889              	.LVL472:
 3890              	.L254:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3891              		.loc 1 1498 49 discriminator 3 view .LVU1173
 3892 00ac 0220     		movs	r0, #2
 3893              	.LVL473:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3894              		.loc 1 1498 49 discriminator 3 view .LVU1174
 3895 00ae F2E7     		b	.L243
 3896              	.LVL474:
 3897              	.L255:
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3898              		.loc 1 1504 24 discriminator 1 view .LVU1175
 3899 00b0 0220     		movs	r0, #2
 3900 00b2 F0E7     		b	.L243
 3901              		.cfi_endproc
 3902              	.LFE515:
 3904              		.section	.text.create_chain,"ax",%progbits
 3905              		.align	1
 3906              		.syntax unified
 3907              		.code	16
 3908              		.thumb_func
ARM GAS  /tmp/ccVOuidm.s 			page 188


 3910              	create_chain:
 3911              	.LVL475:
 3912              	.LFB513:
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3913              		.loc 1 1355 1 is_stmt 1 view -0
 3914              		.cfi_startproc
 3915              		@ args = 0, pretend = 0, frame = 0
 3916              		@ frame_needed = 0, uses_anonymous_args = 0
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3917              		.loc 1 1355 1 is_stmt 0 view .LVU1177
 3918 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3919              	.LCFI25:
 3920              		.cfi_def_cfa_offset 20
 3921              		.cfi_offset 4, -20
 3922              		.cfi_offset 5, -16
 3923              		.cfi_offset 6, -12
 3924              		.cfi_offset 7, -8
 3925              		.cfi_offset 14, -4
 3926 0002 C646     		mov	lr, r8
 3927 0004 00B5     		push	{lr}
 3928              	.LCFI26:
 3929              		.cfi_def_cfa_offset 24
 3930              		.cfi_offset 8, -24
 3931 0006 0500     		movs	r5, r0
 3932 0008 8846     		mov	r8, r1
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3933              		.loc 1 1356 2 is_stmt 1 view .LVU1178
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3934              		.loc 1 1357 2 view .LVU1179
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3935              		.loc 1 1358 2 view .LVU1180
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3936              		.loc 1 1358 9 is_stmt 0 view .LVU1181
 3937 000a 0668     		ldr	r6, [r0]
 3938              	.LVL476:
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3939              		.loc 1 1361 2 is_stmt 1 view .LVU1182
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3940              		.loc 1 1361 5 is_stmt 0 view .LVU1183
 3941 000c 0029     		cmp	r1, #0
 3942 000e 07D1     		bne	.L258
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3943              		.loc 1 1362 3 is_stmt 1 view .LVU1184
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3944              		.loc 1 1362 7 is_stmt 0 view .LVU1185
 3945 0010 F768     		ldr	r7, [r6, #12]
 3946              	.LVL477:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3947              		.loc 1 1363 3 is_stmt 1 view .LVU1186
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3948              		.loc 1 1363 6 is_stmt 0 view .LVU1187
 3949 0012 002F     		cmp	r7, #0
 3950 0014 0FD0     		beq	.L267
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3951              		.loc 1 1363 28 discriminator 2 view .LVU1188
 3952 0016 7369     		ldr	r3, [r6, #20]
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccVOuidm.s 			page 189


 3953              		.loc 1 1363 16 discriminator 2 view .LVU1189
 3954 0018 BB42     		cmp	r3, r7
 3955 001a 0DD8     		bhi	.L259
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3956              		.loc 1 1363 44 discriminator 3 view .LVU1190
 3957 001c 0127     		movs	r7, #1
 3958              	.LVL478:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3959              		.loc 1 1363 44 discriminator 3 view .LVU1191
 3960 001e 0BE0     		b	.L259
 3961              	.LVL479:
 3962              	.L258:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3963              		.loc 1 1366 3 is_stmt 1 view .LVU1192
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3964              		.loc 1 1366 8 is_stmt 0 view .LVU1193
 3965 0020 FFF7FEFF 		bl	get_fat
 3966              	.LVL480:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3967              		.loc 1 1367 3 is_stmt 1 view .LVU1194
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3968              		.loc 1 1367 6 is_stmt 0 view .LVU1195
 3969 0024 0128     		cmp	r0, #1
 3970 0026 44D9     		bls	.L269
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3971              		.loc 1 1368 3 is_stmt 1 view .LVU1196
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3972              		.loc 1 1368 6 is_stmt 0 view .LVU1197
 3973 0028 431C     		adds	r3, r0, #1
 3974 002a 47D0     		beq	.L257
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3975              		.loc 1 1369 3 is_stmt 1 view .LVU1198
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3976              		.loc 1 1369 14 is_stmt 0 view .LVU1199
 3977 002c 7369     		ldr	r3, [r6, #20]
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3978              		.loc 1 1369 6 view .LVU1200
 3979 002e 8342     		cmp	r3, r0
 3980 0030 44D8     		bhi	.L257
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3981              		.loc 1 1370 7 view .LVU1201
 3982 0032 4746     		mov	r7, r8
 3983 0034 00E0     		b	.L259
 3984              	.LVL481:
 3985              	.L267:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3986              		.loc 1 1363 44 discriminator 3 view .LVU1202
 3987 0036 0127     		movs	r7, #1
 3988              	.LVL482:
 3989              	.L259:
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3990              		.loc 1 1400 3 is_stmt 1 view .LVU1203
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3991              		.loc 1 1400 7 is_stmt 0 view .LVU1204
 3992 0038 3C00     		movs	r4, r7
 3993 003a 0BE0     		b	.L263
 3994              	.LVL483:
ARM GAS  /tmp/ccVOuidm.s 			page 190


 3995              	.L261:
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3996              		.loc 1 1407 4 is_stmt 1 view .LVU1205
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3997              		.loc 1 1407 9 is_stmt 0 view .LVU1206
 3998 003c 2100     		movs	r1, r4
 3999 003e 2800     		movs	r0, r5
 4000 0040 FFF7FEFF 		bl	get_fat
 4001              	.LVL484:
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 4002              		.loc 1 1408 4 is_stmt 1 view .LVU1207
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 4003              		.loc 1 1408 7 is_stmt 0 view .LVU1208
 4004 0044 0028     		cmp	r0, #0
 4005 0046 0DD0     		beq	.L262
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 4006              		.loc 1 1409 4 is_stmt 1 view .LVU1209
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 4007              		.loc 1 1409 7 is_stmt 0 view .LVU1210
 4008 0048 0128     		cmp	r0, #1
 4009 004a 37D0     		beq	.L257
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 4010              		.loc 1 1409 16 discriminator 2 view .LVU1211
 4011 004c 431C     		adds	r3, r0, #1
 4012 004e 35D0     		beq	.L257
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4013              		.loc 1 1410 4 is_stmt 1 view .LVU1212
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4014              		.loc 1 1410 7 is_stmt 0 view .LVU1213
 4015 0050 BC42     		cmp	r4, r7
 4016 0052 32D0     		beq	.L275
 4017              	.LVL485:
 4018              	.L263:
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
 4019              		.loc 1 1401 3 is_stmt 1 view .LVU1214
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 4020              		.loc 1 1402 4 view .LVU1215
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 4021              		.loc 1 1402 7 is_stmt 0 view .LVU1216
 4022 0054 0134     		adds	r4, r4, #1
 4023              	.LVL486:
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 4024              		.loc 1 1403 4 is_stmt 1 view .LVU1217
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 4025              		.loc 1 1403 17 is_stmt 0 view .LVU1218
 4026 0056 7369     		ldr	r3, [r6, #20]
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 4027              		.loc 1 1403 7 view .LVU1219
 4028 0058 A342     		cmp	r3, r4
 4029 005a EFD8     		bhi	.L261
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 4030              		.loc 1 1404 5 is_stmt 1 view .LVU1220
 4031              	.LVL487:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4032              		.loc 1 1405 5 view .LVU1221
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4033              		.loc 1 1405 8 is_stmt 0 view .LVU1222
ARM GAS  /tmp/ccVOuidm.s 			page 191


 4034 005c 012F     		cmp	r7, #1
 4035 005e 2AD9     		bls	.L270
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 4036              		.loc 1 1404 9 view .LVU1223
 4037 0060 0224     		movs	r4, #2
 4038 0062 EBE7     		b	.L261
 4039              	.LVL488:
 4040              	.L262:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 4041              		.loc 1 1412 3 is_stmt 1 view .LVU1224
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 4042              		.loc 1 1412 9 is_stmt 0 view .LVU1225
 4043 0064 0122     		movs	r2, #1
 4044 0066 5242     		rsbs	r2, r2, #0
 4045 0068 2100     		movs	r1, r4
 4046 006a 3000     		movs	r0, r6
 4047              	.LVL489:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 4048              		.loc 1 1412 9 view .LVU1226
 4049 006c FFF7FEFF 		bl	put_fat
 4050              	.LVL490:
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 4051              		.loc 1 1413 3 is_stmt 1 view .LVU1227
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 4052              		.loc 1 1413 6 is_stmt 0 view .LVU1228
 4053 0070 0028     		cmp	r0, #0
 4054 0072 18D1     		bne	.L264
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 4055              		.loc 1 1413 20 discriminator 1 view .LVU1229
 4056 0074 4346     		mov	r3, r8
 4057 0076 002B     		cmp	r3, #0
 4058 0078 0FD1     		bne	.L276
 4059              	.LVL491:
 4060              	.L265:
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 4061              		.loc 1 1418 2 is_stmt 1 view .LVU1230
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 4062              		.loc 1 1418 5 is_stmt 0 view .LVU1231
 4063 007a 0028     		cmp	r0, #0
 4064 007c 13D1     		bne	.L264
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 4065              		.loc 1 1419 3 is_stmt 1 view .LVU1232
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 4066              		.loc 1 1419 17 is_stmt 0 view .LVU1233
 4067 007e F460     		str	r4, [r6, #12]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 4068              		.loc 1 1420 3 is_stmt 1 view .LVU1234
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 4069              		.loc 1 1420 9 is_stmt 0 view .LVU1235
 4070 0080 3269     		ldr	r2, [r6, #16]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 4071              		.loc 1 1420 26 view .LVU1236
 4072 0082 7369     		ldr	r3, [r6, #20]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 4073              		.loc 1 1420 37 view .LVU1237
 4074 0084 023B     		subs	r3, r3, #2
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
ARM GAS  /tmp/ccVOuidm.s 			page 192


 4075              		.loc 1 1420 6 view .LVU1238
 4076 0086 9A42     		cmp	r2, r3
 4077 0088 01D8     		bhi	.L266
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 4078              		.loc 1 1420 42 is_stmt 1 discriminator 1 view .LVU1239
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 4079              		.loc 1 1420 55 is_stmt 0 discriminator 1 view .LVU1240
 4080 008a 013A     		subs	r2, r2, #1
 4081 008c 3261     		str	r2, [r6, #16]
 4082              	.L266:
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 4083              		.loc 1 1421 3 is_stmt 1 view .LVU1241
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 4084              		.loc 1 1421 5 is_stmt 0 view .LVU1242
 4085 008e 3379     		ldrb	r3, [r6, #4]
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 4086              		.loc 1 1421 16 view .LVU1243
 4087 0090 0122     		movs	r2, #1
 4088 0092 1343     		orrs	r3, r2
 4089 0094 3371     		strb	r3, [r6, #4]
 4090 0096 2000     		movs	r0, r4
 4091              	.LVL492:
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 4092              		.loc 1 1421 16 view .LVU1244
 4093 0098 10E0     		b	.L257
 4094              	.LVL493:
 4095              	.L276:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4096              		.loc 1 1414 4 is_stmt 1 view .LVU1245
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4097              		.loc 1 1414 10 is_stmt 0 view .LVU1246
 4098 009a 2200     		movs	r2, r4
 4099 009c 4146     		mov	r1, r8
 4100 009e 3000     		movs	r0, r6
 4101              	.LVL494:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4102              		.loc 1 1414 10 view .LVU1247
 4103 00a0 FFF7FEFF 		bl	put_fat
 4104              	.LVL495:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4105              		.loc 1 1414 10 view .LVU1248
 4106 00a4 E9E7     		b	.L265
 4107              	.LVL496:
 4108              	.L264:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4109              		.loc 1 1423 3 is_stmt 1 view .LVU1249
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4110              		.loc 1 1423 43 is_stmt 0 view .LVU1250
 4111 00a6 0128     		cmp	r0, #1
 4112 00a8 01D0     		beq	.L277
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4113              		.loc 1 1423 43 discriminator 2 view .LVU1251
 4114 00aa 0120     		movs	r0, #1
 4115              	.LVL497:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4116              		.loc 1 1423 43 discriminator 2 view .LVU1252
 4117 00ac 06E0     		b	.L257
ARM GAS  /tmp/ccVOuidm.s 			page 193


 4118              	.LVL498:
 4119              	.L277:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4120              		.loc 1 1423 43 discriminator 1 view .LVU1253
 4121 00ae 0238     		subs	r0, r0, #2
 4122 00b0 04E0     		b	.L257
 4123              	.LVL499:
 4124              	.L269:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 4125              		.loc 1 1367 22 discriminator 1 view .LVU1254
 4126 00b2 0120     		movs	r0, #1
 4127              	.LVL500:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 4128              		.loc 1 1367 22 discriminator 1 view .LVU1255
 4129 00b4 02E0     		b	.L257
 4130              	.LVL501:
 4131              	.L270:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4132              		.loc 1 1405 27 discriminator 1 view .LVU1256
 4133 00b6 0020     		movs	r0, #0
 4134 00b8 00E0     		b	.L257
 4135              	.LVL502:
 4136              	.L275:
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4137              		.loc 1 1410 27 discriminator 1 view .LVU1257
 4138 00ba 0020     		movs	r0, #0
 4139              	.LVL503:
 4140              	.L257:
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4141              		.loc 1 1427 1 view .LVU1258
 4142              		@ sp needed
 4143              	.LVL504:
 4144              	.LVL505:
 4145              	.LVL506:
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4146              		.loc 1 1427 1 view .LVU1259
 4147 00bc 80BC     		pop	{r7}
 4148 00be B846     		mov	r8, r7
 4149 00c0 F0BD     		pop	{r4, r5, r6, r7, pc}
 4150              		.cfi_endproc
 4151              	.LFE513:
 4153              		.section	.text.remove_chain,"ax",%progbits
 4154              		.align	1
 4155              		.syntax unified
 4156              		.code	16
 4157              		.thumb_func
 4159              	remove_chain:
 4160              	.LVL507:
 4161              	.LFB512:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 4162              		.loc 1 1276 1 is_stmt 1 view -0
 4163              		.cfi_startproc
 4164              		@ args = 0, pretend = 0, frame = 0
 4165              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 4166              		.loc 1 1276 1 is_stmt 0 view .LVU1261
 4167 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
ARM GAS  /tmp/ccVOuidm.s 			page 194


 4168              	.LCFI27:
 4169              		.cfi_def_cfa_offset 24
 4170              		.cfi_offset 3, -24
 4171              		.cfi_offset 4, -20
 4172              		.cfi_offset 5, -16
 4173              		.cfi_offset 6, -12
 4174              		.cfi_offset 7, -8
 4175              		.cfi_offset 14, -4
 4176 0002 0600     		movs	r6, r0
 4177 0004 0C00     		movs	r4, r1
 4178 0006 1100     		movs	r1, r2
 4179              	.LVL508:
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 4180              		.loc 1 1277 2 is_stmt 1 view .LVU1262
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 4181              		.loc 1 1278 2 view .LVU1263
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 4182              		.loc 1 1279 2 view .LVU1264
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 4183              		.loc 1 1279 9 is_stmt 0 view .LVU1265
 4184 0008 0568     		ldr	r5, [r0]
 4185              	.LVL509:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4186              		.loc 1 1287 2 is_stmt 1 view .LVU1266
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4187              		.loc 1 1287 5 is_stmt 0 view .LVU1267
 4188 000a 012C     		cmp	r4, #1
 4189 000c 2CD9     		bls	.L283
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4190              		.loc 1 1287 28 discriminator 2 view .LVU1268
 4191 000e 6B69     		ldr	r3, [r5, #20]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4192              		.loc 1 1287 15 discriminator 2 view .LVU1269
 4193 0010 A342     		cmp	r3, r4
 4194 0012 2BD9     		bls	.L284
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 4195              		.loc 1 1290 2 is_stmt 1 view .LVU1270
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 4196              		.loc 1 1290 5 is_stmt 0 view .LVU1271
 4197 0014 002A     		cmp	r2, #0
 4198 0016 09D0     		beq	.L282
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4199              		.loc 1 1291 3 is_stmt 1 view .LVU1272
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4200              		.loc 1 1291 9 is_stmt 0 view .LVU1273
 4201 0018 0122     		movs	r2, #1
 4202              	.LVL510:
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4203              		.loc 1 1291 9 view .LVU1274
 4204 001a 5242     		rsbs	r2, r2, #0
 4205 001c 2800     		movs	r0, r5
 4206              	.LVL511:
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4207              		.loc 1 1291 9 view .LVU1275
 4208 001e FFF7FEFF 		bl	put_fat
 4209              	.LVL512:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccVOuidm.s 			page 195


 4210              		.loc 1 1292 3 is_stmt 1 view .LVU1276
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4211              		.loc 1 1292 6 is_stmt 0 view .LVU1277
 4212 0022 0028     		cmp	r0, #0
 4213 0024 02D0     		beq	.L282
 4214 0026 22E0     		b	.L279
 4215              	.LVL513:
 4216              	.L281:
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 4217              		.loc 1 1327 3 is_stmt 1 view .LVU1278
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4218              		.loc 1 1328 16 view .LVU1279
 4219 0028 A242     		cmp	r2, r4
 4220 002a 20D9     		bls	.L279
 4221              	.LVL514:
 4222              	.L282:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
 4223              		.loc 1 1296 2 view .LVU1280
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 4224              		.loc 1 1297 3 view .LVU1281
 4225 002c 2700     		movs	r7, r4
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 4226              		.loc 1 1297 9 is_stmt 0 view .LVU1282
 4227 002e 2100     		movs	r1, r4
 4228 0030 3000     		movs	r0, r6
 4229 0032 FFF7FEFF 		bl	get_fat
 4230              	.LVL515:
 4231 0036 041E     		subs	r4, r0, #0
 4232              	.LVL516:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 4233              		.loc 1 1298 3 is_stmt 1 view .LVU1283
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 4234              		.loc 1 1298 6 is_stmt 0 view .LVU1284
 4235 0038 1AD0     		beq	.L285
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4236              		.loc 1 1299 3 is_stmt 1 view .LVU1285
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4237              		.loc 1 1299 6 is_stmt 0 view .LVU1286
 4238 003a 0128     		cmp	r0, #1
 4239 003c 1AD0     		beq	.L286
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4240              		.loc 1 1300 3 is_stmt 1 view .LVU1287
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4241              		.loc 1 1300 6 is_stmt 0 view .LVU1288
 4242 003e 431C     		adds	r3, r0, #1
 4243 0040 1AD0     		beq	.L287
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
 4244              		.loc 1 1301 3 is_stmt 1 view .LVU1289
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 4245              		.loc 1 1302 4 view .LVU1290
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 4246              		.loc 1 1302 10 is_stmt 0 view .LVU1291
 4247 0042 0022     		movs	r2, #0
 4248 0044 3900     		movs	r1, r7
 4249 0046 2800     		movs	r0, r5
 4250              	.LVL517:
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
ARM GAS  /tmp/ccVOuidm.s 			page 196


 4251              		.loc 1 1302 10 view .LVU1292
 4252 0048 FFF7FEFF 		bl	put_fat
 4253              	.LVL518:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4254              		.loc 1 1303 4 is_stmt 1 view .LVU1293
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4255              		.loc 1 1303 7 is_stmt 0 view .LVU1294
 4256 004c 0028     		cmp	r0, #0
 4257 004e 0ED1     		bne	.L279
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4258              		.loc 1 1305 3 is_stmt 1 view .LVU1295
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4259              		.loc 1 1305 9 is_stmt 0 view .LVU1296
 4260 0050 2B69     		ldr	r3, [r5, #16]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4261              		.loc 1 1305 25 view .LVU1297
 4262 0052 6A69     		ldr	r2, [r5, #20]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4263              		.loc 1 1305 36 view .LVU1298
 4264 0054 911E     		subs	r1, r2, #2
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4265              		.loc 1 1305 6 view .LVU1299
 4266 0056 8B42     		cmp	r3, r1
 4267 0058 E6D2     		bcs	.L281
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4268              		.loc 1 1306 4 is_stmt 1 view .LVU1300
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4269              		.loc 1 1306 17 is_stmt 0 view .LVU1301
 4270 005a 0133     		adds	r3, r3, #1
 4271 005c 2B61     		str	r3, [r5, #16]
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4272              		.loc 1 1307 4 is_stmt 1 view .LVU1302
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4273              		.loc 1 1307 6 is_stmt 0 view .LVU1303
 4274 005e 2B79     		ldrb	r3, [r5, #4]
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4275              		.loc 1 1307 17 view .LVU1304
 4276 0060 0121     		movs	r1, #1
 4277 0062 0B43     		orrs	r3, r1
 4278 0064 2B71     		strb	r3, [r5, #4]
 4279 0066 DFE7     		b	.L281
 4280              	.LVL519:
 4281              	.L283:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4282              		.loc 1 1287 47 discriminator 3 view .LVU1305
 4283 0068 0220     		movs	r0, #2
 4284              	.LVL520:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4285              		.loc 1 1287 47 discriminator 3 view .LVU1306
 4286 006a 00E0     		b	.L279
 4287              	.LVL521:
 4288              	.L284:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4289              		.loc 1 1287 47 discriminator 3 view .LVU1307
 4290 006c 0220     		movs	r0, #2
 4291              	.LVL522:
 4292              	.L279:
ARM GAS  /tmp/ccVOuidm.s 			page 197


1342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4293              		.loc 1 1342 1 view .LVU1308
 4294              		@ sp needed
 4295              	.LVL523:
 4296              	.LVL524:
1342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4297              		.loc 1 1342 1 view .LVU1309
 4298 006e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4299              	.LVL525:
 4300              	.L285:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4301              		.loc 1 1341 9 view .LVU1310
 4302 0070 0020     		movs	r0, #0
 4303              	.LVL526:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4304              		.loc 1 1341 9 view .LVU1311
 4305 0072 FCE7     		b	.L279
 4306              	.LVL527:
 4307              	.L286:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4308              		.loc 1 1299 24 discriminator 1 view .LVU1312
 4309 0074 0220     		movs	r0, #2
 4310              	.LVL528:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4311              		.loc 1 1299 24 discriminator 1 view .LVU1313
 4312 0076 FAE7     		b	.L279
 4313              	.LVL529:
 4314              	.L287:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4315              		.loc 1 1300 33 discriminator 1 view .LVU1314
 4316 0078 0120     		movs	r0, #1
 4317              	.LVL530:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4318              		.loc 1 1300 33 discriminator 1 view .LVU1315
 4319 007a F8E7     		b	.L279
 4320              		.cfi_endproc
 4321              	.LFE512:
 4323              		.section	.text.dir_remove,"ax",%progbits
 4324              		.align	1
 4325              		.syntax unified
 4326              		.code	16
 4327              		.thumb_func
 4329              	dir_remove:
 4330              	.LVL531:
 4331              	.LFB523:
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4332              		.loc 1 2399 1 is_stmt 1 view -0
 4333              		.cfi_startproc
 4334              		@ args = 0, pretend = 0, frame = 0
 4335              		@ frame_needed = 0, uses_anonymous_args = 0
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4336              		.loc 1 2399 1 is_stmt 0 view .LVU1317
 4337 0000 70B5     		push	{r4, r5, r6, lr}
 4338              	.LCFI28:
 4339              		.cfi_def_cfa_offset 16
 4340              		.cfi_offset 4, -16
 4341              		.cfi_offset 5, -12
ARM GAS  /tmp/ccVOuidm.s 			page 198


 4342              		.cfi_offset 6, -8
 4343              		.cfi_offset 14, -4
 4344 0002 0400     		movs	r4, r0
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4345              		.loc 1 2400 2 is_stmt 1 view .LVU1318
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4346              		.loc 1 2401 2 view .LVU1319
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4347              		.loc 1 2401 9 is_stmt 0 view .LVU1320
 4348 0004 0568     		ldr	r5, [r0]
 4349              	.LVL532:
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4350              		.loc 1 2424 2 is_stmt 1 view .LVU1321
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4351              		.loc 1 2424 8 is_stmt 0 view .LVU1322
 4352 0006 C169     		ldr	r1, [r0, #28]
 4353 0008 2800     		movs	r0, r5
 4354              	.LVL533:
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4355              		.loc 1 2424 8 view .LVU1323
 4356 000a FFF7FEFF 		bl	move_window
 4357              	.LVL534:
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
 4358              		.loc 1 2425 2 is_stmt 1 view .LVU1324
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
 4359              		.loc 1 2425 5 is_stmt 0 view .LVU1325
 4360 000e 0028     		cmp	r0, #0
 4361 0010 04D1     		bne	.L289
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
 4362              		.loc 1 2426 3 is_stmt 1 view .LVU1326
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
 4363              		.loc 1 2426 5 is_stmt 0 view .LVU1327
 4364 0012 236A     		ldr	r3, [r4, #32]
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
 4365              		.loc 1 2426 21 view .LVU1328
 4366 0014 E522     		movs	r2, #229
 4367 0016 1A70     		strb	r2, [r3]
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4368              		.loc 1 2427 3 is_stmt 1 view .LVU1329
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4369              		.loc 1 2427 13 is_stmt 0 view .LVU1330
 4370 0018 0123     		movs	r3, #1
 4371 001a EB70     		strb	r3, [r5, #3]
 4372              	.L289:
2431:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4373              		.loc 1 2431 2 is_stmt 1 view .LVU1331
2432:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4374              		.loc 1 2432 1 is_stmt 0 view .LVU1332
 4375              		@ sp needed
 4376              	.LVL535:
 4377              	.LVL536:
2432:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4378              		.loc 1 2432 1 view .LVU1333
 4379 001c 70BD     		pop	{r4, r5, r6, pc}
 4380              		.cfi_endproc
 4381              	.LFE523:
 4383              		.section	.text.dir_next,"ax",%progbits
ARM GAS  /tmp/ccVOuidm.s 			page 199


 4384              		.align	1
 4385              		.syntax unified
 4386              		.code	16
 4387              		.thumb_func
 4389              	dir_next:
 4390              	.LVL537:
 4391              	.LFB516:
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 4392              		.loc 1 1523 1 is_stmt 1 view -0
 4393              		.cfi_startproc
 4394              		@ args = 0, pretend = 0, frame = 8
 4395              		@ frame_needed = 0, uses_anonymous_args = 0
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 4396              		.loc 1 1523 1 is_stmt 0 view .LVU1335
 4397 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 4398              	.LCFI29:
 4399              		.cfi_def_cfa_offset 20
 4400              		.cfi_offset 4, -20
 4401              		.cfi_offset 5, -16
 4402              		.cfi_offset 6, -12
 4403              		.cfi_offset 7, -8
 4404              		.cfi_offset 14, -4
 4405 0002 D646     		mov	lr, r10
 4406 0004 4F46     		mov	r7, r9
 4407 0006 80B5     		push	{r7, lr}
 4408              	.LCFI30:
 4409              		.cfi_def_cfa_offset 28
 4410              		.cfi_offset 9, -28
 4411              		.cfi_offset 10, -24
 4412 0008 83B0     		sub	sp, sp, #12
 4413              	.LCFI31:
 4414              		.cfi_def_cfa_offset 40
 4415 000a 0400     		movs	r4, r0
 4416 000c 0191     		str	r1, [sp, #4]
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4417              		.loc 1 1524 2 is_stmt 1 view .LVU1336
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4418              		.loc 1 1525 2 view .LVU1337
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4419              		.loc 1 1525 9 is_stmt 0 view .LVU1338
 4420 000e 0768     		ldr	r7, [r0]
 4421              	.LVL538:
1527:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4422              		.loc 1 1527 2 is_stmt 1 view .LVU1339
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4423              		.loc 1 1530 2 view .LVU1340
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4424              		.loc 1 1530 10 is_stmt 0 view .LVU1341
 4425 0010 4569     		ldr	r5, [r0, #20]
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4426              		.loc 1 1530 6 view .LVU1342
 4427 0012 2035     		adds	r5, r5, #32
 4428              	.LVL539:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4429              		.loc 1 1531 2 is_stmt 1 view .LVU1343
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4430              		.loc 1 1531 9 is_stmt 0 view .LVU1344
ARM GAS  /tmp/ccVOuidm.s 			page 200


 4431 0014 C369     		ldr	r3, [r0, #28]
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4432              		.loc 1 1531 5 view .LVU1345
 4433 0016 002B     		cmp	r3, #0
 4434 0018 00D1     		bne	.LCB4212
 4435 001a 74E0     		b	.L298	@long jump
 4436              	.LCB4212:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4437              		.loc 1 1531 16 discriminator 2 view .LVU1346
 4438 001c 8022     		movs	r2, #128
 4439 001e 9203     		lsls	r2, r2, #14
 4440 0020 9542     		cmp	r5, r2
 4441 0022 00D3     		bcc	.LCB4216
 4442 0024 71E0     		b	.L299	@long jump
 4443              	.LCB4216:
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4444              		.loc 1 1533 2 is_stmt 1 view .LVU1347
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4445              		.loc 1 1533 10 is_stmt 0 view .LVU1348
 4446 0026 EA05     		lsls	r2, r5, #23
 4447 0028 D60D     		lsrs	r6, r2, #23
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4448              		.loc 1 1533 5 view .LVU1349
 4449 002a 002A     		cmp	r2, #0
 4450 002c 08D1     		bne	.L292
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4451              		.loc 1 1534 3 is_stmt 1 view .LVU1350
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4452              		.loc 1 1534 11 is_stmt 0 view .LVU1351
 4453 002e 0133     		adds	r3, r3, #1
 4454 0030 C361     		str	r3, [r0, #28]
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4455              		.loc 1 1536 3 is_stmt 1 view .LVU1352
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4456              		.loc 1 1536 10 is_stmt 0 view .LVU1353
 4457 0032 8169     		ldr	r1, [r0, #24]
 4458              	.LVL540:
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4459              		.loc 1 1536 6 view .LVU1354
 4460 0034 0029     		cmp	r1, #0
 4461 0036 11D1     		bne	.L293
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4462              		.loc 1 1537 4 is_stmt 1 view .LVU1355
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4463              		.loc 1 1537 12 is_stmt 0 view .LVU1356
 4464 0038 6B09     		lsrs	r3, r5, #5
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4465              		.loc 1 1537 26 view .LVU1357
 4466 003a 3A89     		ldrh	r2, [r7, #8]
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4467              		.loc 1 1537 7 view .LVU1358
 4468 003c 9342     		cmp	r3, r2
 4469 003e 09D2     		bcs	.L307
 4470              	.LVL541:
 4471              	.L292:
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4472              		.loc 1 1574 2 is_stmt 1 view .LVU1359
ARM GAS  /tmp/ccVOuidm.s 			page 201


1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4473              		.loc 1 1574 11 is_stmt 0 view .LVU1360
 4474 0040 6561     		str	r5, [r4, #20]
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4475              		.loc 1 1575 2 is_stmt 1 view .LVU1361
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4476              		.loc 1 1575 12 is_stmt 0 view .LVU1362
 4477 0042 3037     		adds	r7, r7, #48
 4478              	.LVL542:
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4479              		.loc 1 1575 20 view .LVU1363
 4480 0044 B819     		adds	r0, r7, r6
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4481              		.loc 1 1575 10 view .LVU1364
 4482 0046 2062     		str	r0, [r4, #32]
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4483              		.loc 1 1577 2 is_stmt 1 view .LVU1365
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4484              		.loc 1 1577 9 is_stmt 0 view .LVU1366
 4485 0048 0020     		movs	r0, #0
 4486              	.LVL543:
 4487              	.L291:
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4488              		.loc 1 1578 1 view .LVU1367
 4489 004a 03B0     		add	sp, sp, #12
 4490              		@ sp needed
 4491              	.LVL544:
 4492              	.LVL545:
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4493              		.loc 1 1578 1 view .LVU1368
 4494 004c C0BC     		pop	{r6, r7}
 4495 004e BA46     		mov	r10, r7
 4496 0050 B146     		mov	r9, r6
 4497 0052 F0BD     		pop	{r4, r5, r6, r7, pc}
 4498              	.LVL546:
 4499              	.L307:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4500              		.loc 1 1538 5 is_stmt 1 view .LVU1369
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4501              		.loc 1 1538 14 is_stmt 0 view .LVU1370
 4502 0054 0023     		movs	r3, #0
 4503 0056 C361     		str	r3, [r0, #28]
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4504              		.loc 1 1538 19 is_stmt 1 view .LVU1371
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4505              		.loc 1 1538 26 is_stmt 0 view .LVU1372
 4506 0058 0420     		movs	r0, #4
 4507              	.LVL547:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4508              		.loc 1 1538 26 view .LVU1373
 4509 005a F6E7     		b	.L291
 4510              	.LVL548:
 4511              	.L293:
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4512              		.loc 1 1542 4 is_stmt 1 view .LVU1374
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4513              		.loc 1 1542 13 is_stmt 0 view .LVU1375
ARM GAS  /tmp/ccVOuidm.s 			page 202


 4514 005c 6B0A     		lsrs	r3, r5, #9
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4515              		.loc 1 1542 27 view .LVU1376
 4516 005e 7A89     		ldrh	r2, [r7, #10]
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4517              		.loc 1 1542 35 view .LVU1377
 4518 0060 013A     		subs	r2, r2, #1
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4519              		.loc 1 1542 22 view .LVU1378
 4520 0062 1000     		movs	r0, r2
 4521              	.LVL549:
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4522              		.loc 1 1542 22 view .LVU1379
 4523 0064 1840     		ands	r0, r3
 4524 0066 8146     		mov	r9, r0
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4525              		.loc 1 1542 7 view .LVU1380
 4526 0068 1A42     		tst	r2, r3
 4527 006a E9D1     		bne	.L292
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4528              		.loc 1 1543 5 is_stmt 1 view .LVU1381
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4529              		.loc 1 1543 12 is_stmt 0 view .LVU1382
 4530 006c 2000     		movs	r0, r4
 4531 006e FFF7FEFF 		bl	get_fat
 4532              	.LVL550:
 4533 0072 8246     		mov	r10, r0
 4534              	.LVL551:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4535              		.loc 1 1544 5 is_stmt 1 view .LVU1383
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4536              		.loc 1 1544 8 is_stmt 0 view .LVU1384
 4537 0074 0300     		movs	r3, r0
 4538 0076 0128     		cmp	r0, #1
 4539 0078 49D9     		bls	.L300
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4540              		.loc 1 1545 5 is_stmt 1 view .LVU1385
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4541              		.loc 1 1545 8 is_stmt 0 view .LVU1386
 4542 007a 0133     		adds	r3, r3, #1
 4543 007c 49D0     		beq	.L301
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4544              		.loc 1 1546 5 is_stmt 1 view .LVU1387
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4545              		.loc 1 1546 19 is_stmt 0 view .LVU1388
 4546 007e 7B69     		ldr	r3, [r7, #20]
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4547              		.loc 1 1546 8 view .LVU1389
 4548 0080 8342     		cmp	r3, r0
 4549 0082 38D8     		bhi	.L294
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4550              		.loc 1 1548 6 is_stmt 1 view .LVU1390
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4551              		.loc 1 1548 9 is_stmt 0 view .LVU1391
 4552 0084 019B     		ldr	r3, [sp, #4]
 4553 0086 002B     		cmp	r3, #0
 4554 0088 11D0     		beq	.L308
ARM GAS  /tmp/ccVOuidm.s 			page 203


1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4555              		.loc 1 1551 6 is_stmt 1 view .LVU1392
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4556              		.loc 1 1551 13 is_stmt 0 view .LVU1393
 4557 008a A169     		ldr	r1, [r4, #24]
 4558 008c 2000     		movs	r0, r4
 4559              	.LVL552:
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4560              		.loc 1 1551 13 view .LVU1394
 4561 008e FFF7FEFF 		bl	create_chain
 4562              	.LVL553:
 4563 0092 8246     		mov	r10, r0
 4564              	.LVL554:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4565              		.loc 1 1552 6 is_stmt 1 view .LVU1395
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4566              		.loc 1 1552 9 is_stmt 0 view .LVU1396
 4567 0094 031E     		subs	r3, r0, #0
 4568 0096 3ED0     		beq	.L302
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4569              		.loc 1 1553 6 is_stmt 1 view .LVU1397
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4570              		.loc 1 1553 9 is_stmt 0 view .LVU1398
 4571 0098 0128     		cmp	r0, #1
 4572 009a 3ED0     		beq	.L303
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4573              		.loc 1 1554 6 is_stmt 1 view .LVU1399
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4574              		.loc 1 1554 9 is_stmt 0 view .LVU1400
 4575 009c 0133     		adds	r3, r3, #1
 4576 009e 3ED0     		beq	.L304
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
 4577              		.loc 1 1556 6 is_stmt 1 view .LVU1401
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4578              		.loc 1 1557 6 view .LVU1402
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4579              		.loc 1 1557 10 is_stmt 0 view .LVU1403
 4580 00a0 3800     		movs	r0, r7
 4581              	.LVL555:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4582              		.loc 1 1557 10 view .LVU1404
 4583 00a2 FFF7FEFF 		bl	sync_window
 4584              	.LVL556:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4585              		.loc 1 1557 9 discriminator 1 view .LVU1405
 4586 00a6 0028     		cmp	r0, #0
 4587 00a8 04D0     		beq	.L309
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4588              		.loc 1 1557 43 discriminator 1 view .LVU1406
 4589 00aa 0120     		movs	r0, #1
 4590 00ac CDE7     		b	.L291
 4591              	.LVL557:
 4592              	.L308:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4593              		.loc 1 1549 7 is_stmt 1 view .LVU1407
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4594              		.loc 1 1549 16 is_stmt 0 view .LVU1408
ARM GAS  /tmp/ccVOuidm.s 			page 204


 4595 00ae E361     		str	r3, [r4, #28]
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4596              		.loc 1 1549 21 is_stmt 1 view .LVU1409
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4597              		.loc 1 1549 28 is_stmt 0 view .LVU1410
 4598 00b0 0420     		movs	r0, #4
 4599              	.LVL558:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4600              		.loc 1 1549 28 view .LVU1411
 4601 00b2 CAE7     		b	.L291
 4602              	.L309:
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 4603              		.loc 1 1558 6 is_stmt 1 view .LVU1412
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 4604              		.loc 1 1558 16 is_stmt 0 view .LVU1413
 4605 00b4 3800     		movs	r0, r7
 4606 00b6 3030     		adds	r0, r0, #48
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 4607              		.loc 1 1558 6 view .LVU1414
 4608 00b8 8022     		movs	r2, #128
 4609 00ba 9200     		lsls	r2, r2, #2
 4610 00bc 0021     		movs	r1, #0
 4611 00be FFF7FEFF 		bl	mem_set
 4612              	.LVL559:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4613              		.loc 1 1559 6 is_stmt 1 view .LVU1415
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4614              		.loc 1 1559 32 is_stmt 0 view .LVU1416
 4615 00c2 5146     		mov	r1, r10
 4616 00c4 3800     		movs	r0, r7
 4617 00c6 FFF7FEFF 		bl	clust2sect
 4618              	.LVL560:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4619              		.loc 1 1559 30 discriminator 1 view .LVU1417
 4620 00ca F862     		str	r0, [r7, #44]
 4621              	.LVL561:
 4622              	.L296:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4623              		.loc 1 1559 56 is_stmt 1 discriminator 1 view .LVU1418
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4624              		.loc 1 1559 60 is_stmt 0 discriminator 1 view .LVU1419
 4625 00cc 7B89     		ldrh	r3, [r7, #10]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4626              		.loc 1 1559 56 discriminator 1 view .LVU1420
 4627 00ce 9945     		cmp	r9, r3
 4628 00d0 0DD2     		bcs	.L310
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4629              		.loc 1 1560 7 is_stmt 1 view .LVU1421
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4630              		.loc 1 1560 17 is_stmt 0 view .LVU1422
 4631 00d2 0123     		movs	r3, #1
 4632 00d4 FB70     		strb	r3, [r7, #3]
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4633              		.loc 1 1561 7 is_stmt 1 view .LVU1423
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4634              		.loc 1 1561 11 is_stmt 0 view .LVU1424
 4635 00d6 3800     		movs	r0, r7
ARM GAS  /tmp/ccVOuidm.s 			page 205


 4636 00d8 FFF7FEFF 		bl	sync_window
 4637              	.LVL562:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4638              		.loc 1 1561 10 discriminator 1 view .LVU1425
 4639 00dc 0028     		cmp	r0, #0
 4640 00de 20D1     		bne	.L306
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4641              		.loc 1 1559 72 is_stmt 1 discriminator 2 view .LVU1426
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4642              		.loc 1 1559 70 is_stmt 0 discriminator 2 view .LVU1427
 4643 00e0 0123     		movs	r3, #1
 4644 00e2 9C46     		mov	ip, r3
 4645 00e4 E144     		add	r9, r9, ip
 4646              	.LVL563:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4647              		.loc 1 1559 76 discriminator 2 view .LVU1428
 4648 00e6 FB6A     		ldr	r3, [r7, #44]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4649              		.loc 1 1559 85 discriminator 2 view .LVU1429
 4650 00e8 0133     		adds	r3, r3, #1
 4651 00ea FB62     		str	r3, [r7, #44]
 4652 00ec EEE7     		b	.L296
 4653              	.L310:
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4654              		.loc 1 1563 6 is_stmt 1 view .LVU1430
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4655              		.loc 1 1563 8 is_stmt 0 view .LVU1431
 4656 00ee FB6A     		ldr	r3, [r7, #44]
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4657              		.loc 1 1563 18 view .LVU1432
 4658 00f0 4A46     		mov	r2, r9
 4659 00f2 9B1A     		subs	r3, r3, r2
 4660 00f4 FB62     		str	r3, [r7, #44]
 4661              	.LVL564:
 4662              	.L294:
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4663              		.loc 1 1569 5 is_stmt 1 view .LVU1433
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4664              		.loc 1 1569 15 is_stmt 0 view .LVU1434
 4665 00f6 5346     		mov	r3, r10
 4666 00f8 A361     		str	r3, [r4, #24]
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4667              		.loc 1 1570 5 is_stmt 1 view .LVU1435
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4668              		.loc 1 1570 16 is_stmt 0 view .LVU1436
 4669 00fa 5146     		mov	r1, r10
 4670 00fc 3800     		movs	r0, r7
 4671 00fe FFF7FEFF 		bl	clust2sect
 4672              	.LVL565:
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4673              		.loc 1 1570 14 discriminator 1 view .LVU1437
 4674 0102 E061     		str	r0, [r4, #28]
 4675 0104 9CE7     		b	.L292
 4676              	.LVL566:
 4677              	.L298:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4678              		.loc 1 1531 105 discriminator 3 view .LVU1438
ARM GAS  /tmp/ccVOuidm.s 			page 206


 4679 0106 0420     		movs	r0, #4
 4680              	.LVL567:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4681              		.loc 1 1531 105 discriminator 3 view .LVU1439
 4682 0108 9FE7     		b	.L291
 4683              	.LVL568:
 4684              	.L299:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4685              		.loc 1 1531 105 discriminator 3 view .LVU1440
 4686 010a 0420     		movs	r0, #4
 4687              	.LVL569:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4688              		.loc 1 1531 105 discriminator 3 view .LVU1441
 4689 010c 9DE7     		b	.L291
 4690              	.LVL570:
 4691              	.L300:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4692              		.loc 1 1544 27 discriminator 1 view .LVU1442
 4693 010e 0220     		movs	r0, #2
 4694              	.LVL571:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4695              		.loc 1 1544 27 discriminator 1 view .LVU1443
 4696 0110 9BE7     		b	.L291
 4697              	.LVL572:
 4698              	.L301:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4699              		.loc 1 1545 36 discriminator 1 view .LVU1444
 4700 0112 0120     		movs	r0, #1
 4701              	.LVL573:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4702              		.loc 1 1545 36 discriminator 1 view .LVU1445
 4703 0114 99E7     		b	.L291
 4704              	.LVL574:
 4705              	.L302:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4706              		.loc 1 1552 28 discriminator 1 view .LVU1446
 4707 0116 0720     		movs	r0, #7
 4708              	.LVL575:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4709              		.loc 1 1552 28 discriminator 1 view .LVU1447
 4710 0118 97E7     		b	.L291
 4711              	.LVL576:
 4712              	.L303:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4713              		.loc 1 1553 28 discriminator 1 view .LVU1448
 4714 011a 0220     		movs	r0, #2
 4715              	.LVL577:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4716              		.loc 1 1553 28 discriminator 1 view .LVU1449
 4717 011c 95E7     		b	.L291
 4718              	.LVL578:
 4719              	.L304:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4720              		.loc 1 1554 37 discriminator 1 view .LVU1450
 4721 011e 0120     		movs	r0, #1
 4722              	.LVL579:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
ARM GAS  /tmp/ccVOuidm.s 			page 207


 4723              		.loc 1 1554 37 discriminator 1 view .LVU1451
 4724 0120 93E7     		b	.L291
 4725              	.LVL580:
 4726              	.L306:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4727              		.loc 1 1561 44 discriminator 1 view .LVU1452
 4728 0122 0120     		movs	r0, #1
 4729 0124 91E7     		b	.L291
 4730              		.cfi_endproc
 4731              	.LFE516:
 4733              		.section	.text.dir_find,"ax",%progbits
 4734              		.align	1
 4735              		.syntax unified
 4736              		.code	16
 4737              		.thumb_func
 4739              	dir_find:
 4740              	.LVL581:
 4741              	.LFB521:
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4742              		.loc 1 2213 1 is_stmt 1 view -0
 4743              		.cfi_startproc
 4744              		@ args = 0, pretend = 0, frame = 0
 4745              		@ frame_needed = 0, uses_anonymous_args = 0
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4746              		.loc 1 2213 1 is_stmt 0 view .LVU1454
 4747 0000 70B5     		push	{r4, r5, r6, lr}
 4748              	.LCFI32:
 4749              		.cfi_def_cfa_offset 16
 4750              		.cfi_offset 4, -16
 4751              		.cfi_offset 5, -12
 4752              		.cfi_offset 6, -8
 4753              		.cfi_offset 14, -4
 4754 0002 0500     		movs	r5, r0
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4755              		.loc 1 2214 2 is_stmt 1 view .LVU1455
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 4756              		.loc 1 2215 2 view .LVU1456
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 4757              		.loc 1 2215 9 is_stmt 0 view .LVU1457
 4758 0004 0668     		ldr	r6, [r0]
 4759              	.LVL582:
2216:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 4760              		.loc 1 2216 2 is_stmt 1 view .LVU1458
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4761              		.loc 1 2221 2 view .LVU1459
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4762              		.loc 1 2221 8 is_stmt 0 view .LVU1460
 4763 0006 0021     		movs	r1, #0
 4764 0008 FFF7FEFF 		bl	dir_sdi
 4765              	.LVL583:
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4766              		.loc 1 2221 8 view .LVU1461
 4767 000c 041E     		subs	r4, r0, #0
 4768              	.LVL584:
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4769              		.loc 1 2222 2 is_stmt 1 view .LVU1462
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
ARM GAS  /tmp/ccVOuidm.s 			page 208


 4770              		.loc 1 2222 5 is_stmt 0 view .LVU1463
 4771 000e 07D0     		beq	.L314
 4772              	.LVL585:
 4773              	.L312:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4774              		.loc 1 2281 1 view .LVU1464
 4775 0010 2000     		movs	r0, r4
 4776              		@ sp needed
 4777              	.LVL586:
 4778              	.LVL587:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4779              		.loc 1 2281 1 view .LVU1465
 4780 0012 70BD     		pop	{r4, r5, r6, pc}
 4781              	.LVL588:
 4782              	.L313:
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4783              		.loc 1 2277 3 is_stmt 1 view .LVU1466
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4784              		.loc 1 2277 9 is_stmt 0 view .LVU1467
 4785 0014 0021     		movs	r1, #0
 4786 0016 2800     		movs	r0, r5
 4787 0018 FFF7FEFF 		bl	dir_next
 4788              	.LVL589:
 4789 001c 041E     		subs	r4, r0, #0
 4790              	.LVL590:
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4791              		.loc 1 2278 15 is_stmt 1 view .LVU1468
 4792 001e F7D1     		bne	.L312
 4793              	.LVL591:
 4794              	.L314:
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4795              		.loc 1 2247 2 view .LVU1469
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4796              		.loc 1 2248 3 view .LVU1470
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4797              		.loc 1 2248 9 is_stmt 0 view .LVU1471
 4798 0020 E969     		ldr	r1, [r5, #28]
 4799 0022 3000     		movs	r0, r6
 4800 0024 FFF7FEFF 		bl	move_window
 4801              	.LVL592:
 4802 0028 041E     		subs	r4, r0, #0
 4803              	.LVL593:
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 4804              		.loc 1 2249 3 is_stmt 1 view .LVU1472
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 4805              		.loc 1 2249 6 is_stmt 0 view .LVU1473
 4806 002a F1D1     		bne	.L312
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4807              		.loc 1 2250 3 is_stmt 1 view .LVU1474
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4808              		.loc 1 2250 9 is_stmt 0 view .LVU1475
 4809 002c 286A     		ldr	r0, [r5, #32]
 4810              	.LVL594:
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4811              		.loc 1 2250 5 view .LVU1476
 4812 002e 0378     		ldrb	r3, [r0]
 4813              	.LVL595:
ARM GAS  /tmp/ccVOuidm.s 			page 209


2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4814              		.loc 1 2251 3 is_stmt 1 view .LVU1477
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4815              		.loc 1 2251 6 is_stmt 0 view .LVU1478
 4816 0030 002B     		cmp	r3, #0
 4817 0032 0ED0     		beq	.L315
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 4818              		.loc 1 2274 3 is_stmt 1 view .LVU1479
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 4819              		.loc 1 2274 25 is_stmt 0 view .LVU1480
 4820 0034 C27A     		ldrb	r2, [r0, #11]
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 4821              		.loc 1 2274 36 view .LVU1481
 4822 0036 3F23     		movs	r3, #63
 4823 0038 1340     		ands	r3, r2
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 4824              		.loc 1 2274 16 view .LVU1482
 4825 003a AB71     		strb	r3, [r5, #6]
 4826              	.LVL596:
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4827              		.loc 1 2275 3 is_stmt 1 view .LVU1483
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4828              		.loc 1 2275 16 is_stmt 0 view .LVU1484
 4829 003c C37A     		ldrb	r3, [r0, #11]
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4830              		.loc 1 2275 6 view .LVU1485
 4831 003e 1B07     		lsls	r3, r3, #28
 4832 0040 E8D4     		bmi	.L313
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4833              		.loc 1 2275 60 discriminator 1 view .LVU1486
 4834 0042 2900     		movs	r1, r5
 4835 0044 2431     		adds	r1, r1, #36
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4836              		.loc 1 2275 41 discriminator 1 view .LVU1487
 4837 0046 0B22     		movs	r2, #11
 4838 0048 FFF7FEFF 		bl	mem_cmp
 4839              	.LVL597:
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4840              		.loc 1 2275 37 discriminator 1 view .LVU1488
 4841 004c 0028     		cmp	r0, #0
 4842 004e E1D1     		bne	.L313
 4843 0050 DEE7     		b	.L312
 4844              	.LVL598:
 4845              	.L315:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4846              		.loc 1 2251 21 discriminator 1 view .LVU1489
 4847 0052 0424     		movs	r4, #4
 4848              	.LVL599:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4849              		.loc 1 2251 21 discriminator 1 view .LVU1490
 4850 0054 DCE7     		b	.L312
 4851              		.cfi_endproc
 4852              	.LFE521:
 4854              		.section	.text.follow_path,"ax",%progbits
 4855              		.align	1
 4856              		.syntax unified
 4857              		.code	16
ARM GAS  /tmp/ccVOuidm.s 			page 210


 4858              		.thumb_func
 4860              	follow_path:
 4861              	.LVL600:
 4862              	.LFB526:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4863              		.loc 1 2817 1 is_stmt 1 view -0
 4864              		.cfi_startproc
 4865              		@ args = 0, pretend = 0, frame = 8
 4866              		@ frame_needed = 0, uses_anonymous_args = 0
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4867              		.loc 1 2817 1 is_stmt 0 view .LVU1492
 4868 0000 30B5     		push	{r4, r5, lr}
 4869              	.LCFI33:
 4870              		.cfi_def_cfa_offset 12
 4871              		.cfi_offset 4, -12
 4872              		.cfi_offset 5, -8
 4873              		.cfi_offset 14, -4
 4874 0002 83B0     		sub	sp, sp, #12
 4875              	.LCFI34:
 4876              		.cfi_def_cfa_offset 24
 4877 0004 0400     		movs	r4, r0
 4878 0006 0191     		str	r1, [sp, #4]
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
 4879              		.loc 1 2818 2 is_stmt 1 view .LVU1493
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
 4880              		.loc 1 2819 2 view .LVU1494
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 4881              		.loc 1 2820 2 view .LVU1495
 4882              	.LVL601:
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4883              		.loc 1 2821 2 view .LVU1496
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4884              		.loc 1 2821 9 is_stmt 0 view .LVU1497
 4885 0008 0568     		ldr	r5, [r0]
 4886              	.LVL602:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4887              		.loc 1 2830 3 is_stmt 1 view .LVU1498
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4888              		.loc 1 2830 9 is_stmt 0 view .LVU1499
 4889 000a 01E0     		b	.L318
 4890              	.L319:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4891              		.loc 1 2830 41 is_stmt 1 discriminator 4 view .LVU1500
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4892              		.loc 1 2830 45 is_stmt 0 discriminator 4 view .LVU1501
 4893 000c 0133     		adds	r3, r3, #1
 4894 000e 0193     		str	r3, [sp, #4]
 4895              	.L318:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4896              		.loc 1 2830 23 is_stmt 1 discriminator 1 view .LVU1502
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4897              		.loc 1 2830 10 is_stmt 0 discriminator 1 view .LVU1503
 4898 0010 019B     		ldr	r3, [sp, #4]
 4899 0012 1A78     		ldrb	r2, [r3]
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4900              		.loc 1 2830 23 discriminator 1 view .LVU1504
 4901 0014 2F2A     		cmp	r2, #47
ARM GAS  /tmp/ccVOuidm.s 			page 211


 4902 0016 F9D0     		beq	.L319
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4903              		.loc 1 2830 23 discriminator 3 view .LVU1505
 4904 0018 5C2A     		cmp	r2, #92
 4905 001a F7D0     		beq	.L319
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4906              		.loc 1 2831 3 is_stmt 1 view .LVU1506
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4907              		.loc 1 2831 15 is_stmt 0 view .LVU1507
 4908 001c 0022     		movs	r2, #0
 4909 001e A260     		str	r2, [r4, #8]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 4910              		.loc 1 2850 2 is_stmt 1 view .LVU1508
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 4911              		.loc 1 2850 12 is_stmt 0 view .LVU1509
 4912 0020 1B78     		ldrb	r3, [r3]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 4913              		.loc 1 2850 5 view .LVU1510
 4914 0022 1F2B     		cmp	r3, #31
 4915 0024 1CD9     		bls	.L327
 4916              	.LVL603:
 4917              	.L320:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4918              		.loc 1 2855 3 is_stmt 1 view .LVU1511
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4919              		.loc 1 2856 4 view .LVU1512
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4920              		.loc 1 2856 10 is_stmt 0 view .LVU1513
 4921 0026 01A9     		add	r1, sp, #4
 4922 0028 2000     		movs	r0, r4
 4923 002a FFF7FEFF 		bl	create_name
 4924              	.LVL604:
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 4925              		.loc 1 2857 4 is_stmt 1 view .LVU1514
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 4926              		.loc 1 2857 7 is_stmt 0 view .LVU1515
 4927 002e 0028     		cmp	r0, #0
 4928 0030 1DD1     		bne	.L321
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4929              		.loc 1 2858 4 is_stmt 1 view .LVU1516
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4930              		.loc 1 2858 10 is_stmt 0 view .LVU1517
 4931 0032 2000     		movs	r0, r4
 4932              	.LVL605:
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4933              		.loc 1 2858 10 view .LVU1518
 4934 0034 FFF7FEFF 		bl	dir_find
 4935              	.LVL606:
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4936              		.loc 1 2859 4 is_stmt 1 view .LVU1519
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4937              		.loc 1 2859 7 is_stmt 0 view .LVU1520
 4938 0038 2F23     		movs	r3, #47
 4939 003a E35C     		ldrb	r3, [r4, r3]
 4940              	.LVL607:
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4941              		.loc 1 2860 4 is_stmt 1 view .LVU1521
ARM GAS  /tmp/ccVOuidm.s 			page 212


2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4942              		.loc 1 2860 7 is_stmt 0 view .LVU1522
 4943 003c 0028     		cmp	r0, #0
 4944 003e 18D1     		bne	.L328
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 4945              		.loc 1 2872 4 is_stmt 1 view .LVU1523
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 4946              		.loc 1 2872 7 is_stmt 0 view .LVU1524
 4947 0040 5B07     		lsls	r3, r3, #29
 4948 0042 14D4     		bmi	.L321
 4949              	.LVL608:
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4950              		.loc 1 2874 4 is_stmt 1 view .LVU1525
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4951              		.loc 1 2874 13 is_stmt 0 view .LVU1526
 4952 0044 A379     		ldrb	r3, [r4, #6]
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4953              		.loc 1 2874 7 view .LVU1527
 4954 0046 DB06     		lsls	r3, r3, #27
 4955 0048 19D5     		bpl	.L324
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4956              		.loc 1 2888 5 is_stmt 1 view .LVU1528
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4957              		.loc 1 2888 32 is_stmt 0 view .LVU1529
 4958 004a 2900     		movs	r1, r5
 4959 004c 3031     		adds	r1, r1, #48
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4960              		.loc 1 2888 44 view .LVU1530
 4961 004e 6369     		ldr	r3, [r4, #20]
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4962              		.loc 1 2888 51 view .LVU1531
 4963 0050 DB05     		lsls	r3, r3, #23
 4964 0052 DB0D     		lsrs	r3, r3, #23
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4965              		.loc 1 2888 19 view .LVU1532
 4966 0054 C918     		adds	r1, r1, r3
 4967 0056 2800     		movs	r0, r5
 4968              	.LVL609:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4969              		.loc 1 2888 19 view .LVU1533
 4970 0058 FFF7FEFF 		bl	ld_clust
 4971              	.LVL610:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4972              		.loc 1 2888 17 discriminator 1 view .LVU1534
 4973 005c A060     		str	r0, [r4, #8]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4974              		.loc 1 2855 3 is_stmt 1 view .LVU1535
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4975              		.loc 1 2856 8 is_stmt 0 view .LVU1536
 4976 005e E2E7     		b	.L320
 4977              	.LVL611:
 4978              	.L327:
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4979              		.loc 1 2851 3 is_stmt 1 view .LVU1537
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4980              		.loc 1 2851 18 is_stmt 0 view .LVU1538
 4981 0060 2F23     		movs	r3, #47
ARM GAS  /tmp/ccVOuidm.s 			page 213


 4982 0062 8032     		adds	r2, r2, #128
 4983 0064 E254     		strb	r2, [r4, r3]
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4984              		.loc 1 2852 3 is_stmt 1 view .LVU1539
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4985              		.loc 1 2852 9 is_stmt 0 view .LVU1540
 4986 0066 0021     		movs	r1, #0
 4987              	.LVL612:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4988              		.loc 1 2852 9 view .LVU1541
 4989 0068 2000     		movs	r0, r4
 4990              	.LVL613:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4991              		.loc 1 2852 9 view .LVU1542
 4992 006a FFF7FEFF 		bl	dir_sdi
 4993              	.LVL614:
 4994              	.L321:
2893:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4995              		.loc 1 2893 2 is_stmt 1 view .LVU1543
2894:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4996              		.loc 1 2894 1 is_stmt 0 view .LVU1544
 4997 006e 03B0     		add	sp, sp, #12
 4998              		@ sp needed
 4999              	.LVL615:
 5000              	.LVL616:
2894:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5001              		.loc 1 2894 1 view .LVU1545
 5002 0070 30BD     		pop	{r4, r5, pc}
 5003              	.LVL617:
 5004              	.L328:
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 5005              		.loc 1 2861 5 is_stmt 1 view .LVU1546
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 5006              		.loc 1 2861 8 is_stmt 0 view .LVU1547
 5007 0072 0428     		cmp	r0, #4
 5008 0074 FBD1     		bne	.L321
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
 5009              		.loc 1 2862 6 is_stmt 1 view .LVU1548
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5010              		.loc 1 2867 7 view .LVU1549
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5011              		.loc 1 2867 10 is_stmt 0 view .LVU1550
 5012 0076 5B07     		lsls	r3, r3, #29
 5013 0078 F9D4     		bmi	.L321
 5014              	.LVL618:
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5015              		.loc 1 2867 32 discriminator 1 view .LVU1551
 5016 007a 0520     		movs	r0, #5
 5017              	.LVL619:
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5018              		.loc 1 2867 32 discriminator 1 view .LVU1552
 5019 007c F7E7     		b	.L321
 5020              	.LVL620:
 5021              	.L324:
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5022              		.loc 1 2875 9 view .LVU1553
 5023 007e 0520     		movs	r0, #5
ARM GAS  /tmp/ccVOuidm.s 			page 214


 5024              	.LVL621:
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5025              		.loc 1 2875 9 view .LVU1554
 5026 0080 F5E7     		b	.L321
 5027              		.cfi_endproc
 5028              	.LFE526:
 5030              		.section	.text.dir_alloc,"ax",%progbits
 5031              		.align	1
 5032              		.syntax unified
 5033              		.code	16
 5034              		.thumb_func
 5036              	dir_alloc:
 5037              	.LVL622:
 5038              	.LFB517:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5039              		.loc 1 1593 1 is_stmt 1 view -0
 5040              		.cfi_startproc
 5041              		@ args = 0, pretend = 0, frame = 0
 5042              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5043              		.loc 1 1593 1 is_stmt 0 view .LVU1556
 5044 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 5045              	.LCFI35:
 5046              		.cfi_def_cfa_offset 24
 5047              		.cfi_offset 3, -24
 5048              		.cfi_offset 4, -20
 5049              		.cfi_offset 5, -16
 5050              		.cfi_offset 6, -12
 5051              		.cfi_offset 7, -8
 5052              		.cfi_offset 14, -4
 5053 0002 0400     		movs	r4, r0
 5054 0004 0D00     		movs	r5, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 5055              		.loc 1 1594 2 is_stmt 1 view .LVU1557
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 5056              		.loc 1 1595 2 view .LVU1558
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5057              		.loc 1 1596 2 view .LVU1559
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5058              		.loc 1 1596 9 is_stmt 0 view .LVU1560
 5059 0006 0668     		ldr	r6, [r0]
 5060              	.LVL623:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5061              		.loc 1 1599 2 is_stmt 1 view .LVU1561
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5062              		.loc 1 1599 8 is_stmt 0 view .LVU1562
 5063 0008 0021     		movs	r1, #0
 5064              	.LVL624:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5065              		.loc 1 1599 8 view .LVU1563
 5066 000a FFF7FEFF 		bl	dir_sdi
 5067              	.LVL625:
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 5068              		.loc 1 1600 2 is_stmt 1 view .LVU1564
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 5069              		.loc 1 1600 5 is_stmt 0 view .LVU1565
 5070 000e 0028     		cmp	r0, #0
ARM GAS  /tmp/ccVOuidm.s 			page 215


 5071 0010 18D1     		bne	.L330
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 5072              		.loc 1 1601 5 view .LVU1566
 5073 0012 0027     		movs	r7, #0
 5074 0014 08E0     		b	.L333
 5075              	.LVL626:
 5076              	.L331:
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5077              		.loc 1 1610 5 is_stmt 1 view .LVU1567
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5078              		.loc 1 1610 8 is_stmt 0 view .LVU1568
 5079 0016 0137     		adds	r7, r7, #1
 5080              	.LVL627:
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5081              		.loc 1 1610 8 view .LVU1569
 5082 0018 AF42     		cmp	r7, r5
 5083 001a 13D0     		beq	.L330
 5084              	.LVL628:
 5085              	.L332:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 5086              		.loc 1 1614 4 is_stmt 1 view .LVU1570
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 5087              		.loc 1 1614 10 is_stmt 0 view .LVU1571
 5088 001c 0121     		movs	r1, #1
 5089 001e 2000     		movs	r0, r4
 5090              	.LVL629:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 5091              		.loc 1 1614 10 view .LVU1572
 5092 0020 FFF7FEFF 		bl	dir_next
 5093              	.LVL630:
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5094              		.loc 1 1615 16 is_stmt 1 view .LVU1573
 5095 0024 0028     		cmp	r0, #0
 5096 0026 0DD1     		bne	.L330
 5097              	.LVL631:
 5098              	.L333:
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 5099              		.loc 1 1602 3 view .LVU1574
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 5100              		.loc 1 1603 4 view .LVU1575
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 5101              		.loc 1 1603 10 is_stmt 0 view .LVU1576
 5102 0028 E169     		ldr	r1, [r4, #28]
 5103 002a 3000     		movs	r0, r6
 5104 002c FFF7FEFF 		bl	move_window
 5105              	.LVL632:
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5106              		.loc 1 1604 4 is_stmt 1 view .LVU1577
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5107              		.loc 1 1604 7 is_stmt 0 view .LVU1578
 5108 0030 0028     		cmp	r0, #0
 5109 0032 07D1     		bne	.L330
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5110              		.loc 1 1608 4 is_stmt 1 view .LVU1579
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5111              		.loc 1 1608 10 is_stmt 0 view .LVU1580
 5112 0034 236A     		ldr	r3, [r4, #32]
ARM GAS  /tmp/ccVOuidm.s 			page 216


1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5113              		.loc 1 1608 15 view .LVU1581
 5114 0036 1B78     		ldrb	r3, [r3]
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5115              		.loc 1 1608 7 view .LVU1582
 5116 0038 E52B     		cmp	r3, #229
 5117 003a ECD0     		beq	.L331
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5118              		.loc 1 1608 34 discriminator 1 view .LVU1583
 5119 003c 002B     		cmp	r3, #0
 5120 003e EAD0     		beq	.L331
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5121              		.loc 1 1612 7 view .LVU1584
 5122 0040 0027     		movs	r7, #0
 5123              	.LVL633:
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5124              		.loc 1 1612 7 view .LVU1585
 5125 0042 EBE7     		b	.L332
 5126              	.LVL634:
 5127              	.L330:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5128              		.loc 1 1618 2 is_stmt 1 view .LVU1586
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5129              		.loc 1 1618 5 is_stmt 0 view .LVU1587
 5130 0044 0428     		cmp	r0, #4
 5131 0046 00D0     		beq	.L337
 5132              	.LVL635:
 5133              	.L334:
1619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5134              		.loc 1 1619 2 is_stmt 1 view .LVU1588
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5135              		.loc 1 1620 1 is_stmt 0 view .LVU1589
 5136              		@ sp needed
 5137              	.LVL636:
 5138              	.LVL637:
 5139              	.LVL638:
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5140              		.loc 1 1620 1 view .LVU1590
 5141 0048 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 5142              	.LVL639:
 5143              	.L337:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5144              		.loc 1 1618 29 discriminator 1 view .LVU1591
 5145 004a 0330     		adds	r0, r0, #3
 5146              	.LVL640:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5147              		.loc 1 1618 29 discriminator 1 view .LVU1592
 5148 004c FCE7     		b	.L334
 5149              		.cfi_endproc
 5150              	.LFE517:
 5152              		.section	.text.dir_register,"ax",%progbits
 5153              		.align	1
 5154              		.syntax unified
 5155              		.code	16
 5156              		.thumb_func
 5158              	dir_register:
 5159              	.LVL641:
ARM GAS  /tmp/ccVOuidm.s 			page 217


 5160              	.LFB522:
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5161              		.loc 1 2295 1 is_stmt 1 view -0
 5162              		.cfi_startproc
 5163              		@ args = 0, pretend = 0, frame = 0
 5164              		@ frame_needed = 0, uses_anonymous_args = 0
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5165              		.loc 1 2295 1 is_stmt 0 view .LVU1594
 5166 0000 70B5     		push	{r4, r5, r6, lr}
 5167              	.LCFI36:
 5168              		.cfi_def_cfa_offset 16
 5169              		.cfi_offset 4, -16
 5170              		.cfi_offset 5, -12
 5171              		.cfi_offset 6, -8
 5172              		.cfi_offset 14, -4
 5173 0002 0500     		movs	r5, r0
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 5174              		.loc 1 2296 2 is_stmt 1 view .LVU1595
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5175              		.loc 1 2297 2 view .LVU1596
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5176              		.loc 1 2297 9 is_stmt 0 view .LVU1597
 5177 0004 0668     		ldr	r6, [r0]
 5178              	.LVL642:
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5179              		.loc 1 2366 2 is_stmt 1 view .LVU1598
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5180              		.loc 1 2366 8 is_stmt 0 view .LVU1599
 5181 0006 0121     		movs	r1, #1
 5182 0008 FFF7FEFF 		bl	dir_alloc
 5183              	.LVL643:
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5184              		.loc 1 2366 8 view .LVU1600
 5185 000c 041E     		subs	r4, r0, #0
 5186              	.LVL644:
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 5187              		.loc 1 2371 2 is_stmt 1 view .LVU1601
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 5188              		.loc 1 2371 5 is_stmt 0 view .LVU1602
 5189 000e 01D0     		beq	.L340
 5190              	.LVL645:
 5191              	.L339:
2383:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5192              		.loc 1 2383 2 is_stmt 1 view .LVU1603
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5193              		.loc 1 2384 1 is_stmt 0 view .LVU1604
 5194 0010 2000     		movs	r0, r4
 5195              		@ sp needed
 5196              	.LVL646:
 5197              	.LVL647:
 5198              	.LVL648:
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5199              		.loc 1 2384 1 view .LVU1605
 5200 0012 70BD     		pop	{r4, r5, r6, pc}
 5201              	.LVL649:
 5202              	.L340:
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /tmp/ccVOuidm.s 			page 218


 5203              		.loc 1 2372 3 is_stmt 1 view .LVU1606
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 5204              		.loc 1 2372 9 is_stmt 0 view .LVU1607
 5205 0014 E969     		ldr	r1, [r5, #28]
 5206 0016 3000     		movs	r0, r6
 5207              	.LVL650:
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 5208              		.loc 1 2372 9 view .LVU1608
 5209 0018 FFF7FEFF 		bl	move_window
 5210              	.LVL651:
 5211 001c 041E     		subs	r4, r0, #0
 5212              	.LVL652:
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 5213              		.loc 1 2373 3 is_stmt 1 view .LVU1609
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 5214              		.loc 1 2373 6 is_stmt 0 view .LVU1610
 5215 001e F7D1     		bne	.L339
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 5216              		.loc 1 2374 4 is_stmt 1 view .LVU1611
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 5217              		.loc 1 2374 14 is_stmt 0 view .LVU1612
 5218 0020 286A     		ldr	r0, [r5, #32]
 5219              	.LVL653:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 5220              		.loc 1 2374 4 view .LVU1613
 5221 0022 2022     		movs	r2, #32
 5222 0024 0021     		movs	r1, #0
 5223 0026 FFF7FEFF 		bl	mem_set
 5224              	.LVL654:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5225              		.loc 1 2375 4 is_stmt 1 view .LVU1614
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5226              		.loc 1 2375 20 is_stmt 0 view .LVU1615
 5227 002a 286A     		ldr	r0, [r5, #32]
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5228              		.loc 1 2375 34 view .LVU1616
 5229 002c 2900     		movs	r1, r5
 5230 002e 2431     		adds	r1, r1, #36
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5231              		.loc 1 2375 4 view .LVU1617
 5232 0030 0B22     		movs	r2, #11
 5233 0032 FFF7FEFF 		bl	mem_cpy
 5234              	.LVL655:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5235              		.loc 1 2379 4 is_stmt 1 view .LVU1618
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5236              		.loc 1 2379 14 is_stmt 0 view .LVU1619
 5237 0036 0123     		movs	r3, #1
 5238 0038 F370     		strb	r3, [r6, #3]
 5239 003a E9E7     		b	.L339
 5240              		.cfi_endproc
 5241              	.LFE522:
 5243              		.section	.text.dir_read,"ax",%progbits
 5244              		.align	1
 5245              		.syntax unified
 5246              		.code	16
 5247              		.thumb_func
ARM GAS  /tmp/ccVOuidm.s 			page 219


 5249              	dir_read:
 5250              	.LVL656:
 5251              	.LFB520:
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 5252              		.loc 1 2135 1 is_stmt 1 view -0
 5253              		.cfi_startproc
 5254              		@ args = 0, pretend = 0, frame = 0
 5255              		@ frame_needed = 0, uses_anonymous_args = 0
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 5256              		.loc 1 2135 1 is_stmt 0 view .LVU1621
 5257 0000 70B5     		push	{r4, r5, r6, lr}
 5258              	.LCFI37:
 5259              		.cfi_def_cfa_offset 16
 5260              		.cfi_offset 4, -16
 5261              		.cfi_offset 5, -12
 5262              		.cfi_offset 6, -8
 5263              		.cfi_offset 14, -4
 5264 0002 0400     		movs	r4, r0
 5265 0004 0E00     		movs	r6, r1
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 5266              		.loc 1 2136 2 is_stmt 1 view .LVU1622
 5267              	.LVL657:
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 5268              		.loc 1 2137 2 view .LVU1623
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 5269              		.loc 1 2137 9 is_stmt 0 view .LVU1624
 5270 0006 0568     		ldr	r5, [r0]
 5271              	.LVL658:
2138:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5272              		.loc 1 2138 2 is_stmt 1 view .LVU1625
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 5273              		.loc 1 2143 2 view .LVU1626
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 5274              		.loc 1 2136 10 is_stmt 0 view .LVU1627
 5275 0008 0420     		movs	r0, #4
 5276              	.LVL659:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 5277              		.loc 1 2143 8 view .LVU1628
 5278 000a 05E0     		b	.L342
 5279              	.LVL660:
 5280              	.L344:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5281              		.loc 1 2193 3 is_stmt 1 view .LVU1629
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5282              		.loc 1 2193 9 is_stmt 0 view .LVU1630
 5283 000c 0021     		movs	r1, #0
 5284 000e 2000     		movs	r0, r4
 5285              	.LVL661:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5286              		.loc 1 2193 9 view .LVU1631
 5287 0010 FFF7FEFF 		bl	dir_next
 5288              	.LVL662:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5289              		.loc 1 2194 3 is_stmt 1 view .LVU1632
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5290              		.loc 1 2194 6 is_stmt 0 view .LVU1633
 5291 0014 0028     		cmp	r0, #0
ARM GAS  /tmp/ccVOuidm.s 			page 220


 5292 0016 1ED1     		bne	.L343
 5293              	.LVL663:
 5294              	.L342:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 5295              		.loc 1 2143 9 is_stmt 1 view .LVU1634
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 5296              		.loc 1 2143 11 is_stmt 0 view .LVU1635
 5297 0018 E169     		ldr	r1, [r4, #28]
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 5298              		.loc 1 2143 9 view .LVU1636
 5299 001a 0029     		cmp	r1, #0
 5300 001c 1BD0     		beq	.L343
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5301              		.loc 1 2144 3 is_stmt 1 view .LVU1637
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5302              		.loc 1 2144 9 is_stmt 0 view .LVU1638
 5303 001e 2800     		movs	r0, r5
 5304              	.LVL664:
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5305              		.loc 1 2144 9 view .LVU1639
 5306 0020 FFF7FEFF 		bl	move_window
 5307              	.LVL665:
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 5308              		.loc 1 2145 3 is_stmt 1 view .LVU1640
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 5309              		.loc 1 2145 6 is_stmt 0 view .LVU1641
 5310 0024 0028     		cmp	r0, #0
 5311 0026 16D1     		bne	.L343
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 5312              		.loc 1 2146 3 is_stmt 1 view .LVU1642
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 5313              		.loc 1 2146 9 is_stmt 0 view .LVU1643
 5314 0028 236A     		ldr	r3, [r4, #32]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 5315              		.loc 1 2146 5 view .LVU1644
 5316 002a 1A78     		ldrb	r2, [r3]
 5317              	.LVL666:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 5318              		.loc 1 2147 3 is_stmt 1 view .LVU1645
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 5319              		.loc 1 2147 6 is_stmt 0 view .LVU1646
 5320 002c 002A     		cmp	r2, #0
 5321 002e 11D0     		beq	.L347
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5322              		.loc 1 2167 4 is_stmt 1 view .LVU1647
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5323              		.loc 1 2167 30 is_stmt 0 view .LVU1648
 5324 0030 D97A     		ldrb	r1, [r3, #11]
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5325              		.loc 1 2167 21 view .LVU1649
 5326 0032 3F23     		movs	r3, #63
 5327 0034 0B40     		ands	r3, r1
 5328              	.LVL667:
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5329              		.loc 1 2167 17 view .LVU1650
 5330 0036 A371     		strb	r3, [r4, #6]
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
ARM GAS  /tmp/ccVOuidm.s 			page 221


 5331              		.loc 1 2188 4 is_stmt 1 view .LVU1651
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 5332              		.loc 1 2188 7 is_stmt 0 view .LVU1652
 5333 0038 E52A     		cmp	r2, #229
 5334 003a E7D0     		beq	.L344
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 5335              		.loc 1 2188 18 discriminator 1 view .LVU1653
 5336 003c 2E2A     		cmp	r2, #46
 5337 003e E5D0     		beq	.L344
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 5338              		.loc 1 2188 30 discriminator 2 view .LVU1654
 5339 0040 0F2B     		cmp	r3, #15
 5340 0042 E3D0     		beq	.L344
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 5341              		.loc 1 2188 57 discriminator 3 view .LVU1655
 5342 0044 2022     		movs	r2, #32
 5343              	.LVL668:
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 5344              		.loc 1 2188 57 discriminator 3 view .LVU1656
 5345 0046 9343     		bics	r3, r2
 5346              	.LVL669:
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 5347              		.loc 1 2188 48 discriminator 3 view .LVU1657
 5348 0048 083B     		subs	r3, r3, #8
 5349 004a 5A42     		rsbs	r2, r3, #0
 5350 004c 5341     		adcs	r3, r3, r2
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 5351              		.loc 1 2188 45 discriminator 3 view .LVU1658
 5352 004e B342     		cmp	r3, r6
 5353 0050 DCD1     		bne	.L344
 5354 0052 00E0     		b	.L343
 5355              	.LVL670:
 5356              	.L347:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5357              		.loc 1 2148 8 view .LVU1659
 5358 0054 0420     		movs	r0, #4
 5359              	.LVL671:
 5360              	.L343:
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5361              		.loc 1 2197 2 is_stmt 1 view .LVU1660
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5362              		.loc 1 2197 5 is_stmt 0 view .LVU1661
 5363 0056 0028     		cmp	r0, #0
 5364 0058 01D0     		beq	.L346
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5365              		.loc 1 2197 20 is_stmt 1 discriminator 1 view .LVU1662
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5366              		.loc 1 2197 29 is_stmt 0 discriminator 1 view .LVU1663
 5367 005a 0023     		movs	r3, #0
 5368 005c E361     		str	r3, [r4, #28]
 5369              	.L346:
2198:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5370              		.loc 1 2198 2 is_stmt 1 view .LVU1664
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5371              		.loc 1 2199 1 is_stmt 0 view .LVU1665
 5372              		@ sp needed
 5373              	.LVL672:
ARM GAS  /tmp/ccVOuidm.s 			page 222


 5374              	.LVL673:
 5375              	.LVL674:
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5376              		.loc 1 2199 1 view .LVU1666
 5377 005e 70BD     		pop	{r4, r5, r6, pc}
 5378              		.cfi_endproc
 5379              	.LFE520:
 5381              		.section	.text.sync_fs,"ax",%progbits
 5382              		.align	1
 5383              		.syntax unified
 5384              		.code	16
 5385              		.thumb_func
 5387              	sync_fs:
 5388              	.LVL675:
 5389              	.LFB508:
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5390              		.loc 1 947 1 is_stmt 1 view -0
 5391              		.cfi_startproc
 5392              		@ args = 0, pretend = 0, frame = 0
 5393              		@ frame_needed = 0, uses_anonymous_args = 0
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5394              		.loc 1 947 1 is_stmt 0 view .LVU1668
 5395 0000 70B5     		push	{r4, r5, r6, lr}
 5396              	.LCFI38:
 5397              		.cfi_def_cfa_offset 16
 5398              		.cfi_offset 4, -16
 5399              		.cfi_offset 5, -12
 5400              		.cfi_offset 6, -8
 5401              		.cfi_offset 14, -4
 5402 0002 0400     		movs	r4, r0
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5403              		.loc 1 948 2 is_stmt 1 view .LVU1669
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5404              		.loc 1 951 2 view .LVU1670
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5405              		.loc 1 951 8 is_stmt 0 view .LVU1671
 5406 0004 FFF7FEFF 		bl	sync_window
 5407              	.LVL676:
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5408              		.loc 1 951 8 view .LVU1672
 5409 0008 051E     		subs	r5, r0, #0
 5410              	.LVL677:
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 5411              		.loc 1 952 2 is_stmt 1 view .LVU1673
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 5412              		.loc 1 952 5 is_stmt 0 view .LVU1674
 5413 000a 0AD1     		bne	.L349
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5414              		.loc 1 954 3 is_stmt 1 view .LVU1675
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5415              		.loc 1 954 9 is_stmt 0 view .LVU1676
 5416 000c 2378     		ldrb	r3, [r4]
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5417              		.loc 1 954 6 view .LVU1677
 5418 000e 032B     		cmp	r3, #3
 5419 0010 09D0     		beq	.L352
 5420              	.LVL678:
ARM GAS  /tmp/ccVOuidm.s 			page 223


 5421              	.L350:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5422              		.loc 1 968 3 is_stmt 1 view .LVU1678
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5423              		.loc 1 968 7 is_stmt 0 view .LVU1679
 5424 0012 6078     		ldrb	r0, [r4, #1]
 5425 0014 0022     		movs	r2, #0
 5426 0016 0021     		movs	r1, #0
 5427 0018 FFF7FEFF 		bl	disk_ioctl
 5428              	.LVL679:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5429              		.loc 1 968 6 discriminator 1 view .LVU1680
 5430 001c 0028     		cmp	r0, #0
 5431 001e 00D0     		beq	.L349
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5432              		.loc 1 968 56 discriminator 1 view .LVU1681
 5433 0020 0125     		movs	r5, #1
 5434              	.LVL680:
 5435              	.L349:
 971:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5436              		.loc 1 971 2 is_stmt 1 view .LVU1682
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5437              		.loc 1 972 1 is_stmt 0 view .LVU1683
 5438 0022 2800     		movs	r0, r5
 5439              		@ sp needed
 5440              	.LVL681:
 5441              	.LVL682:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5442              		.loc 1 972 1 view .LVU1684
 5443 0024 70BD     		pop	{r4, r5, r6, pc}
 5444              	.LVL683:
 5445              	.L352:
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5446              		.loc 1 954 36 discriminator 1 view .LVU1685
 5447 0026 2379     		ldrb	r3, [r4, #4]
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5448              		.loc 1 954 31 discriminator 1 view .LVU1686
 5449 0028 012B     		cmp	r3, #1
 5450 002a F2D1     		bne	.L350
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5451              		.loc 1 956 4 is_stmt 1 view .LVU1687
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5452              		.loc 1 956 14 is_stmt 0 view .LVU1688
 5453 002c 2600     		movs	r6, r4
 5454 002e 3036     		adds	r6, r6, #48
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5455              		.loc 1 956 4 view .LVU1689
 5456 0030 8022     		movs	r2, #128
 5457 0032 9200     		lsls	r2, r2, #2
 5458 0034 0021     		movs	r1, #0
 5459 0036 3000     		movs	r0, r6
 5460              	.LVL684:
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5461              		.loc 1 956 4 view .LVU1690
 5462 0038 FFF7FEFF 		bl	mem_set
 5463              	.LVL685:
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
ARM GAS  /tmp/ccVOuidm.s 			page 224


 5464              		.loc 1 957 4 is_stmt 1 view .LVU1691
 5465 003c 1249     		ldr	r1, .L353
 5466 003e 134B     		ldr	r3, .L353+4
 5467 0040 E018     		adds	r0, r4, r3
 5468 0042 FFF7FEFF 		bl	st_word
 5469              	.LVL686:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 5470              		.loc 1 958 4 view .LVU1692
 5471 0046 1249     		ldr	r1, .L353+8
 5472 0048 3000     		movs	r0, r6
 5473 004a FFF7FEFF 		bl	st_dword
 5474              	.LVL687:
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 5475              		.loc 1 959 4 view .LVU1693
 5476 004e 8523     		movs	r3, #133
 5477 0050 9B00     		lsls	r3, r3, #2
 5478 0052 E018     		adds	r0, r4, r3
 5479 0054 0F49     		ldr	r1, .L353+12
 5480 0056 FFF7FEFF 		bl	st_dword
 5481              	.LVL688:
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 5482              		.loc 1 960 4 view .LVU1694
 5483 005a 2169     		ldr	r1, [r4, #16]
 5484 005c 8623     		movs	r3, #134
 5485 005e 9B00     		lsls	r3, r3, #2
 5486 0060 E018     		adds	r0, r4, r3
 5487 0062 FFF7FEFF 		bl	st_dword
 5488              	.LVL689:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 5489              		.loc 1 961 4 view .LVU1695
 5490 0066 E168     		ldr	r1, [r4, #12]
 5491 0068 8723     		movs	r3, #135
 5492 006a 9B00     		lsls	r3, r3, #2
 5493 006c E018     		adds	r0, r4, r3
 5494 006e FFF7FEFF 		bl	st_dword
 5495              	.LVL690:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5496              		.loc 1 963 4 view .LVU1696
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5497              		.loc 1 963 20 is_stmt 0 view .LVU1697
 5498 0072 E269     		ldr	r2, [r4, #28]
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5499              		.loc 1 963 30 view .LVU1698
 5500 0074 0132     		adds	r2, r2, #1
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5501              		.loc 1 963 16 view .LVU1699
 5502 0076 E262     		str	r2, [r4, #44]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 5503              		.loc 1 964 4 is_stmt 1 view .LVU1700
 5504 0078 6078     		ldrb	r0, [r4, #1]
 5505 007a 0123     		movs	r3, #1
 5506 007c 3100     		movs	r1, r6
 5507 007e FFF7FEFF 		bl	disk_write
 5508              	.LVL691:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5509              		.loc 1 965 4 view .LVU1701
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccVOuidm.s 			page 225


 5510              		.loc 1 965 17 is_stmt 0 view .LVU1702
 5511 0082 0023     		movs	r3, #0
 5512 0084 2371     		strb	r3, [r4, #4]
 5513 0086 C4E7     		b	.L350
 5514              	.L354:
 5515              		.align	2
 5516              	.L353:
 5517 0088 55AA0000 		.word	43605
 5518 008c 2E020000 		.word	558
 5519 0090 52526141 		.word	1096897106
 5520 0094 72724161 		.word	1631679090
 5521              		.cfi_endproc
 5522              	.LFE508:
 5524              		.section	.text.f_mount,"ax",%progbits
 5525              		.align	1
 5526              		.global	f_mount
 5527              		.syntax unified
 5528              		.code	16
 5529              		.thumb_func
 5531              	f_mount:
 5532              	.LVL692:
 5533              	.LFB531:
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 5534              		.loc 1 3265 1 is_stmt 1 view -0
 5535              		.cfi_startproc
 5536              		@ args = 0, pretend = 0, frame = 16
 5537              		@ frame_needed = 0, uses_anonymous_args = 0
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 5538              		.loc 1 3265 1 is_stmt 0 view .LVU1704
 5539 0000 70B5     		push	{r4, r5, r6, lr}
 5540              	.LCFI39:
 5541              		.cfi_def_cfa_offset 16
 5542              		.cfi_offset 4, -16
 5543              		.cfi_offset 5, -12
 5544              		.cfi_offset 6, -8
 5545              		.cfi_offset 14, -4
 5546 0002 84B0     		sub	sp, sp, #16
 5547              	.LCFI40:
 5548              		.cfi_def_cfa_offset 32
 5549 0004 0190     		str	r0, [sp, #4]
 5550 0006 0091     		str	r1, [sp]
 5551 0008 1500     		movs	r5, r2
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 5552              		.loc 1 3266 2 is_stmt 1 view .LVU1705
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5553              		.loc 1 3267 2 view .LVU1706
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 5554              		.loc 1 3268 2 view .LVU1707
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5555              		.loc 1 3269 2 view .LVU1708
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5556              		.loc 1 3269 15 is_stmt 0 view .LVU1709
 5557 000a 0391     		str	r1, [sp, #12]
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5558              		.loc 1 3273 2 is_stmt 1 view .LVU1710
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5559              		.loc 1 3273 8 is_stmt 0 view .LVU1711
ARM GAS  /tmp/ccVOuidm.s 			page 226


 5560 000c 03A8     		add	r0, sp, #12
 5561              	.LVL693:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5562              		.loc 1 3273 8 view .LVU1712
 5563 000e FFF7FEFF 		bl	get_ldnumber
 5564              	.LVL694:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5565              		.loc 1 3273 8 view .LVU1713
 5566 0012 041E     		subs	r4, r0, #0
 5567              	.LVL695:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5568              		.loc 1 3274 2 is_stmt 1 view .LVU1714
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5569              		.loc 1 3274 5 is_stmt 0 view .LVU1715
 5570 0014 1FDB     		blt	.L359
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5571              		.loc 1 3275 2 is_stmt 1 view .LVU1716
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5572              		.loc 1 3275 6 is_stmt 0 view .LVU1717
 5573 0016 124B     		ldr	r3, .L363
 5574 0018 8200     		lsls	r2, r0, #2
 5575 001a D658     		ldr	r6, [r2, r3]
 5576              	.LVL696:
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5577              		.loc 1 3277 2 is_stmt 1 view .LVU1718
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5578              		.loc 1 3277 5 is_stmt 0 view .LVU1719
 5579 001c 002E     		cmp	r6, #0
 5580 001e 04D0     		beq	.L357
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5581              		.loc 1 3279 3 is_stmt 1 view .LVU1720
 5582 0020 3000     		movs	r0, r6
 5583              	.LVL697:
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5584              		.loc 1 3279 3 is_stmt 0 view .LVU1721
 5585 0022 FFF7FEFF 		bl	clear_lock
 5586              	.LVL698:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5587              		.loc 1 3284 3 is_stmt 1 view .LVU1722
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5588              		.loc 1 3284 16 is_stmt 0 view .LVU1723
 5589 0026 0023     		movs	r3, #0
 5590 0028 3370     		strb	r3, [r6]
 5591              	.L357:
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5592              		.loc 1 3287 2 is_stmt 1 view .LVU1724
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5593              		.loc 1 3287 6 is_stmt 0 view .LVU1725
 5594 002a 019B     		ldr	r3, [sp, #4]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5595              		.loc 1 3287 5 view .LVU1726
 5596 002c 002B     		cmp	r3, #0
 5597 002e 01D0     		beq	.L358
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 5598              		.loc 1 3288 3 is_stmt 1 view .LVU1727
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 5599              		.loc 1 3288 15 is_stmt 0 view .LVU1728
ARM GAS  /tmp/ccVOuidm.s 			page 227


 5600 0030 0022     		movs	r2, #0
 5601 0032 1A70     		strb	r2, [r3]
 5602              	.L358:
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5603              		.loc 1 3293 2 is_stmt 1 view .LVU1729
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5604              		.loc 1 3293 13 is_stmt 0 view .LVU1730
 5605 0034 019A     		ldr	r2, [sp, #4]
 5606 0036 0A4B     		ldr	r3, .L363
 5607 0038 A400     		lsls	r4, r4, #2
 5608              	.LVL699:
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5609              		.loc 1 3293 13 view .LVU1731
 5610 003a E250     		str	r2, [r4, r3]
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5611              		.loc 1 3295 2 is_stmt 1 view .LVU1732
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5612              		.loc 1 3295 5 is_stmt 0 view .LVU1733
 5613 003c 002A     		cmp	r2, #0
 5614 003e 0CD0     		beq	.L360
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5615              		.loc 1 3295 10 discriminator 2 view .LVU1734
 5616 0040 012D     		cmp	r5, #1
 5617 0042 02D0     		beq	.L362
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5618              		.loc 1 3295 30 discriminator 3 view .LVU1735
 5619 0044 0020     		movs	r0, #0
 5620              	.LVL700:
 5621              	.L356:
3299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5622              		.loc 1 3299 1 view .LVU1736
 5623 0046 04B0     		add	sp, sp, #16
 5624              		@ sp needed
 5625              	.LVL701:
3299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5626              		.loc 1 3299 1 view .LVU1737
 5627 0048 70BD     		pop	{r4, r5, r6, pc}
 5628              	.LVL702:
 5629              	.L362:
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5630              		.loc 1 3297 2 is_stmt 1 view .LVU1738
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5631              		.loc 1 3297 8 is_stmt 0 view .LVU1739
 5632 004a 0022     		movs	r2, #0
 5633 004c 01A9     		add	r1, sp, #4
 5634 004e 6846     		mov	r0, sp
 5635 0050 FFF7FEFF 		bl	find_volume
 5636              	.LVL703:
3298:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5637              		.loc 1 3298 2 is_stmt 1 view .LVU1740
 5638 0054 F7E7     		b	.L356
 5639              	.LVL704:
 5640              	.L359:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5641              		.loc 1 3274 22 is_stmt 0 discriminator 1 view .LVU1741
 5642 0056 0B20     		movs	r0, #11
 5643              	.LVL705:
ARM GAS  /tmp/ccVOuidm.s 			page 228


3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5644              		.loc 1 3274 22 discriminator 1 view .LVU1742
 5645 0058 F5E7     		b	.L356
 5646              	.LVL706:
 5647              	.L360:
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5648              		.loc 1 3295 30 discriminator 3 view .LVU1743
 5649 005a 0020     		movs	r0, #0
 5650 005c F3E7     		b	.L356
 5651              	.L364:
 5652 005e C046     		.align	2
 5653              	.L363:
 5654 0060 00000000 		.word	FatFs
 5655              		.cfi_endproc
 5656              	.LFE531:
 5658              		.section	.text.f_open,"ax",%progbits
 5659              		.align	1
 5660              		.global	f_open
 5661              		.syntax unified
 5662              		.code	16
 5663              		.thumb_func
 5665              	f_open:
 5666              	.LVL707:
 5667              	.LFB532:
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5668              		.loc 1 3313 1 is_stmt 1 view -0
 5669              		.cfi_startproc
 5670              		@ args = 0, pretend = 0, frame = 64
 5671              		@ frame_needed = 0, uses_anonymous_args = 0
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5672              		.loc 1 3313 1 is_stmt 0 view .LVU1745
 5673 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 5674              	.LCFI41:
 5675              		.cfi_def_cfa_offset 20
 5676              		.cfi_offset 4, -20
 5677              		.cfi_offset 5, -16
 5678              		.cfi_offset 6, -12
 5679              		.cfi_offset 7, -8
 5680              		.cfi_offset 14, -4
 5681 0002 D646     		mov	lr, r10
 5682 0004 4F46     		mov	r7, r9
 5683 0006 4646     		mov	r6, r8
 5684 0008 C0B5     		push	{r6, r7, lr}
 5685              	.LCFI42:
 5686              		.cfi_def_cfa_offset 32
 5687              		.cfi_offset 8, -32
 5688              		.cfi_offset 9, -28
 5689              		.cfi_offset 10, -24
 5690 000a 90B0     		sub	sp, sp, #64
 5691              	.LCFI43:
 5692              		.cfi_def_cfa_offset 96
 5693 000c 0500     		movs	r5, r0
 5694 000e 0191     		str	r1, [sp, #4]
 5695 0010 1600     		movs	r6, r2
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 5696              		.loc 1 3314 2 is_stmt 1 view .LVU1746
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
ARM GAS  /tmp/ccVOuidm.s 			page 229


 5697              		.loc 1 3315 2 view .LVU1747
3316:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 5698              		.loc 1 3316 2 view .LVU1748
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
 5699              		.loc 1 3318 2 view .LVU1749
3319:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5700              		.loc 1 3319 2 view .LVU1750
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5701              		.loc 1 3324 2 view .LVU1751
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5702              		.loc 1 3324 5 is_stmt 0 view .LVU1752
 5703 0012 0028     		cmp	r0, #0
 5704 0014 00D1     		bne	.LCB5397
 5705 0016 0DE1     		b	.L381	@long jump
 5706              	.LCB5397:
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 5707              		.loc 1 3327 2 is_stmt 1 view .LVU1753
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 5708              		.loc 1 3327 7 is_stmt 0 view .LVU1754
 5709 0018 3F27     		movs	r7, #63
 5710 001a 1740     		ands	r7, r2
 5711              	.LVL708:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5712              		.loc 1 3328 2 is_stmt 1 view .LVU1755
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5713              		.loc 1 3328 8 is_stmt 0 view .LVU1756
 5714 001c 3A00     		movs	r2, r7
 5715 001e 03A9     		add	r1, sp, #12
 5716              	.LVL709:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5717              		.loc 1 3328 8 view .LVU1757
 5718 0020 01A8     		add	r0, sp, #4
 5719              	.LVL710:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5720              		.loc 1 3328 8 view .LVU1758
 5721 0022 FFF7FEFF 		bl	find_volume
 5722              	.LVL711:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5723              		.loc 1 3328 8 view .LVU1759
 5724 0026 041E     		subs	r4, r0, #0
 5725              	.LVL712:
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 5726              		.loc 1 3329 2 is_stmt 1 view .LVU1760
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 5727              		.loc 1 3329 5 is_stmt 0 view .LVU1761
 5728 0028 08D0     		beq	.L397
 5729              	.LVL713:
 5730              	.L367:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5731              		.loc 1 3499 20 is_stmt 1 discriminator 1 view .LVU1762
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5732              		.loc 1 3499 31 is_stmt 0 discriminator 1 view .LVU1763
 5733 002a 0023     		movs	r3, #0
 5734 002c 2B60     		str	r3, [r5]
 5735              	.L366:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5736              		.loc 1 3502 1 view .LVU1764
ARM GAS  /tmp/ccVOuidm.s 			page 230


 5737 002e 2000     		movs	r0, r4
 5738 0030 10B0     		add	sp, sp, #64
 5739              		@ sp needed
 5740              	.LVL714:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5741              		.loc 1 3502 1 view .LVU1765
 5742 0032 E0BC     		pop	{r5, r6, r7}
 5743 0034 BA46     		mov	r10, r7
 5744 0036 B146     		mov	r9, r6
 5745 0038 A846     		mov	r8, r5
 5746 003a F0BD     		pop	{r4, r5, r6, r7, pc}
 5747              	.LVL715:
 5748              	.L397:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 5749              		.loc 1 3330 3 is_stmt 1 view .LVU1766
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 5750              		.loc 1 3330 13 is_stmt 0 view .LVU1767
 5751 003c 039B     		ldr	r3, [sp, #12]
 5752 003e 0493     		str	r3, [sp, #16]
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 5753              		.loc 1 3331 18 is_stmt 1 view .LVU1768
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5754              		.loc 1 3332 3 view .LVU1769
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5755              		.loc 1 3332 9 is_stmt 0 view .LVU1770
 5756 0040 0199     		ldr	r1, [sp, #4]
 5757 0042 04A8     		add	r0, sp, #16
 5758              	.LVL716:
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5759              		.loc 1 3332 9 view .LVU1771
 5760 0044 FFF7FEFF 		bl	follow_path
 5761              	.LVL717:
 5762 0048 041E     		subs	r4, r0, #0
 5763              	.LVL718:
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 5764              		.loc 1 3334 3 is_stmt 1 view .LVU1772
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 5765              		.loc 1 3334 6 is_stmt 0 view .LVU1773
 5766 004a 0CD1     		bne	.L368
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5767              		.loc 1 3335 4 is_stmt 1 view .LVU1774
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5768              		.loc 1 3335 8 is_stmt 0 view .LVU1775
 5769 004c 04AA     		add	r2, sp, #16
 5770 004e 2F23     		movs	r3, #47
 5771 0050 D356     		ldrsb	r3, [r2, r3]
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5772              		.loc 1 3335 7 view .LVU1776
 5773 0052 002B     		cmp	r3, #0
 5774 0054 2DDB     		blt	.L382
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5775              		.loc 1 3340 5 is_stmt 1 view .LVU1777
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5776              		.loc 1 3340 11 is_stmt 0 view .LVU1778
 5777 0056 3E21     		movs	r1, #62
 5778 0058 3140     		ands	r1, r6
 5779 005a 4B1E     		subs	r3, r1, #1
ARM GAS  /tmp/ccVOuidm.s 			page 231


 5780 005c 9941     		sbcs	r1, r1, r3
 5781 005e 1000     		movs	r0, r2
 5782              	.LVL719:
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5783              		.loc 1 3340 11 view .LVU1779
 5784 0060 FFF7FEFF 		bl	chk_lock
 5785              	.LVL720:
 5786 0064 0400     		movs	r4, r0
 5787              	.LVL721:
 5788              	.L368:
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5789              		.loc 1 3345 3 is_stmt 1 view .LVU1780
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5790              		.loc 1 3345 6 is_stmt 0 view .LVU1781
 5791 0066 1C23     		movs	r3, #28
 5792 0068 3342     		tst	r3, r6
 5793 006a 79D0     		beq	.L369
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 5794              		.loc 1 3346 4 is_stmt 1 view .LVU1782
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 5795              		.loc 1 3346 7 is_stmt 0 view .LVU1783
 5796 006c 002C     		cmp	r4, #0
 5797 006e 30D0     		beq	.L370
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5798              		.loc 1 3347 5 is_stmt 1 view .LVU1784
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5799              		.loc 1 3347 8 is_stmt 0 view .LVU1785
 5800 0070 042C     		cmp	r4, #4
 5801 0072 20D0     		beq	.L398
 5802              	.LVL722:
 5803              	.L371:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5804              		.loc 1 3354 5 is_stmt 1 view .LVU1786
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5805              		.loc 1 3354 10 is_stmt 0 view .LVU1787
 5806 0074 0823     		movs	r3, #8
 5807 0076 1F43     		orrs	r7, r3
 5808              	.LVL723:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5809              		.loc 1 3354 10 view .LVU1788
 5810 0078 FFB2     		uxtb	r7, r7
 5811              	.LVL724:
 5812              	.L374:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 5813              		.loc 1 3363 4 is_stmt 1 view .LVU1789
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 5814              		.loc 1 3363 7 is_stmt 0 view .LVU1790
 5815 007a 002C     		cmp	r4, #0
 5816 007c D5D1     		bne	.L367
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 5817              		.loc 1 3363 21 discriminator 1 view .LVU1791
 5818 007e 3B07     		lsls	r3, r7, #28
 5819 0080 31D4     		bmi	.L399
 5820              	.LVL725:
 5821              	.L373:
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5822              		.loc 1 3422 3 is_stmt 1 view .LVU1792
ARM GAS  /tmp/ccVOuidm.s 			page 232


3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5823              		.loc 1 3422 6 is_stmt 0 view .LVU1793
 5824 0082 002C     		cmp	r4, #0
 5825 0084 D1D1     		bne	.L367
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 5826              		.loc 1 3423 4 is_stmt 1 view .LVU1794
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 5827              		.loc 1 3423 7 is_stmt 0 view .LVU1795
 5828 0086 3B07     		lsls	r3, r7, #28
 5829 0088 02D5     		bpl	.L375
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5830              		.loc 1 3424 5 is_stmt 1 view .LVU1796
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5831              		.loc 1 3424 10 is_stmt 0 view .LVU1797
 5832 008a 4023     		movs	r3, #64
 5833 008c 1F43     		orrs	r7, r3
 5834              	.LVL726:
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5835              		.loc 1 3424 10 view .LVU1798
 5836 008e FFB2     		uxtb	r7, r7
 5837              	.L375:
 5838              	.LVL727:
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 5839              		.loc 1 3425 4 is_stmt 1 view .LVU1799
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 5840              		.loc 1 3425 21 is_stmt 0 view .LVU1800
 5841 0090 039B     		ldr	r3, [sp, #12]
 5842 0092 DB6A     		ldr	r3, [r3, #44]
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 5843              		.loc 1 3425 17 view .LVU1801
 5844 0094 6B62     		str	r3, [r5, #36]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5845              		.loc 1 3426 4 is_stmt 1 view .LVU1802
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5846              		.loc 1 3426 20 is_stmt 0 view .LVU1803
 5847 0096 04A8     		add	r0, sp, #16
 5848 0098 036A     		ldr	r3, [r0, #32]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5849              		.loc 1 3426 16 view .LVU1804
 5850 009a AB62     		str	r3, [r5, #40]
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 5851              		.loc 1 3428 4 is_stmt 1 view .LVU1805
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 5852              		.loc 1 3428 21 is_stmt 0 view .LVU1806
 5853 009c 0121     		movs	r1, #1
 5854 009e B942     		cmp	r1, r7
 5855 00a0 8941     		sbcs	r1, r1, r1
 5856 00a2 4942     		rsbs	r1, r1, #0
 5857 00a4 FFF7FEFF 		bl	inc_lock
 5858              	.LVL728:
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 5859              		.loc 1 3428 19 discriminator 1 view .LVU1807
 5860 00a8 2861     		str	r0, [r5, #16]
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5861              		.loc 1 3429 4 is_stmt 1 view .LVU1808
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5862              		.loc 1 3429 7 is_stmt 0 view .LVU1809
ARM GAS  /tmp/ccVOuidm.s 			page 233


 5863 00aa 0028     		cmp	r0, #0
 5864 00ac 65D1     		bne	.L400
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5865              		.loc 1 3429 29 discriminator 1 view .LVU1810
 5866 00ae 0224     		movs	r4, #2
 5867              	.LVL729:
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5868              		.loc 1 3429 29 discriminator 1 view .LVU1811
 5869 00b0 BBE7     		b	.L367
 5870              	.LVL730:
 5871              	.L382:
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5872              		.loc 1 3336 9 view .LVU1812
 5873 00b2 0624     		movs	r4, #6
 5874 00b4 D7E7     		b	.L368
 5875              	.LVL731:
 5876              	.L398:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5877              		.loc 1 3349 6 is_stmt 1 view .LVU1813
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5878              		.loc 1 3349 12 is_stmt 0 view .LVU1814
 5879 00b6 FFF7FEFF 		bl	enq_lock
 5880              	.LVL732:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5881              		.loc 1 3349 43 discriminator 1 view .LVU1815
 5882 00ba 0028     		cmp	r0, #0
 5883 00bc 04D1     		bne	.L372
 5884              	.LVL733:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5885              		.loc 1 3354 5 is_stmt 1 view .LVU1816
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5886              		.loc 1 3354 10 is_stmt 0 view .LVU1817
 5887 00be 0823     		movs	r3, #8
 5888 00c0 1F43     		orrs	r7, r3
 5889              	.LVL734:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5890              		.loc 1 3354 10 view .LVU1818
 5891 00c2 FFB2     		uxtb	r7, r7
 5892              	.LVL735:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 5893              		.loc 1 3363 4 is_stmt 1 view .LVU1819
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5894              		.loc 1 3349 10 is_stmt 0 discriminator 4 view .LVU1820
 5895 00c4 0E34     		adds	r4, r4, #14
 5896 00c6 DCE7     		b	.L373
 5897              	.LVL736:
 5898              	.L372:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5899              		.loc 1 3349 25 discriminator 1 view .LVU1821
 5900 00c8 04A8     		add	r0, sp, #16
 5901 00ca FFF7FEFF 		bl	dir_register
 5902              	.LVL737:
 5903 00ce 0400     		movs	r4, r0
 5904              	.LVL738:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5905              		.loc 1 3349 25 discriminator 1 view .LVU1822
 5906 00d0 D0E7     		b	.L371
ARM GAS  /tmp/ccVOuidm.s 			page 234


 5907              	.LVL739:
 5908              	.L370:
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5909              		.loc 1 3357 5 is_stmt 1 view .LVU1823
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5910              		.loc 1 3357 15 is_stmt 0 view .LVU1824
 5911 00d2 04AB     		add	r3, sp, #16
 5912 00d4 9B79     		ldrb	r3, [r3, #6]
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5913              		.loc 1 3357 8 view .LVU1825
 5914 00d6 1122     		movs	r2, #17
 5915 00d8 1A42     		tst	r2, r3
 5916 00da 00D0     		beq	.LCB5616
 5917 00dc A4E0     		b	.L383	@long jump
 5918              	.LCB5616:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5919              		.loc 1 3360 6 is_stmt 1 view .LVU1826
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5920              		.loc 1 3360 9 is_stmt 0 view .LVU1827
 5921 00de 7607     		lsls	r6, r6, #29
 5922 00e0 CBD5     		bpl	.L374
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5923              		.loc 1 3360 36 discriminator 1 view .LVU1828
 5924 00e2 0824     		movs	r4, #8
 5925              	.LVL740:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5926              		.loc 1 3360 36 discriminator 1 view .LVU1829
 5927 00e4 A1E7     		b	.L367
 5928              	.LVL741:
 5929              	.L399:
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5930              		.loc 1 3364 5 is_stmt 1 view .LVU1830
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5931              		.loc 1 3364 10 is_stmt 0 view .LVU1831
 5932 00e6 FFF7FEFF 		bl	get_fattime
 5933              	.LVL742:
 5934 00ea 8046     		mov	r8, r0
 5935              	.LVL743:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 5936              		.loc 1 3392 6 is_stmt 1 view .LVU1832
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 5937              		.loc 1 3392 17 is_stmt 0 view .LVU1833
 5938 00ec 0C98     		ldr	r0, [sp, #48]
 5939              	.LVL744:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 5940              		.loc 1 3392 6 view .LVU1834
 5941 00ee 0E30     		adds	r0, r0, #14
 5942 00f0 4146     		mov	r1, r8
 5943 00f2 FFF7FEFF 		bl	st_dword
 5944              	.LVL745:
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 5945              		.loc 1 3393 6 is_stmt 1 view .LVU1835
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 5946              		.loc 1 3393 17 is_stmt 0 view .LVU1836
 5947 00f6 0C98     		ldr	r0, [sp, #48]
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 5948              		.loc 1 3393 6 view .LVU1837
ARM GAS  /tmp/ccVOuidm.s 			page 235


 5949 00f8 1630     		adds	r0, r0, #22
 5950 00fa 4146     		mov	r1, r8
 5951 00fc FFF7FEFF 		bl	st_dword
 5952              	.LVL746:
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 5953              		.loc 1 3394 6 is_stmt 1 view .LVU1838
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 5954              		.loc 1 3394 8 is_stmt 0 view .LVU1839
 5955 0100 0C9B     		ldr	r3, [sp, #48]
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 5956              		.loc 1 3394 23 view .LVU1840
 5957 0102 2022     		movs	r2, #32
 5958 0104 DA72     		strb	r2, [r3, #11]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5959              		.loc 1 3395 6 is_stmt 1 view .LVU1841
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5960              		.loc 1 3395 11 is_stmt 0 view .LVU1842
 5961 0106 039B     		ldr	r3, [sp, #12]
 5962 0108 9946     		mov	r9, r3
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5963              		.loc 1 3395 26 view .LVU1843
 5964 010a 0C9B     		ldr	r3, [sp, #48]
 5965 010c 9A46     		mov	r10, r3
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5966              		.loc 1 3395 11 view .LVU1844
 5967 010e 1900     		movs	r1, r3
 5968 0110 4846     		mov	r0, r9
 5969 0112 FFF7FEFF 		bl	ld_clust
 5970              	.LVL747:
 5971 0116 8046     		mov	r8, r0
 5972              	.LVL748:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 5973              		.loc 1 3396 6 is_stmt 1 view .LVU1845
 5974 0118 0022     		movs	r2, #0
 5975 011a 5146     		mov	r1, r10
 5976 011c 4846     		mov	r0, r9
 5977              	.LVL749:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 5978              		.loc 1 3396 6 is_stmt 0 view .LVU1846
 5979 011e FFF7FEFF 		bl	st_clust
 5980              	.LVL750:
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 5981              		.loc 1 3397 6 is_stmt 1 view .LVU1847
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 5982              		.loc 1 3397 17 is_stmt 0 view .LVU1848
 5983 0122 0C98     		ldr	r0, [sp, #48]
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 5984              		.loc 1 3397 6 view .LVU1849
 5985 0124 1C30     		adds	r0, r0, #28
 5986 0126 0021     		movs	r1, #0
 5987 0128 FFF7FEFF 		bl	st_dword
 5988              	.LVL751:
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5989              		.loc 1 3398 6 is_stmt 1 view .LVU1850
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5990              		.loc 1 3398 8 is_stmt 0 view .LVU1851
 5991 012c 039B     		ldr	r3, [sp, #12]
ARM GAS  /tmp/ccVOuidm.s 			page 236


3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5992              		.loc 1 3398 16 view .LVU1852
 5993 012e 0122     		movs	r2, #1
 5994 0130 DA70     		strb	r2, [r3, #3]
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 5995              		.loc 1 3400 6 is_stmt 1 view .LVU1853
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 5996              		.loc 1 3400 9 is_stmt 0 view .LVU1854
 5997 0132 4346     		mov	r3, r8
 5998 0134 002B     		cmp	r3, #0
 5999 0136 A4D0     		beq	.L373
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 6000              		.loc 1 3401 7 is_stmt 1 view .LVU1855
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 6001              		.loc 1 3401 14 is_stmt 0 view .LVU1856
 6002 0138 039B     		ldr	r3, [sp, #12]
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 6003              		.loc 1 3401 10 view .LVU1857
 6004 013a DE6A     		ldr	r6, [r3, #44]
 6005              	.LVL752:
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 6006              		.loc 1 3402 7 is_stmt 1 view .LVU1858
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 6007              		.loc 1 3402 13 is_stmt 0 view .LVU1859
 6008 013c 0022     		movs	r2, #0
 6009 013e 4146     		mov	r1, r8
 6010 0140 04A8     		add	r0, sp, #16
 6011 0142 FFF7FEFF 		bl	remove_chain
 6012              	.LVL753:
 6013 0146 041E     		subs	r4, r0, #0
 6014              	.LVL754:
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 6015              		.loc 1 3403 7 is_stmt 1 view .LVU1860
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 6016              		.loc 1 3403 10 is_stmt 0 view .LVU1861
 6017 0148 00D0     		beq	.LCB5695
 6018 014a 6EE7     		b	.L367	@long jump
 6019              	.LCB5695:
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 6020              		.loc 1 3404 8 is_stmt 1 view .LVU1862
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 6021              		.loc 1 3404 14 is_stmt 0 view .LVU1863
 6022 014c 0398     		ldr	r0, [sp, #12]
 6023              	.LVL755:
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 6024              		.loc 1 3404 14 view .LVU1864
 6025 014e 3100     		movs	r1, r6
 6026 0150 FFF7FEFF 		bl	move_window
 6027              	.LVL756:
 6028 0154 0400     		movs	r4, r0
 6029              	.LVL757:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 6030              		.loc 1 3405 8 is_stmt 1 view .LVU1865
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 6031              		.loc 1 3405 10 is_stmt 0 view .LVU1866
 6032 0156 039A     		ldr	r2, [sp, #12]
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
ARM GAS  /tmp/ccVOuidm.s 			page 237


 6033              		.loc 1 3405 27 view .LVU1867
 6034 0158 4346     		mov	r3, r8
 6035 015a 013B     		subs	r3, r3, #1
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 6036              		.loc 1 3405 22 view .LVU1868
 6037 015c D360     		str	r3, [r2, #12]
 6038 015e 90E7     		b	.L373
 6039              	.LVL758:
 6040              	.L369:
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 6041              		.loc 1 3412 4 is_stmt 1 view .LVU1869
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 6042              		.loc 1 3412 7 is_stmt 0 view .LVU1870
 6043 0160 002C     		cmp	r4, #0
 6044 0162 00D0     		beq	.LCB5720
 6045 0164 61E7     		b	.L367	@long jump
 6046              	.LCB5720:
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 6047              		.loc 1 3413 5 is_stmt 1 view .LVU1871
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 6048              		.loc 1 3413 15 is_stmt 0 view .LVU1872
 6049 0166 04AB     		add	r3, sp, #16
 6050 0168 9B79     		ldrb	r3, [r3, #6]
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 6051              		.loc 1 3413 8 view .LVU1873
 6052 016a DA06     		lsls	r2, r3, #27
 6053 016c 5ED4     		bmi	.L385
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 6054              		.loc 1 3416 6 is_stmt 1 view .LVU1874
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 6055              		.loc 1 3416 9 is_stmt 0 view .LVU1875
 6056 016e B607     		lsls	r6, r6, #30
 6057 0170 87D5     		bpl	.L373
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 6058              		.loc 1 3416 28 discriminator 1 view .LVU1876
 6059 0172 DB07     		lsls	r3, r3, #31
 6060 0174 85D5     		bpl	.L373
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6061              		.loc 1 3417 11 view .LVU1877
 6062 0176 0724     		movs	r4, #7
 6063              	.LVL759:
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6064              		.loc 1 3417 11 view .LVU1878
 6065 0178 57E7     		b	.L367
 6066              	.LVL760:
 6067              	.L400:
3444:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6068              		.loc 1 3444 3 is_stmt 1 view .LVU1879
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 6069              		.loc 1 3456 5 view .LVU1880
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 6070              		.loc 1 3456 22 is_stmt 0 view .LVU1881
 6071 017a 039B     		ldr	r3, [sp, #12]
 6072 017c 9846     		mov	r8, r3
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 6073              		.loc 1 3456 37 view .LVU1882
 6074 017e 0C9E     		ldr	r6, [sp, #48]
ARM GAS  /tmp/ccVOuidm.s 			page 238


3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 6075              		.loc 1 3456 22 view .LVU1883
 6076 0180 3100     		movs	r1, r6
 6077 0182 1800     		movs	r0, r3
 6078 0184 FFF7FEFF 		bl	ld_clust
 6079              	.LVL761:
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 6080              		.loc 1 3456 20 discriminator 1 view .LVU1884
 6081 0188 A860     		str	r0, [r5, #8]
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6082              		.loc 1 3457 5 is_stmt 1 view .LVU1885
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6083              		.loc 1 3457 39 is_stmt 0 view .LVU1886
 6084 018a 3000     		movs	r0, r6
 6085 018c 1C30     		adds	r0, r0, #28
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6086              		.loc 1 3457 23 view .LVU1887
 6087 018e FFF7FEFF 		bl	ld_dword
 6088              	.LVL762:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6089              		.loc 1 3457 21 discriminator 1 view .LVU1888
 6090 0192 E860     		str	r0, [r5, #12]
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6091              		.loc 1 3460 4 is_stmt 1 view .LVU1889
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6092              		.loc 1 3460 14 is_stmt 0 view .LVU1890
 6093 0194 0023     		movs	r3, #0
 6094 0196 EB62     		str	r3, [r5, #44]
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 6095              		.loc 1 3462 4 is_stmt 1 view .LVU1891
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 6096              		.loc 1 3462 15 is_stmt 0 view .LVU1892
 6097 0198 4246     		mov	r2, r8
 6098 019a 2A60     		str	r2, [r5]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 6099              		.loc 1 3463 4 is_stmt 1 view .LVU1893
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 6100              		.loc 1 3463 19 is_stmt 0 view .LVU1894
 6101 019c D288     		ldrh	r2, [r2, #6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 6102              		.loc 1 3463 15 view .LVU1895
 6103 019e AA80     		strh	r2, [r5, #4]
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 6104              		.loc 1 3464 4 is_stmt 1 view .LVU1896
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 6105              		.loc 1 3464 13 is_stmt 0 view .LVU1897
 6106 01a0 2F75     		strb	r7, [r5, #20]
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 6107              		.loc 1 3465 4 is_stmt 1 view .LVU1898
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 6108              		.loc 1 3465 12 is_stmt 0 view .LVU1899
 6109 01a2 6B75     		strb	r3, [r5, #21]
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 6110              		.loc 1 3466 4 is_stmt 1 view .LVU1900
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 6111              		.loc 1 3466 13 is_stmt 0 view .LVU1901
 6112 01a4 2B62     		str	r3, [r5, #32]
ARM GAS  /tmp/ccVOuidm.s 			page 239


3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6113              		.loc 1 3467 4 is_stmt 1 view .LVU1902
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6114              		.loc 1 3467 13 is_stmt 0 view .LVU1903
 6115 01a6 AB61     		str	r3, [r5, #24]
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6116              		.loc 1 3470 4 is_stmt 1 view .LVU1904
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6117              		.loc 1 3470 14 is_stmt 0 view .LVU1905
 6118 01a8 3033     		adds	r3, r3, #48
 6119 01aa 9846     		mov	r8, r3
 6120 01ac A844     		add	r8, r8, r5
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6121              		.loc 1 3470 4 view .LVU1906
 6122 01ae 8022     		movs	r2, #128
 6123 01b0 9200     		lsls	r2, r2, #2
 6124 01b2 0021     		movs	r1, #0
 6125 01b4 4046     		mov	r0, r8
 6126 01b6 FFF7FEFF 		bl	mem_set
 6127              	.LVL763:
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 6128              		.loc 1 3472 4 is_stmt 1 view .LVU1907
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 6129              		.loc 1 3472 7 is_stmt 0 view .LVU1908
 6130 01ba BF06     		lsls	r7, r7, #26
 6131 01bc 30D5     		bpl	.L376
 6132              	.LVL764:
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 6133              		.loc 1 3472 38 discriminator 1 view .LVU1909
 6134 01be EE68     		ldr	r6, [r5, #12]
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 6135              		.loc 1 3472 28 discriminator 1 view .LVU1910
 6136 01c0 002E     		cmp	r6, #0
 6137 01c2 2DD0     		beq	.L376
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 6138              		.loc 1 3473 5 is_stmt 1 view .LVU1911
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 6139              		.loc 1 3473 14 is_stmt 0 view .LVU1912
 6140 01c4 AE61     		str	r6, [r5, #24]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 6141              		.loc 1 3474 5 is_stmt 1 view .LVU1913
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 6142              		.loc 1 3474 20 is_stmt 0 view .LVU1914
 6143 01c6 039B     		ldr	r3, [sp, #12]
 6144 01c8 5F89     		ldrh	r7, [r3, #10]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 6145              		.loc 1 3474 9 view .LVU1915
 6146 01ca 7F02     		lsls	r7, r7, #9
 6147              	.LVL765:
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 6148              		.loc 1 3475 5 is_stmt 1 view .LVU1916
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 6149              		.loc 1 3475 10 is_stmt 0 view .LVU1917
 6150 01cc A968     		ldr	r1, [r5, #8]
 6151              	.LVL766:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6152              		.loc 1 3476 5 is_stmt 1 view .LVU1918
ARM GAS  /tmp/ccVOuidm.s 			page 240


3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6153              		.loc 1 3476 5 is_stmt 0 view .LVU1919
 6154 01ce 01E0     		b	.L377
 6155              	.LVL767:
 6156              	.L388:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 6157              		.loc 1 3478 25 discriminator 1 view .LVU1920
 6158 01d0 0224     		movs	r4, #2
 6159              	.LVL768:
 6160              	.L378:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6161              		.loc 1 3476 64 is_stmt 1 discriminator 2 view .LVU1921
 6162 01d2 F61B     		subs	r6, r6, r7
 6163              	.LVL769:
 6164              	.L377:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6165              		.loc 1 3476 46 discriminator 1 view .LVU1922
 6166 01d4 002C     		cmp	r4, #0
 6167 01d6 0BD1     		bne	.L379
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 6168              		.loc 1 3476 46 is_stmt 0 discriminator 3 view .LVU1923
 6169 01d8 BE42     		cmp	r6, r7
 6170 01da 09D9     		bls	.L379
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 6171              		.loc 1 3477 6 is_stmt 1 view .LVU1924
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 6172              		.loc 1 3477 13 is_stmt 0 view .LVU1925
 6173 01dc 2800     		movs	r0, r5
 6174 01de FFF7FEFF 		bl	get_fat
 6175              	.LVL770:
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 6176              		.loc 1 3477 13 view .LVU1926
 6177 01e2 0100     		movs	r1, r0
 6178              	.LVL771:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 6179              		.loc 1 3478 6 is_stmt 1 view .LVU1927
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 6180              		.loc 1 3478 9 is_stmt 0 view .LVU1928
 6181 01e4 0128     		cmp	r0, #1
 6182 01e6 F3D9     		bls	.L388
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6183              		.loc 1 3479 6 is_stmt 1 view .LVU1929
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6184              		.loc 1 3479 9 is_stmt 0 view .LVU1930
 6185 01e8 431C     		adds	r3, r0, #1
 6186 01ea F2D1     		bne	.L378
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6187              		.loc 1 3479 34 discriminator 1 view .LVU1931
 6188 01ec 0124     		movs	r4, #1
 6189              	.LVL772:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6190              		.loc 1 3479 34 discriminator 1 view .LVU1932
 6191 01ee F0E7     		b	.L378
 6192              	.LVL773:
 6193              	.L379:
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 6194              		.loc 1 3481 5 is_stmt 1 view .LVU1933
ARM GAS  /tmp/ccVOuidm.s 			page 241


3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 6195              		.loc 1 3481 15 is_stmt 0 view .LVU1934
 6196 01f0 E961     		str	r1, [r5, #28]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 6197              		.loc 1 3482 5 is_stmt 1 view .LVU1935
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 6198              		.loc 1 3482 8 is_stmt 0 view .LVU1936
 6199 01f2 002C     		cmp	r4, #0
 6200 01f4 00D0     		beq	.LCB5876
 6201 01f6 18E7     		b	.L367	@long jump
 6202              	.LCB5876:
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 6203              		.loc 1 3482 29 discriminator 1 view .LVU1937
 6204 01f8 F305     		lsls	r3, r6, #23
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 6205              		.loc 1 3482 22 discriminator 1 view .LVU1938
 6206 01fa 11D0     		beq	.L376
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 6207              		.loc 1 3483 6 is_stmt 1 view .LVU1939
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 6208              		.loc 1 3483 16 is_stmt 0 view .LVU1940
 6209 01fc 039F     		ldr	r7, [sp, #12]
 6210              	.LVL774:
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 6211              		.loc 1 3483 16 view .LVU1941
 6212 01fe 3800     		movs	r0, r7
 6213 0200 FFF7FEFF 		bl	clust2sect
 6214              	.LVL775:
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 6215              		.loc 1 3483 9 discriminator 1 view .LVU1942
 6216 0204 0028     		cmp	r0, #0
 6217 0206 01D1     		bne	.L401
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 6218              		.loc 1 3484 11 view .LVU1943
 6219 0208 0224     		movs	r4, #2
 6220              	.LVL776:
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 6221              		.loc 1 3484 11 view .LVU1944
 6222 020a 0EE7     		b	.L367
 6223              	.LVL777:
 6224              	.L401:
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6225              		.loc 1 3486 7 is_stmt 1 view .LVU1945
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6226              		.loc 1 3486 23 is_stmt 0 view .LVU1946
 6227 020c 720A     		lsrs	r2, r6, #9
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6228              		.loc 1 3486 21 view .LVU1947
 6229 020e 1218     		adds	r2, r2, r0
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6230              		.loc 1 3486 16 view .LVU1948
 6231 0210 2A62     		str	r2, [r5, #32]
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6232              		.loc 1 3488 7 is_stmt 1 view .LVU1949
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6233              		.loc 1 3488 11 is_stmt 0 view .LVU1950
 6234 0212 7878     		ldrb	r0, [r7, #1]
ARM GAS  /tmp/ccVOuidm.s 			page 242


 6235              	.LVL778:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6236              		.loc 1 3488 11 view .LVU1951
 6237 0214 0123     		movs	r3, #1
 6238 0216 4146     		mov	r1, r8
 6239 0218 FFF7FEFF 		bl	disk_read
 6240              	.LVL779:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6241              		.loc 1 3488 10 discriminator 1 view .LVU1952
 6242 021c 0028     		cmp	r0, #0
 6243 021e 07D1     		bne	.L391
 6244              	.LVL780:
 6245              	.L376:
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6246              		.loc 1 3496 16 is_stmt 1 view .LVU1953
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6247              		.loc 1 3499 2 view .LVU1954
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6248              		.loc 1 3499 5 is_stmt 0 view .LVU1955
 6249 0220 002C     		cmp	r4, #0
 6250 0222 00D1     		bne	.LCB5922
 6251 0224 03E7     		b	.L366	@long jump
 6252              	.LCB5922:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6253              		.loc 1 3499 5 view .LVU1956
 6254 0226 00E7     		b	.L367
 6255              	.LVL781:
 6256              	.L383:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 6257              		.loc 1 3358 10 view .LVU1957
 6258 0228 0724     		movs	r4, #7
 6259              	.LVL782:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 6260              		.loc 1 3358 10 view .LVU1958
 6261 022a FEE6     		b	.L367
 6262              	.LVL783:
 6263              	.L385:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 6264              		.loc 1 3414 10 view .LVU1959
 6265 022c 0424     		movs	r4, #4
 6266              	.LVL784:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 6267              		.loc 1 3414 10 view .LVU1960
 6268 022e FCE6     		b	.L367
 6269              	.LVL785:
 6270              	.L391:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6271              		.loc 1 3488 67 discriminator 1 view .LVU1961
 6272 0230 0124     		movs	r4, #1
 6273              	.LVL786:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6274              		.loc 1 3488 67 discriminator 1 view .LVU1962
 6275 0232 FAE6     		b	.L367
 6276              	.LVL787:
 6277              	.L381:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6278              		.loc 1 3324 18 discriminator 1 view .LVU1963
ARM GAS  /tmp/ccVOuidm.s 			page 243


 6279 0234 0924     		movs	r4, #9
 6280 0236 FAE6     		b	.L366
 6281              		.cfi_endproc
 6282              	.LFE532:
 6284              		.section	.text.f_read,"ax",%progbits
 6285              		.align	1
 6286              		.global	f_read
 6287              		.syntax unified
 6288              		.code	16
 6289              		.thumb_func
 6291              	f_read:
 6292              	.LVL788:
 6293              	.LFB533:
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6294              		.loc 1 3517 1 is_stmt 1 view -0
 6295              		.cfi_startproc
 6296              		@ args = 0, pretend = 0, frame = 16
 6297              		@ frame_needed = 0, uses_anonymous_args = 0
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6298              		.loc 1 3517 1 is_stmt 0 view .LVU1965
 6299 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 6300              	.LCFI44:
 6301              		.cfi_def_cfa_offset 20
 6302              		.cfi_offset 4, -20
 6303              		.cfi_offset 5, -16
 6304              		.cfi_offset 6, -12
 6305              		.cfi_offset 7, -8
 6306              		.cfi_offset 14, -4
 6307 0002 DE46     		mov	lr, fp
 6308 0004 5746     		mov	r7, r10
 6309 0006 4E46     		mov	r6, r9
 6310 0008 4546     		mov	r5, r8
 6311 000a E0B5     		push	{r5, r6, r7, lr}
 6312              	.LCFI45:
 6313              		.cfi_def_cfa_offset 36
 6314              		.cfi_offset 8, -36
 6315              		.cfi_offset 9, -32
 6316              		.cfi_offset 10, -28
 6317              		.cfi_offset 11, -24
 6318 000c 85B0     		sub	sp, sp, #20
 6319              	.LCFI46:
 6320              		.cfi_def_cfa_offset 56
 6321 000e 0400     		movs	r4, r0
 6322 0010 0E00     		movs	r6, r1
 6323 0012 1700     		movs	r7, r2
 6324 0014 9846     		mov	r8, r3
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 6325              		.loc 1 3518 2 is_stmt 1 view .LVU1966
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 6326              		.loc 1 3519 2 view .LVU1967
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
 6327              		.loc 1 3520 2 view .LVU1968
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
 6328              		.loc 1 3521 2 view .LVU1969
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
 6329              		.loc 1 3522 2 view .LVU1970
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 244


 6330              		.loc 1 3523 2 view .LVU1971
 6331              	.LVL789:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 6332              		.loc 1 3526 2 view .LVU1972
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 6333              		.loc 1 3526 6 is_stmt 0 view .LVU1973
 6334 0016 0023     		movs	r3, #0
 6335              	.LVL790:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 6336              		.loc 1 3526 6 view .LVU1974
 6337 0018 4246     		mov	r2, r8
 6338              	.LVL791:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 6339              		.loc 1 3526 6 view .LVU1975
 6340 001a 1360     		str	r3, [r2]
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6341              		.loc 1 3527 2 is_stmt 1 view .LVU1976
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6342              		.loc 1 3527 8 is_stmt 0 view .LVU1977
 6343 001c 03A9     		add	r1, sp, #12
 6344              	.LVL792:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6345              		.loc 1 3527 8 view .LVU1978
 6346 001e FFF7FEFF 		bl	validate
 6347              	.LVL793:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6348              		.loc 1 3527 8 view .LVU1979
 6349 0022 8146     		mov	r9, r0
 6350              	.LVL794:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 6351              		.loc 1 3528 2 is_stmt 1 view .LVU1980
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 6352              		.loc 1 3528 5 is_stmt 0 view .LVU1981
 6353 0024 0028     		cmp	r0, #0
 6354 0026 00D0     		beq	.LCB6027
 6355 0028 A4E0     		b	.L405	@long jump
 6356              	.LCB6027:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 6357              		.loc 1 3528 27 discriminator 2 view .LVU1982
 6358 002a 637D     		ldrb	r3, [r4, #21]
 6359 002c 9946     		mov	r9, r3
 6360              	.LVL795:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 6361              		.loc 1 3528 19 discriminator 2 view .LVU1983
 6362 002e 002B     		cmp	r3, #0
 6363 0030 00D0     		beq	.LCB6032
 6364 0032 9FE0     		b	.L405	@long jump
 6365              	.LCB6032:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6366              		.loc 1 3529 2 is_stmt 1 view .LVU1984
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6367              		.loc 1 3529 10 is_stmt 0 view .LVU1985
 6368 0034 237D     		ldrb	r3, [r4, #20]
 6369              	.LVL796:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6370              		.loc 1 3529 5 view .LVU1986
 6371 0036 DB07     		lsls	r3, r3, #31
ARM GAS  /tmp/ccVOuidm.s 			page 245


 6372 0038 00D4     		bmi	.LCB6040
 6373 003a B9E0     		b	.L427	@long jump
 6374              	.LCB6040:
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 6375              		.loc 1 3530 2 is_stmt 1 view .LVU1987
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 6376              		.loc 1 3530 18 is_stmt 0 view .LVU1988
 6377 003c E568     		ldr	r5, [r4, #12]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 6378              		.loc 1 3530 31 view .LVU1989
 6379 003e A369     		ldr	r3, [r4, #24]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 6380              		.loc 1 3530 9 view .LVU1990
 6381 0040 ED1A     		subs	r5, r5, r3
 6382              	.LVL797:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6383              		.loc 1 3531 2 is_stmt 1 view .LVU1991
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6384              		.loc 1 3531 5 is_stmt 0 view .LVU1992
 6385 0042 BD42     		cmp	r5, r7
 6386 0044 5BD3     		bcc	.L425
 6387 0046 3D00     		movs	r5, r7
 6388              	.LVL798:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6389              		.loc 1 3531 5 view .LVU1993
 6390 0048 59E0     		b	.L425
 6391              	.LVL799:
 6392              	.L410:
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6393              		.loc 1 3542 6 is_stmt 1 view .LVU1994
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6394              		.loc 1 3542 12 is_stmt 0 view .LVU1995
 6395 004a E36A     		ldr	r3, [r4, #44]
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6396              		.loc 1 3542 9 view .LVU1996
 6397 004c 002B     		cmp	r3, #0
 6398 004e 03D0     		beq	.L412
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6399              		.loc 1 3543 7 is_stmt 1 view .LVU1997
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6400              		.loc 1 3543 14 is_stmt 0 view .LVU1998
 6401 0050 2000     		movs	r0, r4
 6402              	.LVL800:
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6403              		.loc 1 3543 14 view .LVU1999
 6404 0052 FFF7FEFF 		bl	clmt_clust
 6405              	.LVL801:
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6406              		.loc 1 3543 14 view .LVU2000
 6407 0056 63E0     		b	.L411
 6408              	.LVL802:
 6409              	.L412:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6410              		.loc 1 3547 7 is_stmt 1 view .LVU2001
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6411              		.loc 1 3547 14 is_stmt 0 view .LVU2002
 6412 0058 E169     		ldr	r1, [r4, #28]
ARM GAS  /tmp/ccVOuidm.s 			page 246


 6413 005a 2000     		movs	r0, r4
 6414              	.LVL803:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6415              		.loc 1 3547 14 view .LVU2003
 6416 005c FFF7FEFF 		bl	get_fat
 6417              	.LVL804:
 6418 0060 5EE0     		b	.L411
 6419              	.LVL805:
 6420              	.L433:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6421              		.loc 1 3550 19 is_stmt 1 discriminator 1 view .LVU2004
 6422 0062 0223     		movs	r3, #2
 6423 0064 6375     		strb	r3, [r4, #21]
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6424              		.loc 1 3550 19 view .LVU2005
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6425              		.loc 1 3550 19 is_stmt 0 discriminator 1 view .LVU2006
 6426 0066 9946     		mov	r9, r3
 6427              	.LVL806:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6428              		.loc 1 3550 19 view .LVU2007
 6429 0068 84E0     		b	.L405
 6430              	.LVL807:
 6431              	.L434:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6432              		.loc 1 3551 29 is_stmt 1 discriminator 1 view .LVU2008
 6433 006a 0123     		movs	r3, #1
 6434 006c 6375     		strb	r3, [r4, #21]
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6435              		.loc 1 3551 29 view .LVU2009
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6436              		.loc 1 3551 29 is_stmt 0 discriminator 1 view .LVU2010
 6437 006e 9946     		mov	r9, r3
 6438              	.LVL808:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6439              		.loc 1 3551 29 view .LVU2011
 6440 0070 80E0     		b	.L405
 6441              	.LVL809:
 6442              	.L435:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6443              		.loc 1 3555 15 is_stmt 1 discriminator 1 view .LVU2012
 6444 0072 0223     		movs	r3, #2
 6445 0074 6375     		strb	r3, [r4, #21]
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6446              		.loc 1 3555 15 view .LVU2013
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6447              		.loc 1 3555 15 is_stmt 0 discriminator 1 view .LVU2014
 6448 0076 9946     		mov	r9, r3
 6449              	.LVL810:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6450              		.loc 1 3555 15 view .LVU2015
 6451 0078 7CE0     		b	.L405
 6452              	.LVL811:
 6453              	.L418:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6454              		.loc 1 3562 78 is_stmt 1 discriminator 2 view .LVU2016
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
ARM GAS  /tmp/ccVOuidm.s 			page 247


 6455              		.loc 1 3569 5 view .LVU2017
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6456              		.loc 1 3569 9 is_stmt 0 view .LVU2018
 6457 007a 1423     		movs	r3, #20
 6458 007c E356     		ldrsb	r3, [r4, r3]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6459              		.loc 1 3569 8 view .LVU2019
 6460 007e 002B     		cmp	r3, #0
 6461 0080 02DB     		blt	.L430
 6462              	.L419:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6463              		.loc 1 3574 5 is_stmt 1 view .LVU2020
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6464              		.loc 1 3574 10 is_stmt 0 view .LVU2021
 6465 0082 019B     		ldr	r3, [sp, #4]
 6466 0084 5F02     		lsls	r7, r3, #9
 6467              	.LVL812:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6468              		.loc 1 3575 5 is_stmt 1 view .LVU2022
 6469 0086 30E0     		b	.L420
 6470              	.LVL813:
 6471              	.L430:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6472              		.loc 1 3569 36 is_stmt 0 discriminator 1 view .LVU2023
 6473 0088 236A     		ldr	r3, [r4, #32]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6474              		.loc 1 3569 43 discriminator 1 view .LVU2024
 6475 008a DB1B     		subs	r3, r3, r7
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 6476              		.loc 1 3569 31 discriminator 1 view .LVU2025
 6477 008c 019A     		ldr	r2, [sp, #4]
 6478 008e 9342     		cmp	r3, r2
 6479 0090 F7D2     		bcs	.L419
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6480              		.loc 1 3570 6 is_stmt 1 view .LVU2026
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6481              		.loc 1 3570 41 is_stmt 0 view .LVU2027
 6482 0092 5B02     		lsls	r3, r3, #9
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6483              		.loc 1 3570 20 view .LVU2028
 6484 0094 F018     		adds	r0, r6, r3
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6485              		.loc 1 3570 54 view .LVU2029
 6486 0096 2100     		movs	r1, r4
 6487 0098 3031     		adds	r1, r1, #48
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6488              		.loc 1 3570 6 view .LVU2030
 6489 009a 8022     		movs	r2, #128
 6490 009c 9200     		lsls	r2, r2, #2
 6491 009e FFF7FEFF 		bl	mem_cpy
 6492              	.LVL814:
 6493 00a2 EEE7     		b	.L419
 6494              	.LVL815:
 6495              	.L416:
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6496              		.loc 1 3578 4 is_stmt 1 view .LVU2031
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  /tmp/ccVOuidm.s 			page 248


 6497              		.loc 1 3578 10 is_stmt 0 view .LVU2032
 6498 00a4 226A     		ldr	r2, [r4, #32]
 6499              	.LVL816:
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6500              		.loc 1 3578 7 view .LVU2033
 6501 00a6 8242     		cmp	r2, r0
 6502 00a8 0ED0     		beq	.L421
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6503              		.loc 1 3580 5 is_stmt 1 view .LVU2034
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6504              		.loc 1 3580 9 is_stmt 0 view .LVU2035
 6505 00aa 1423     		movs	r3, #20
 6506 00ac E356     		ldrsb	r3, [r4, r3]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6507              		.loc 1 3580 8 view .LVU2036
 6508 00ae 002B     		cmp	r3, #0
 6509 00b0 68DB     		blt	.L431
 6510              	.LVL817:
 6511              	.L422:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6512              		.loc 1 3585 5 is_stmt 1 view .LVU2037
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6513              		.loc 1 3585 21 is_stmt 0 view .LVU2038
 6514 00b2 039B     		ldr	r3, [sp, #12]
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6515              		.loc 1 3585 30 view .LVU2039
 6516 00b4 2100     		movs	r1, r4
 6517 00b6 3031     		adds	r1, r1, #48
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6518              		.loc 1 3585 9 view .LVU2040
 6519 00b8 5878     		ldrb	r0, [r3, #1]
 6520 00ba 0123     		movs	r3, #1
 6521 00bc 3A00     		movs	r2, r7
 6522 00be FFF7FEFF 		bl	disk_read
 6523              	.LVL818:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6524              		.loc 1 3585 8 discriminator 1 view .LVU2041
 6525 00c2 0028     		cmp	r0, #0
 6526 00c4 00D0     		beq	.LCB6193
 6527 00c6 6FE0     		b	.L432	@long jump
 6528              	.LCB6193:
 6529              	.L421:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6530              		.loc 1 3585 79 is_stmt 1 discriminator 2 view .LVU2042
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6531              		.loc 1 3588 4 view .LVU2043
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6532              		.loc 1 3588 13 is_stmt 0 view .LVU2044
 6533 00c8 2762     		str	r7, [r4, #32]
 6534              	.LVL819:
 6535              	.L408:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 6536              		.loc 1 3590 3 is_stmt 1 view .LVU2045
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 6537              		.loc 1 3590 27 is_stmt 0 view .LVU2046
 6538 00ca A369     		ldr	r3, [r4, #24]
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
ARM GAS  /tmp/ccVOuidm.s 			page 249


 6539              		.loc 1 3590 34 view .LVU2047
 6540 00cc DB05     		lsls	r3, r3, #23
 6541 00ce DB0D     		lsrs	r3, r3, #23
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 6542              		.loc 1 3590 8 view .LVU2048
 6543 00d0 8027     		movs	r7, #128
 6544 00d2 BF00     		lsls	r7, r7, #2
 6545 00d4 FF1A     		subs	r7, r7, r3
 6546              	.LVL820:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6547              		.loc 1 3591 3 is_stmt 1 view .LVU2049
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6548              		.loc 1 3591 6 is_stmt 0 view .LVU2050
 6549 00d6 BD42     		cmp	r5, r7
 6550 00d8 00D2     		bcs	.L424
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6551              		.loc 1 3591 24 discriminator 1 view .LVU2051
 6552 00da 2F00     		movs	r7, r5
 6553              	.LVL821:
 6554              	.L424:
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6555              		.loc 1 3596 3 is_stmt 1 view .LVU2052
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6556              		.loc 1 3596 18 is_stmt 0 view .LVU2053
 6557 00dc 2100     		movs	r1, r4
 6558 00de 3031     		adds	r1, r1, #48
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6559              		.loc 1 3596 3 view .LVU2054
 6560 00e0 C918     		adds	r1, r1, r3
 6561 00e2 3A00     		movs	r2, r7
 6562 00e4 3000     		movs	r0, r6
 6563 00e6 FFF7FEFF 		bl	mem_cpy
 6564              	.LVL822:
 6565              	.L420:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6566              		.loc 1 3534 47 is_stmt 1 view .LVU2055
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6567              		.loc 1 3534 9 is_stmt 0 view .LVU2056
 6568 00ea F619     		adds	r6, r6, r7
 6569              	.LVL823:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6570              		.loc 1 3534 20 view .LVU2057
 6571 00ec A369     		ldr	r3, [r4, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6572              		.loc 1 3534 27 view .LVU2058
 6573 00ee DB19     		adds	r3, r3, r7
 6574 00f0 A361     		str	r3, [r4, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6575              		.loc 1 3534 36 view .LVU2059
 6576 00f2 4346     		mov	r3, r8
 6577 00f4 1B68     		ldr	r3, [r3]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 6578              		.loc 1 3534 40 view .LVU2060
 6579 00f6 DB19     		adds	r3, r3, r7
 6580 00f8 4246     		mov	r2, r8
 6581 00fa 1360     		str	r3, [r2]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
ARM GAS  /tmp/ccVOuidm.s 			page 250


 6582              		.loc 1 3534 53 view .LVU2061
 6583 00fc ED1B     		subs	r5, r5, r7
 6584              	.LVL824:
 6585              	.L425:
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 6586              		.loc 1 3533 11 is_stmt 1 view .LVU2062
 6587 00fe 002D     		cmp	r5, #0
 6588 0100 38D0     		beq	.L405
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 6589              		.loc 1 3535 3 view .LVU2063
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 6590              		.loc 1 3535 9 is_stmt 0 view .LVU2064
 6591 0102 A169     		ldr	r1, [r4, #24]
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 6592              		.loc 1 3535 16 view .LVU2065
 6593 0104 CB05     		lsls	r3, r1, #23
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 6594              		.loc 1 3535 6 view .LVU2066
 6595 0106 E0D1     		bne	.L408
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 6596              		.loc 1 3536 4 is_stmt 1 view .LVU2067
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 6597              		.loc 1 3536 28 is_stmt 0 view .LVU2068
 6598 0108 4B0A     		lsrs	r3, r1, #9
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 6599              		.loc 1 3536 42 view .LVU2069
 6600 010a 039A     		ldr	r2, [sp, #12]
 6601 010c 5289     		ldrh	r2, [r2, #10]
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 6602              		.loc 1 3536 50 view .LVU2070
 6603 010e 013A     		subs	r2, r2, #1
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 6604              		.loc 1 3536 10 view .LVU2071
 6605 0110 1000     		movs	r0, r2
 6606 0112 1840     		ands	r0, r3
 6607 0114 8346     		mov	fp, r0
 6608              	.LVL825:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 6609              		.loc 1 3537 4 is_stmt 1 view .LVU2072
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 6610              		.loc 1 3537 7 is_stmt 0 view .LVU2073
 6611 0116 1A42     		tst	r2, r3
 6612 0118 07D1     		bne	.L409
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 6613              		.loc 1 3538 5 is_stmt 1 view .LVU2074
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 6614              		.loc 1 3538 8 is_stmt 0 view .LVU2075
 6615 011a 0029     		cmp	r1, #0
 6616 011c 95D1     		bne	.L410
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 6617              		.loc 1 3539 6 is_stmt 1 view .LVU2076
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 6618              		.loc 1 3539 11 is_stmt 0 view .LVU2077
 6619 011e A068     		ldr	r0, [r4, #8]
 6620              	.LVL826:
 6621              	.L411:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
ARM GAS  /tmp/ccVOuidm.s 			page 251


 6622              		.loc 1 3550 5 is_stmt 1 view .LVU2078
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6623              		.loc 1 3550 8 is_stmt 0 view .LVU2079
 6624 0120 0128     		cmp	r0, #1
 6625 0122 9ED9     		bls	.L433
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6626              		.loc 1 3550 40 is_stmt 1 discriminator 2 view .LVU2080
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6627              		.loc 1 3551 5 view .LVU2081
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6628              		.loc 1 3551 8 is_stmt 0 view .LVU2082
 6629 0124 431C     		adds	r3, r0, #1
 6630 0126 A0D0     		beq	.L434
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6631              		.loc 1 3551 51 is_stmt 1 discriminator 2 view .LVU2083
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6632              		.loc 1 3552 5 view .LVU2084
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6633              		.loc 1 3552 15 is_stmt 0 view .LVU2085
 6634 0128 E061     		str	r0, [r4, #28]
 6635              	.LVL827:
 6636              	.L409:
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6637              		.loc 1 3554 4 is_stmt 1 view .LVU2086
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6638              		.loc 1 3554 11 is_stmt 0 view .LVU2087
 6639 012a 039B     		ldr	r3, [sp, #12]
 6640 012c 9A46     		mov	r10, r3
 6641 012e E169     		ldr	r1, [r4, #28]
 6642 0130 1800     		movs	r0, r3
 6643 0132 FFF7FEFF 		bl	clust2sect
 6644              	.LVL828:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6645              		.loc 1 3555 4 is_stmt 1 view .LVU2088
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6646              		.loc 1 3555 7 is_stmt 0 view .LVU2089
 6647 0136 0028     		cmp	r0, #0
 6648 0138 9BD0     		beq	.L435
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6649              		.loc 1 3555 36 is_stmt 1 discriminator 2 view .LVU2090
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 6650              		.loc 1 3556 4 view .LVU2091
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 6651              		.loc 1 3556 9 is_stmt 0 view .LVU2092
 6652 013a 5844     		add	r0, r0, fp
 6653              	.LVL829:
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 6654              		.loc 1 3556 9 view .LVU2093
 6655 013c 0700     		movs	r7, r0
 6656              	.LVL830:
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 6657              		.loc 1 3557 4 is_stmt 1 view .LVU2094
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 6658              		.loc 1 3557 7 is_stmt 0 view .LVU2095
 6659 013e 6A0A     		lsrs	r2, r5, #9
 6660 0140 0192     		str	r2, [sp, #4]
 6661              	.LVL831:
ARM GAS  /tmp/ccVOuidm.s 			page 252


3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6662              		.loc 1 3558 4 is_stmt 1 view .LVU2096
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6663              		.loc 1 3558 7 is_stmt 0 view .LVU2097
 6664 0142 8023     		movs	r3, #128
 6665 0144 9B00     		lsls	r3, r3, #2
 6666 0146 9D42     		cmp	r5, r3
 6667 0148 ACD3     		bcc	.L416
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6668              		.loc 1 3559 5 is_stmt 1 view .LVU2098
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6669              		.loc 1 3559 15 is_stmt 0 view .LVU2099
 6670 014a 1300     		movs	r3, r2
 6671 014c 5B44     		add	r3, r3, fp
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6672              		.loc 1 3559 24 view .LVU2100
 6673 014e 5246     		mov	r2, r10
 6674              	.LVL832:
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6675              		.loc 1 3559 24 view .LVU2101
 6676 0150 5289     		ldrh	r2, [r2, #10]
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6677              		.loc 1 3559 8 view .LVU2102
 6678 0152 9342     		cmp	r3, r2
 6679 0154 02D9     		bls	.L417
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6680              		.loc 1 3560 6 is_stmt 1 view .LVU2103
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6681              		.loc 1 3560 9 is_stmt 0 view .LVU2104
 6682 0156 5B46     		mov	r3, fp
 6683 0158 D31A     		subs	r3, r2, r3
 6684 015a 0193     		str	r3, [sp, #4]
 6685              	.LVL833:
 6686              	.L417:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6687              		.loc 1 3562 5 is_stmt 1 view .LVU2105
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6688              		.loc 1 3562 9 is_stmt 0 view .LVU2106
 6689 015c 5346     		mov	r3, r10
 6690 015e 5878     		ldrb	r0, [r3, #1]
 6691              	.LVL834:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6692              		.loc 1 3562 9 view .LVU2107
 6693 0160 019B     		ldr	r3, [sp, #4]
 6694 0162 3A00     		movs	r2, r7
 6695 0164 3100     		movs	r1, r6
 6696 0166 FFF7FEFF 		bl	disk_read
 6697              	.LVL835:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6698              		.loc 1 3562 8 discriminator 1 view .LVU2108
 6699 016a 0028     		cmp	r0, #0
 6700 016c 85D0     		beq	.L418
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6701              		.loc 1 3562 56 is_stmt 1 discriminator 1 view .LVU2109
 6702 016e 0123     		movs	r3, #1
 6703 0170 6375     		strb	r3, [r4, #21]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
ARM GAS  /tmp/ccVOuidm.s 			page 253


 6704              		.loc 1 3562 56 view .LVU2110
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6705              		.loc 1 3562 56 is_stmt 0 discriminator 1 view .LVU2111
 6706 0172 9946     		mov	r9, r3
 6707              	.LVL836:
 6708              	.L405:
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6709              		.loc 1 3601 1 view .LVU2112
 6710 0174 4846     		mov	r0, r9
 6711 0176 05B0     		add	sp, sp, #20
 6712              		@ sp needed
 6713              	.LVL837:
 6714              	.LVL838:
 6715              	.LVL839:
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6716              		.loc 1 3601 1 view .LVU2113
 6717 0178 F0BC     		pop	{r4, r5, r6, r7}
 6718 017a BB46     		mov	fp, r7
 6719 017c B246     		mov	r10, r6
 6720 017e A946     		mov	r9, r5
 6721 0180 A046     		mov	r8, r4
 6722 0182 F0BD     		pop	{r4, r5, r6, r7, pc}
 6723              	.LVL840:
 6724              	.L431:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6725              		.loc 1 3581 6 is_stmt 1 view .LVU2114
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6726              		.loc 1 3581 32 is_stmt 0 view .LVU2115
 6727 0184 2100     		movs	r1, r4
 6728 0186 3031     		adds	r1, r1, #48
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6729              		.loc 1 3581 10 view .LVU2116
 6730 0188 5346     		mov	r3, r10
 6731 018a 5878     		ldrb	r0, [r3, #1]
 6732              	.LVL841:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6733              		.loc 1 3581 10 view .LVU2117
 6734 018c 0123     		movs	r3, #1
 6735 018e FFF7FEFF 		bl	disk_write
 6736              	.LVL842:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6737              		.loc 1 3581 9 discriminator 1 view .LVU2118
 6738 0192 0028     		cmp	r0, #0
 6739 0194 04D1     		bne	.L436
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6740              		.loc 1 3581 85 is_stmt 1 discriminator 2 view .LVU2119
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6741              		.loc 1 3582 6 view .LVU2120
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6742              		.loc 1 3582 8 is_stmt 0 view .LVU2121
 6743 0196 227D     		ldrb	r2, [r4, #20]
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6744              		.loc 1 3582 15 view .LVU2122
 6745 0198 7F23     		movs	r3, #127
 6746 019a 1340     		ands	r3, r2
 6747 019c 2375     		strb	r3, [r4, #20]
 6748 019e 88E7     		b	.L422
ARM GAS  /tmp/ccVOuidm.s 			page 254


 6749              	.L436:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6750              		.loc 1 3581 63 is_stmt 1 discriminator 1 view .LVU2123
 6751 01a0 0123     		movs	r3, #1
 6752 01a2 6375     		strb	r3, [r4, #21]
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6753              		.loc 1 3581 63 view .LVU2124
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6754              		.loc 1 3581 63 is_stmt 0 discriminator 1 view .LVU2125
 6755 01a4 9946     		mov	r9, r3
 6756              	.LVL843:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6757              		.loc 1 3581 63 view .LVU2126
 6758 01a6 E5E7     		b	.L405
 6759              	.LVL844:
 6760              	.L432:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6761              		.loc 1 3585 57 is_stmt 1 discriminator 1 view .LVU2127
 6762 01a8 0123     		movs	r3, #1
 6763 01aa 6375     		strb	r3, [r4, #21]
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6764              		.loc 1 3585 57 view .LVU2128
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6765              		.loc 1 3585 57 is_stmt 0 discriminator 1 view .LVU2129
 6766 01ac 9946     		mov	r9, r3
 6767              	.LVL845:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6768              		.loc 1 3585 57 view .LVU2130
 6769 01ae E1E7     		b	.L405
 6770              	.LVL846:
 6771              	.L427:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6772              		.loc 1 3529 29 discriminator 1 view .LVU2131
 6773 01b0 0723     		movs	r3, #7
 6774 01b2 9946     		mov	r9, r3
 6775              	.LVL847:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6776              		.loc 1 3529 29 discriminator 1 view .LVU2132
 6777 01b4 DEE7     		b	.L405
 6778              		.cfi_endproc
 6779              	.LFE533:
 6781              		.section	.text.f_write,"ax",%progbits
 6782              		.align	1
 6783              		.global	f_write
 6784              		.syntax unified
 6785              		.code	16
 6786              		.thumb_func
 6788              	f_write:
 6789              	.LVL848:
 6790              	.LFB534:
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6791              		.loc 1 3617 1 is_stmt 1 view -0
 6792              		.cfi_startproc
 6793              		@ args = 0, pretend = 0, frame = 16
 6794              		@ frame_needed = 0, uses_anonymous_args = 0
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6795              		.loc 1 3617 1 is_stmt 0 view .LVU2134
ARM GAS  /tmp/ccVOuidm.s 			page 255


 6796 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 6797              	.LCFI47:
 6798              		.cfi_def_cfa_offset 20
 6799              		.cfi_offset 4, -20
 6800              		.cfi_offset 5, -16
 6801              		.cfi_offset 6, -12
 6802              		.cfi_offset 7, -8
 6803              		.cfi_offset 14, -4
 6804 0002 DE46     		mov	lr, fp
 6805 0004 5746     		mov	r7, r10
 6806 0006 4E46     		mov	r6, r9
 6807 0008 4546     		mov	r5, r8
 6808 000a E0B5     		push	{r5, r6, r7, lr}
 6809              	.LCFI48:
 6810              		.cfi_def_cfa_offset 36
 6811              		.cfi_offset 8, -36
 6812              		.cfi_offset 9, -32
 6813              		.cfi_offset 10, -28
 6814              		.cfi_offset 11, -24
 6815 000c 85B0     		sub	sp, sp, #20
 6816              	.LCFI49:
 6817              		.cfi_def_cfa_offset 56
 6818 000e 0400     		movs	r4, r0
 6819 0010 0E00     		movs	r6, r1
 6820 0012 1500     		movs	r5, r2
 6821 0014 9846     		mov	r8, r3
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 6822              		.loc 1 3618 2 is_stmt 1 view .LVU2135
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 6823              		.loc 1 3619 2 view .LVU2136
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
 6824              		.loc 1 3620 2 view .LVU2137
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 6825              		.loc 1 3621 2 view .LVU2138
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6826              		.loc 1 3622 2 view .LVU2139
 6827              	.LVL849:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 6828              		.loc 1 3625 2 view .LVU2140
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 6829              		.loc 1 3625 6 is_stmt 0 view .LVU2141
 6830 0016 0023     		movs	r3, #0
 6831              	.LVL850:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 6832              		.loc 1 3625 6 view .LVU2142
 6833 0018 4246     		mov	r2, r8
 6834              	.LVL851:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 6835              		.loc 1 3625 6 view .LVU2143
 6836 001a 1360     		str	r3, [r2]
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6837              		.loc 1 3626 2 is_stmt 1 view .LVU2144
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6838              		.loc 1 3626 8 is_stmt 0 view .LVU2145
 6839 001c 03A9     		add	r1, sp, #12
 6840              	.LVL852:
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
ARM GAS  /tmp/ccVOuidm.s 			page 256


 6841              		.loc 1 3626 8 view .LVU2146
 6842 001e FFF7FEFF 		bl	validate
 6843              	.LVL853:
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6844              		.loc 1 3626 8 view .LVU2147
 6845 0022 8146     		mov	r9, r0
 6846              	.LVL854:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6847              		.loc 1 3627 2 is_stmt 1 view .LVU2148
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6848              		.loc 1 3627 5 is_stmt 0 view .LVU2149
 6849 0024 0028     		cmp	r0, #0
 6850 0026 49D1     		bne	.L440
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6851              		.loc 1 3627 27 discriminator 2 view .LVU2150
 6852 0028 637D     		ldrb	r3, [r4, #21]
 6853 002a 9946     		mov	r9, r3
 6854              	.LVL855:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6855              		.loc 1 3627 19 discriminator 2 view .LVU2151
 6856 002c 002B     		cmp	r3, #0
 6857 002e 45D1     		bne	.L440
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6858              		.loc 1 3628 2 is_stmt 1 view .LVU2152
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6859              		.loc 1 3628 10 is_stmt 0 view .LVU2153
 6860 0030 237D     		ldrb	r3, [r4, #20]
 6861              	.LVL856:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6862              		.loc 1 3628 5 view .LVU2154
 6863 0032 9B07     		lsls	r3, r3, #30
 6864 0034 00D4     		bmi	.LCB6535
 6865 0036 DBE0     		b	.L464	@long jump
 6866              	.LCB6535:
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 6867              		.loc 1 3631 2 is_stmt 1 view .LVU2155
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 6868              		.loc 1 3631 59 is_stmt 0 view .LVU2156
 6869 0038 A369     		ldr	r3, [r4, #24]
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 6870              		.loc 1 3631 49 view .LVU2157
 6871 003a 5A19     		adds	r2, r3, r5
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 6872              		.loc 1 3631 5 view .LVU2158
 6873 003c 9342     		cmp	r3, r2
 6874 003e 00D8     		bhi	.LCB6540
 6875 0040 A9E0     		b	.L462	@long jump
 6876              	.LCB6540:
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6877              		.loc 1 3632 3 is_stmt 1 view .LVU2159
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6878              		.loc 1 3632 7 is_stmt 0 view .LVU2160
 6879 0042 DD43     		mvns	r5, r3
 6880              	.LVL857:
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6881              		.loc 1 3632 7 view .LVU2161
 6882 0044 A7E0     		b	.L462
ARM GAS  /tmp/ccVOuidm.s 			page 257


 6883              	.LVL858:
 6884              	.L444:
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6885              		.loc 1 3647 6 is_stmt 1 view .LVU2162
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6886              		.loc 1 3647 12 is_stmt 0 view .LVU2163
 6887 0046 E36A     		ldr	r3, [r4, #44]
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6888              		.loc 1 3647 9 view .LVU2164
 6889 0048 002B     		cmp	r3, #0
 6890 004a 3FD0     		beq	.L447
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6891              		.loc 1 3648 7 is_stmt 1 view .LVU2165
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6892              		.loc 1 3648 14 is_stmt 0 view .LVU2166
 6893 004c 2000     		movs	r0, r4
 6894              	.LVL859:
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6895              		.loc 1 3648 14 view .LVU2167
 6896 004e FFF7FEFF 		bl	clmt_clust
 6897              	.LVL860:
 6898              	.L446:
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 6899              		.loc 1 3655 5 is_stmt 1 view .LVU2168
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 6900              		.loc 1 3655 8 is_stmt 0 view .LVU2169
 6901 0052 0028     		cmp	r0, #0
 6902 0054 00D1     		bne	.LCB6570
 6903 0056 C6E0     		b	.L448	@long jump
 6904              	.LCB6570:
 6905              	.L445:
 6906              	.LVL861:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6907              		.loc 1 3656 5 is_stmt 1 view .LVU2170
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6908              		.loc 1 3656 8 is_stmt 0 view .LVU2171
 6909 0058 0128     		cmp	r0, #1
 6910 005a 3CD0     		beq	.L466
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6911              		.loc 1 3656 41 is_stmt 1 discriminator 2 view .LVU2172
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6912              		.loc 1 3657 5 view .LVU2173
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6913              		.loc 1 3657 8 is_stmt 0 view .LVU2174
 6914 005c 431C     		adds	r3, r0, #1
 6915 005e 3ED0     		beq	.L467
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6916              		.loc 1 3657 51 is_stmt 1 discriminator 2 view .LVU2175
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 6917              		.loc 1 3658 5 view .LVU2176
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 6918              		.loc 1 3658 15 is_stmt 0 view .LVU2177
 6919 0060 E061     		str	r0, [r4, #28]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6920              		.loc 1 3659 5 is_stmt 1 view .LVU2178
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6921              		.loc 1 3659 16 is_stmt 0 view .LVU2179
ARM GAS  /tmp/ccVOuidm.s 			page 258


 6922 0062 A368     		ldr	r3, [r4, #8]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6923              		.loc 1 3659 8 view .LVU2180
 6924 0064 002B     		cmp	r3, #0
 6925 0066 00D1     		bne	.L443
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6926              		.loc 1 3659 30 is_stmt 1 discriminator 1 view .LVU2181
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6927              		.loc 1 3659 45 is_stmt 0 discriminator 1 view .LVU2182
 6928 0068 A060     		str	r0, [r4, #8]
 6929              	.L443:
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6930              		.loc 1 3664 4 is_stmt 1 view .LVU2183
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6931              		.loc 1 3664 8 is_stmt 0 view .LVU2184
 6932 006a 1423     		movs	r3, #20
 6933 006c E356     		ldrsb	r3, [r4, r3]
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6934              		.loc 1 3664 7 view .LVU2185
 6935 006e 002B     		cmp	r3, #0
 6936 0070 39DB     		blt	.L468
 6937              	.L451:
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6938              		.loc 1 3669 4 is_stmt 1 view .LVU2186
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6939              		.loc 1 3669 11 is_stmt 0 view .LVU2187
 6940 0072 039B     		ldr	r3, [sp, #12]
 6941 0074 9A46     		mov	r10, r3
 6942 0076 E169     		ldr	r1, [r4, #28]
 6943 0078 1800     		movs	r0, r3
 6944 007a FFF7FEFF 		bl	clust2sect
 6945              	.LVL862:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6946              		.loc 1 3670 4 is_stmt 1 view .LVU2188
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6947              		.loc 1 3670 7 is_stmt 0 view .LVU2189
 6948 007e 0028     		cmp	r0, #0
 6949 0080 44D0     		beq	.L469
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6950              		.loc 1 3670 36 is_stmt 1 discriminator 2 view .LVU2190
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 6951              		.loc 1 3671 4 view .LVU2191
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 6952              		.loc 1 3671 9 is_stmt 0 view .LVU2192
 6953 0082 5844     		add	r0, r0, fp
 6954              	.LVL863:
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 6955              		.loc 1 3671 9 view .LVU2193
 6956 0084 0700     		movs	r7, r0
 6957              	.LVL864:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 6958              		.loc 1 3672 4 is_stmt 1 view .LVU2194
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 6959              		.loc 1 3672 7 is_stmt 0 view .LVU2195
 6960 0086 6A0A     		lsrs	r2, r5, #9
 6961 0088 0192     		str	r2, [sp, #4]
 6962              	.LVL865:
ARM GAS  /tmp/ccVOuidm.s 			page 259


3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6963              		.loc 1 3673 4 is_stmt 1 view .LVU2196
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6964              		.loc 1 3673 7 is_stmt 0 view .LVU2197
 6965 008a 8023     		movs	r3, #128
 6966 008c 9B00     		lsls	r3, r3, #2
 6967 008e 9D42     		cmp	r5, r3
 6968 0090 55D3     		bcc	.L454
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6969              		.loc 1 3674 5 is_stmt 1 view .LVU2198
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6970              		.loc 1 3674 15 is_stmt 0 view .LVU2199
 6971 0092 1300     		movs	r3, r2
 6972 0094 5B44     		add	r3, r3, fp
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6973              		.loc 1 3674 24 view .LVU2200
 6974 0096 5246     		mov	r2, r10
 6975              	.LVL866:
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6976              		.loc 1 3674 24 view .LVU2201
 6977 0098 5289     		ldrh	r2, [r2, #10]
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6978              		.loc 1 3674 8 view .LVU2202
 6979 009a 9342     		cmp	r3, r2
 6980 009c 02D9     		bls	.L455
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6981              		.loc 1 3675 6 is_stmt 1 view .LVU2203
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6982              		.loc 1 3675 9 is_stmt 0 view .LVU2204
 6983 009e 5B46     		mov	r3, fp
 6984 00a0 D31A     		subs	r3, r2, r3
 6985 00a2 0193     		str	r3, [sp, #4]
 6986              	.LVL867:
 6987              	.L455:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6988              		.loc 1 3677 5 is_stmt 1 view .LVU2205
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6989              		.loc 1 3677 9 is_stmt 0 view .LVU2206
 6990 00a4 5346     		mov	r3, r10
 6991 00a6 5878     		ldrb	r0, [r3, #1]
 6992              	.LVL868:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6993              		.loc 1 3677 9 view .LVU2207
 6994 00a8 019B     		ldr	r3, [sp, #4]
 6995 00aa 3A00     		movs	r2, r7
 6996 00ac 3100     		movs	r1, r6
 6997 00ae FFF7FEFF 		bl	disk_write
 6998              	.LVL869:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6999              		.loc 1 3677 8 discriminator 1 view .LVU2208
 7000 00b2 0028     		cmp	r0, #0
 7001 00b4 2ED0     		beq	.L456
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7002              		.loc 1 3677 57 is_stmt 1 discriminator 1 view .LVU2209
 7003 00b6 0123     		movs	r3, #1
 7004 00b8 6375     		strb	r3, [r4, #21]
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
ARM GAS  /tmp/ccVOuidm.s 			page 260


 7005              		.loc 1 3677 57 view .LVU2210
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7006              		.loc 1 3677 57 is_stmt 0 discriminator 1 view .LVU2211
 7007 00ba 9946     		mov	r9, r3
 7008              	.LVL870:
 7009              	.L440:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7010              		.loc 1 3723 1 view .LVU2212
 7011 00bc 4846     		mov	r0, r9
 7012 00be 05B0     		add	sp, sp, #20
 7013              		@ sp needed
 7014              	.LVL871:
 7015              	.LVL872:
 7016              	.LVL873:
 7017              	.LVL874:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7018              		.loc 1 3723 1 view .LVU2213
 7019 00c0 F0BC     		pop	{r4, r5, r6, r7}
 7020 00c2 BB46     		mov	fp, r7
 7021 00c4 B246     		mov	r10, r6
 7022 00c6 A946     		mov	r9, r5
 7023 00c8 A046     		mov	r8, r4
 7024 00ca F0BD     		pop	{r4, r5, r6, r7, pc}
 7025              	.LVL875:
 7026              	.L447:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7027              		.loc 1 3652 7 is_stmt 1 view .LVU2214
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7028              		.loc 1 3652 14 is_stmt 0 view .LVU2215
 7029 00cc E169     		ldr	r1, [r4, #28]
 7030 00ce 2000     		movs	r0, r4
 7031              	.LVL876:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7032              		.loc 1 3652 14 view .LVU2216
 7033 00d0 FFF7FEFF 		bl	create_chain
 7034              	.LVL877:
 7035 00d4 BDE7     		b	.L446
 7036              	.L466:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7037              		.loc 1 3656 20 is_stmt 1 discriminator 1 view .LVU2217
 7038 00d6 0223     		movs	r3, #2
 7039 00d8 6375     		strb	r3, [r4, #21]
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7040              		.loc 1 3656 20 view .LVU2218
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7041              		.loc 1 3656 20 is_stmt 0 discriminator 1 view .LVU2219
 7042 00da 9946     		mov	r9, r3
 7043              	.LVL878:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7044              		.loc 1 3656 20 view .LVU2220
 7045 00dc EEE7     		b	.L440
 7046              	.LVL879:
 7047              	.L467:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7048              		.loc 1 3657 29 is_stmt 1 discriminator 1 view .LVU2221
 7049 00de 0123     		movs	r3, #1
 7050 00e0 6375     		strb	r3, [r4, #21]
ARM GAS  /tmp/ccVOuidm.s 			page 261


3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7051              		.loc 1 3657 29 view .LVU2222
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7052              		.loc 1 3657 29 is_stmt 0 discriminator 1 view .LVU2223
 7053 00e2 9946     		mov	r9, r3
 7054              	.LVL880:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7055              		.loc 1 3657 29 view .LVU2224
 7056 00e4 EAE7     		b	.L440
 7057              	.LVL881:
 7058              	.L468:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7059              		.loc 1 3665 5 is_stmt 1 view .LVU2225
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7060              		.loc 1 3665 22 is_stmt 0 view .LVU2226
 7061 00e6 039B     		ldr	r3, [sp, #12]
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7062              		.loc 1 3665 31 view .LVU2227
 7063 00e8 2100     		movs	r1, r4
 7064 00ea 3031     		adds	r1, r1, #48
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7065              		.loc 1 3665 9 view .LVU2228
 7066 00ec 226A     		ldr	r2, [r4, #32]
 7067 00ee 5878     		ldrb	r0, [r3, #1]
 7068 00f0 0123     		movs	r3, #1
 7069 00f2 FFF7FEFF 		bl	disk_write
 7070              	.LVL882:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7071              		.loc 1 3665 8 discriminator 1 view .LVU2229
 7072 00f6 0028     		cmp	r0, #0
 7073 00f8 04D1     		bne	.L470
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7074              		.loc 1 3665 84 is_stmt 1 discriminator 2 view .LVU2230
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7075              		.loc 1 3666 5 view .LVU2231
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7076              		.loc 1 3666 7 is_stmt 0 view .LVU2232
 7077 00fa 227D     		ldrb	r2, [r4, #20]
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7078              		.loc 1 3666 14 view .LVU2233
 7079 00fc 7F23     		movs	r3, #127
 7080 00fe 1340     		ands	r3, r2
 7081 0100 2375     		strb	r3, [r4, #20]
 7082 0102 B6E7     		b	.L451
 7083              	.L470:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7084              		.loc 1 3665 62 is_stmt 1 discriminator 1 view .LVU2234
 7085 0104 0123     		movs	r3, #1
 7086 0106 6375     		strb	r3, [r4, #21]
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7087              		.loc 1 3665 62 view .LVU2235
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7088              		.loc 1 3665 62 is_stmt 0 discriminator 1 view .LVU2236
 7089 0108 9946     		mov	r9, r3
 7090              	.LVL883:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7091              		.loc 1 3665 62 view .LVU2237
ARM GAS  /tmp/ccVOuidm.s 			page 262


 7092 010a D7E7     		b	.L440
 7093              	.LVL884:
 7094              	.L469:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7095              		.loc 1 3670 15 is_stmt 1 discriminator 1 view .LVU2238
 7096 010c 0223     		movs	r3, #2
 7097 010e 6375     		strb	r3, [r4, #21]
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7098              		.loc 1 3670 15 view .LVU2239
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7099              		.loc 1 3670 15 is_stmt 0 discriminator 1 view .LVU2240
 7100 0110 9946     		mov	r9, r3
 7101              	.LVL885:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7102              		.loc 1 3670 15 view .LVU2241
 7103 0112 D3E7     		b	.L440
 7104              	.LVL886:
 7105              	.L456:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7106              		.loc 1 3677 79 is_stmt 1 discriminator 2 view .LVU2242
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 7107              		.loc 1 3685 5 view .LVU2243
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 7108              		.loc 1 3685 11 is_stmt 0 view .LVU2244
 7109 0114 216A     		ldr	r1, [r4, #32]
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 7110              		.loc 1 3685 18 view .LVU2245
 7111 0116 C91B     		subs	r1, r1, r7
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 7112              		.loc 1 3685 8 view .LVU2246
 7113 0118 019B     		ldr	r3, [sp, #4]
 7114 011a 9942     		cmp	r1, r3
 7115 011c 02D3     		bcc	.L471
 7116              	.L457:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7117              		.loc 1 3691 5 is_stmt 1 view .LVU2247
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7118              		.loc 1 3691 10 is_stmt 0 view .LVU2248
 7119 011e 019B     		ldr	r3, [sp, #4]
 7120 0120 5F02     		lsls	r7, r3, #9
 7121              	.LVL887:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7122              		.loc 1 3692 5 is_stmt 1 view .LVU2249
 7123 0122 29E0     		b	.L458
 7124              	.LVL888:
 7125              	.L471:
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7126              		.loc 1 3686 6 view .LVU2250
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7127              		.loc 1 3686 16 is_stmt 0 view .LVU2251
 7128 0124 2000     		movs	r0, r4
 7129 0126 3030     		adds	r0, r0, #48
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7130              		.loc 1 3686 50 view .LVU2252
 7131 0128 4902     		lsls	r1, r1, #9
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7132              		.loc 1 3686 29 view .LVU2253
ARM GAS  /tmp/ccVOuidm.s 			page 263


 7133 012a 7118     		adds	r1, r6, r1
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7134              		.loc 1 3686 6 view .LVU2254
 7135 012c 8022     		movs	r2, #128
 7136 012e 9200     		lsls	r2, r2, #2
 7137 0130 FFF7FEFF 		bl	mem_cpy
 7138              	.LVL889:
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7139              		.loc 1 3687 6 is_stmt 1 view .LVU2255
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7140              		.loc 1 3687 8 is_stmt 0 view .LVU2256
 7141 0134 227D     		ldrb	r2, [r4, #20]
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7142              		.loc 1 3687 15 view .LVU2257
 7143 0136 7F23     		movs	r3, #127
 7144 0138 1340     		ands	r3, r2
 7145 013a 2375     		strb	r3, [r4, #20]
 7146 013c EFE7     		b	.L457
 7147              	.LVL890:
 7148              	.L454:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7149              		.loc 1 3700 4 is_stmt 1 view .LVU2258
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7150              		.loc 1 3700 10 is_stmt 0 view .LVU2259
 7151 013e 236A     		ldr	r3, [r4, #32]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7152              		.loc 1 3700 7 view .LVU2260
 7153 0140 8342     		cmp	r3, r0
 7154 0142 03D0     		beq	.L459
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 7155              		.loc 1 3701 7 view .LVU2261
 7156 0144 A269     		ldr	r2, [r4, #24]
 7157              	.LVL891:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 7158              		.loc 1 3701 23 view .LVU2262
 7159 0146 E368     		ldr	r3, [r4, #12]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 7160              		.loc 1 3700 25 discriminator 1 view .LVU2263
 7161 0148 9A42     		cmp	r2, r3
 7162 014a 3ED3     		bcc	.L472
 7163              	.LVL892:
 7164              	.L459:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7165              		.loc 1 3703 28 is_stmt 1 view .LVU2264
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7166              		.loc 1 3706 4 view .LVU2265
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7167              		.loc 1 3706 13 is_stmt 0 view .LVU2266
 7168 014c 2762     		str	r7, [r4, #32]
 7169              	.LVL893:
 7170              	.L442:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 7171              		.loc 1 3708 3 is_stmt 1 view .LVU2267
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 7172              		.loc 1 3708 27 is_stmt 0 view .LVU2268
 7173 014e A369     		ldr	r3, [r4, #24]
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
ARM GAS  /tmp/ccVOuidm.s 			page 264


 7174              		.loc 1 3708 34 view .LVU2269
 7175 0150 DB05     		lsls	r3, r3, #23
 7176 0152 DB0D     		lsrs	r3, r3, #23
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 7177              		.loc 1 3708 8 view .LVU2270
 7178 0154 8027     		movs	r7, #128
 7179 0156 BF00     		lsls	r7, r7, #2
 7180 0158 FF1A     		subs	r7, r7, r3
 7181              	.LVL894:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7182              		.loc 1 3709 3 is_stmt 1 view .LVU2271
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7183              		.loc 1 3709 6 is_stmt 0 view .LVU2272
 7184 015a BD42     		cmp	r5, r7
 7185 015c 00D2     		bcs	.L460
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7186              		.loc 1 3709 24 discriminator 1 view .LVU2273
 7187 015e 2F00     		movs	r7, r5
 7188              	.LVL895:
 7189              	.L460:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 7190              		.loc 1 3715 3 is_stmt 1 view .LVU2274
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 7191              		.loc 1 3715 11 is_stmt 0 view .LVU2275
 7192 0160 2000     		movs	r0, r4
 7193 0162 3030     		adds	r0, r0, #48
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 7194              		.loc 1 3715 3 view .LVU2276
 7195 0164 C018     		adds	r0, r0, r3
 7196 0166 3A00     		movs	r2, r7
 7197 0168 3100     		movs	r1, r6
 7198 016a FFF7FEFF 		bl	mem_cpy
 7199              	.LVL896:
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7200              		.loc 1 3716 3 is_stmt 1 view .LVU2277
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7201              		.loc 1 3716 5 is_stmt 0 view .LVU2278
 7202 016e 227D     		ldrb	r2, [r4, #20]
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7203              		.loc 1 3716 12 view .LVU2279
 7204 0170 8023     		movs	r3, #128
 7205 0172 5B42     		rsbs	r3, r3, #0
 7206 0174 1343     		orrs	r3, r2
 7207 0176 2375     		strb	r3, [r4, #20]
 7208              	.L458:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7209              		.loc 1 3636 124 is_stmt 1 view .LVU2280
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7210              		.loc 1 3636 9 is_stmt 0 view .LVU2281
 7211 0178 F619     		adds	r6, r6, r7
 7212              	.LVL897:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7213              		.loc 1 3636 20 view .LVU2282
 7214 017a A369     		ldr	r3, [r4, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7215              		.loc 1 3636 27 view .LVU2283
 7216 017c DB19     		adds	r3, r3, r7
ARM GAS  /tmp/ccVOuidm.s 			page 265


 7217 017e A361     		str	r3, [r4, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7218              		.loc 1 3636 73 view .LVU2284
 7219 0180 E268     		ldr	r2, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7220              		.loc 1 3636 94 view .LVU2285
 7221 0182 9342     		cmp	r3, r2
 7222 0184 00D2     		bcs	.L461
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7223              		.loc 1 3636 94 view .LVU2286
 7224 0186 1300     		movs	r3, r2
 7225              	.L461:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7226              		.loc 1 3636 52 view .LVU2287
 7227 0188 E360     		str	r3, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7228              		.loc 1 3636 113 view .LVU2288
 7229 018a 4346     		mov	r3, r8
 7230 018c 1B68     		ldr	r3, [r3]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7231              		.loc 1 3636 117 view .LVU2289
 7232 018e DB19     		adds	r3, r3, r7
 7233 0190 4246     		mov	r2, r8
 7234 0192 1360     		str	r3, [r2]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7235              		.loc 1 3636 130 view .LVU2290
 7236 0194 ED1B     		subs	r5, r5, r7
 7237              	.LVL898:
 7238              	.L462:
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 7239              		.loc 1 3635 11 is_stmt 1 view .LVU2291
 7240 0196 002D     		cmp	r5, #0
 7241 0198 25D0     		beq	.L448
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 7242              		.loc 1 3637 3 view .LVU2292
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 7243              		.loc 1 3637 9 is_stmt 0 view .LVU2293
 7244 019a A169     		ldr	r1, [r4, #24]
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 7245              		.loc 1 3637 16 view .LVU2294
 7246 019c CB05     		lsls	r3, r1, #23
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 7247              		.loc 1 3637 6 view .LVU2295
 7248 019e D6D1     		bne	.L442
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 7249              		.loc 1 3638 4 is_stmt 1 view .LVU2296
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 7250              		.loc 1 3638 28 is_stmt 0 view .LVU2297
 7251 01a0 4B0A     		lsrs	r3, r1, #9
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 7252              		.loc 1 3638 43 view .LVU2298
 7253 01a2 039A     		ldr	r2, [sp, #12]
 7254 01a4 5289     		ldrh	r2, [r2, #10]
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 7255              		.loc 1 3638 51 view .LVU2299
 7256 01a6 013A     		subs	r2, r2, #1
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
ARM GAS  /tmp/ccVOuidm.s 			page 266


 7257              		.loc 1 3638 10 view .LVU2300
 7258 01a8 1000     		movs	r0, r2
 7259 01aa 1840     		ands	r0, r3
 7260 01ac 8346     		mov	fp, r0
 7261              	.LVL899:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 7262              		.loc 1 3639 4 is_stmt 1 view .LVU2301
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 7263              		.loc 1 3639 7 is_stmt 0 view .LVU2302
 7264 01ae 1A42     		tst	r2, r3
 7265 01b0 00D0     		beq	.LCB6941
 7266 01b2 5AE7     		b	.L443	@long jump
 7267              	.LCB6941:
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 7268              		.loc 1 3640 5 is_stmt 1 view .LVU2303
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 7269              		.loc 1 3640 8 is_stmt 0 view .LVU2304
 7270 01b4 0029     		cmp	r1, #0
 7271 01b6 00D0     		beq	.LCB6944
 7272 01b8 45E7     		b	.L444	@long jump
 7273              	.LCB6944:
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 7274              		.loc 1 3641 6 is_stmt 1 view .LVU2305
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 7275              		.loc 1 3641 11 is_stmt 0 view .LVU2306
 7276 01ba A068     		ldr	r0, [r4, #8]
 7277              	.LVL900:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 7278              		.loc 1 3642 6 is_stmt 1 view .LVU2307
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 7279              		.loc 1 3642 9 is_stmt 0 view .LVU2308
 7280 01bc 0028     		cmp	r0, #0
 7281 01be 00D0     		beq	.LCB6951
 7282 01c0 4AE7     		b	.L445	@long jump
 7283              	.LCB6951:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7284              		.loc 1 3643 7 is_stmt 1 view .LVU2309
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7285              		.loc 1 3643 14 is_stmt 0 view .LVU2310
 7286 01c2 2000     		movs	r0, r4
 7287              	.LVL901:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7288              		.loc 1 3643 14 view .LVU2311
 7289 01c4 FFF7FEFF 		bl	create_chain
 7290              	.LVL902:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7291              		.loc 1 3643 14 view .LVU2312
 7292 01c8 43E7     		b	.L446
 7293              	.LVL903:
 7294              	.L472:
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 7295              		.loc 1 3702 26 view .LVU2313
 7296 01ca 2100     		movs	r1, r4
 7297 01cc 3031     		adds	r1, r1, #48
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 7298              		.loc 1 3702 5 view .LVU2314
 7299 01ce 5346     		mov	r3, r10
ARM GAS  /tmp/ccVOuidm.s 			page 267


 7300 01d0 5878     		ldrb	r0, [r3, #1]
 7301              	.LVL904:
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 7302              		.loc 1 3702 5 view .LVU2315
 7303 01d2 0123     		movs	r3, #1
 7304 01d4 3A00     		movs	r2, r7
 7305 01d6 FFF7FEFF 		bl	disk_read
 7306              	.LVL905:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 7307              		.loc 1 3701 32 view .LVU2316
 7308 01da 0028     		cmp	r0, #0
 7309 01dc B6D0     		beq	.L459
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7310              		.loc 1 3703 6 is_stmt 1 view .LVU2317
 7311 01de 0123     		movs	r3, #1
 7312 01e0 6375     		strb	r3, [r4, #21]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7313              		.loc 1 3703 6 view .LVU2318
 7314 01e2 9946     		mov	r9, r3
 7315              	.LVL906:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7316              		.loc 1 3703 6 is_stmt 0 view .LVU2319
 7317 01e4 6AE7     		b	.L440
 7318              	.LVL907:
 7319              	.L448:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7320              		.loc 1 3720 2 is_stmt 1 view .LVU2320
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7321              		.loc 1 3720 4 is_stmt 0 view .LVU2321
 7322 01e6 237D     		ldrb	r3, [r4, #20]
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7323              		.loc 1 3720 11 view .LVU2322
 7324 01e8 4022     		movs	r2, #64
 7325 01ea 1343     		orrs	r3, r2
 7326 01ec 2375     		strb	r3, [r4, #20]
3722:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7327              		.loc 1 3722 2 is_stmt 1 view .LVU2323
 7328 01ee 65E7     		b	.L440
 7329              	.LVL908:
 7330              	.L464:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7331              		.loc 1 3628 30 is_stmt 0 discriminator 1 view .LVU2324
 7332 01f0 0723     		movs	r3, #7
 7333 01f2 9946     		mov	r9, r3
 7334              	.LVL909:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7335              		.loc 1 3628 30 discriminator 1 view .LVU2325
 7336 01f4 62E7     		b	.L440
 7337              		.cfi_endproc
 7338              	.LFE534:
 7340              		.section	.text.putc_bfd,"ax",%progbits
 7341              		.align	1
 7342              		.syntax unified
 7343              		.code	16
 7344              		.thumb_func
 7346              	putc_bfd:
 7347              	.LVL910:
ARM GAS  /tmp/ccVOuidm.s 			page 268


 7348              	.LFB549:
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 7349              		.loc 1 5921 1 is_stmt 1 view -0
 7350              		.cfi_startproc
 7351              		@ args = 0, pretend = 0, frame = 8
 7352              		@ frame_needed = 0, uses_anonymous_args = 0
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 7353              		.loc 1 5921 1 is_stmt 0 view .LVU2327
 7354 0000 70B5     		push	{r4, r5, r6, lr}
 7355              	.LCFI50:
 7356              		.cfi_def_cfa_offset 16
 7357              		.cfi_offset 4, -16
 7358              		.cfi_offset 5, -12
 7359              		.cfi_offset 6, -8
 7360              		.cfi_offset 14, -4
 7361 0002 82B0     		sub	sp, sp, #8
 7362              	.LCFI51:
 7363              		.cfi_def_cfa_offset 24
 7364 0004 0400     		movs	r4, r0
 7365 0006 0D00     		movs	r5, r1
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 7366              		.loc 1 5922 2 is_stmt 1 view .LVU2328
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7367              		.loc 1 5923 2 view .LVU2329
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 7368              		.loc 1 5926 2 view .LVU2330
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 7369              		.loc 1 5926 5 is_stmt 0 view .LVU2331
 7370 0008 0A29     		cmp	r1, #10
 7371 000a 0DD0     		beq	.L479
 7372              	.LVL911:
 7373              	.L474:
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 7374              		.loc 1 5930 2 is_stmt 1 view .LVU2332
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 7375              		.loc 1 5930 4 is_stmt 0 view .LVU2333
 7376 000c 6368     		ldr	r3, [r4, #4]
 7377              	.LVL912:
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7378              		.loc 1 5931 2 is_stmt 1 view .LVU2334
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7379              		.loc 1 5931 5 is_stmt 0 view .LVU2335
 7380 000e 002B     		cmp	r3, #0
 7381 0010 08DB     		blt	.L473
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7382              		.loc 1 5960 2 is_stmt 1 view .LVU2336
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7383              		.loc 1 5960 11 is_stmt 0 view .LVU2337
 7384 0012 5E1C     		adds	r6, r3, #1
 7385              	.LVL913:
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7386              		.loc 1 5960 15 view .LVU2338
 7387 0014 E318     		adds	r3, r4, r3
 7388 0016 1D73     		strb	r5, [r3, #12]
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 7389              		.loc 1 5963 2 is_stmt 1 view .LVU2339
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
ARM GAS  /tmp/ccVOuidm.s 			page 269


 7390              		.loc 1 5963 5 is_stmt 0 view .LVU2340
 7391 0018 3C2E     		cmp	r6, #60
 7392 001a 09DC     		bgt	.L480
 7393              	.LVL914:
 7394              	.L477:
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 7395              		.loc 1 5967 2 is_stmt 1 view .LVU2341
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 7396              		.loc 1 5967 10 is_stmt 0 view .LVU2342
 7397 001c 6660     		str	r6, [r4, #4]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7398              		.loc 1 5968 2 is_stmt 1 view .LVU2343
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7399              		.loc 1 5968 4 is_stmt 0 view .LVU2344
 7400 001e A368     		ldr	r3, [r4, #8]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7401              		.loc 1 5968 10 view .LVU2345
 7402 0020 0133     		adds	r3, r3, #1
 7403 0022 A360     		str	r3, [r4, #8]
 7404              	.LVL915:
 7405              	.L473:
5969:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7406              		.loc 1 5969 1 view .LVU2346
 7407 0024 02B0     		add	sp, sp, #8
 7408              		@ sp needed
 7409              	.LVL916:
 7410              	.LVL917:
5969:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7411              		.loc 1 5969 1 view .LVU2347
 7412 0026 70BD     		pop	{r4, r5, r6, pc}
 7413              	.LVL918:
 7414              	.L479:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7415              		.loc 1 5927 3 is_stmt 1 view .LVU2348
 7416 0028 0D21     		movs	r1, #13
 7417              	.LVL919:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7418              		.loc 1 5927 3 is_stmt 0 view .LVU2349
 7419 002a FFF7E9FF 		bl	putc_bfd
 7420              	.LVL920:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7421              		.loc 1 5927 3 view .LVU2350
 7422 002e EDE7     		b	.L474
 7423              	.LVL921:
 7424              	.L480:
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 7425              		.loc 1 5964 3 is_stmt 1 view .LVU2351
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 7426              		.loc 1 5964 21 is_stmt 0 view .LVU2352
 7427 0030 2100     		movs	r1, r4
 7428 0032 0C31     		adds	r1, r1, #12
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 7429              		.loc 1 5964 3 view .LVU2353
 7430 0034 2068     		ldr	r0, [r4]
 7431 0036 01AB     		add	r3, sp, #4
 7432 0038 3200     		movs	r2, r6
 7433 003a FFF7FEFF 		bl	f_write
ARM GAS  /tmp/ccVOuidm.s 			page 270


 7434              	.LVL922:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7435              		.loc 1 5965 3 is_stmt 1 view .LVU2354
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7436              		.loc 1 5965 11 is_stmt 0 view .LVU2355
 7437 003e 019B     		ldr	r3, [sp, #4]
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7438              		.loc 1 5965 27 view .LVU2356
 7439 0040 9E42     		cmp	r6, r3
 7440 0042 02D0     		beq	.L481
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7441              		.loc 1 5965 27 discriminator 2 view .LVU2357
 7442 0044 0126     		movs	r6, #1
 7443              	.LVL923:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7444              		.loc 1 5965 27 discriminator 2 view .LVU2358
 7445 0046 7642     		rsbs	r6, r6, #0
 7446 0048 E8E7     		b	.L477
 7447              	.LVL924:
 7448              	.L481:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7449              		.loc 1 5965 27 discriminator 1 view .LVU2359
 7450 004a 0026     		movs	r6, #0
 7451              	.LVL925:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7452              		.loc 1 5965 27 discriminator 1 view .LVU2360
 7453 004c E6E7     		b	.L477
 7454              		.cfi_endproc
 7455              	.LFE549:
 7457              		.section	.text.putc_flush,"ax",%progbits
 7458              		.align	1
 7459              		.syntax unified
 7460              		.code	16
 7461              		.thumb_func
 7463              	putc_flush:
 7464              	.LVL926:
 7465              	.LFB550:
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 7466              		.loc 1 5976 1 is_stmt 1 view -0
 7467              		.cfi_startproc
 7468              		@ args = 0, pretend = 0, frame = 8
 7469              		@ frame_needed = 0, uses_anonymous_args = 0
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 7470              		.loc 1 5976 1 is_stmt 0 view .LVU2362
 7471 0000 10B5     		push	{r4, lr}
 7472              	.LCFI52:
 7473              		.cfi_def_cfa_offset 8
 7474              		.cfi_offset 4, -8
 7475              		.cfi_offset 14, -4
 7476 0002 82B0     		sub	sp, sp, #8
 7477              	.LCFI53:
 7478              		.cfi_def_cfa_offset 16
 7479 0004 0400     		movs	r4, r0
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7480              		.loc 1 5977 2 is_stmt 1 view .LVU2363
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 7481              		.loc 1 5979 2 view .LVU2364
ARM GAS  /tmp/ccVOuidm.s 			page 271


5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 7482              		.loc 1 5979 11 is_stmt 0 view .LVU2365
 7483 0006 4268     		ldr	r2, [r0, #4]
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 7484              		.loc 1 5979 5 view .LVU2366
 7485 0008 002A     		cmp	r2, #0
 7486 000a 0EDB     		blt	.L484
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 7487              		.loc 1 5980 24 view .LVU2367
 7488 000c 0100     		movs	r1, r0
 7489 000e 0C31     		adds	r1, r1, #12
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 7490              		.loc 1 5980 6 view .LVU2368
 7491 0010 0068     		ldr	r0, [r0]
 7492              	.LVL927:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 7493              		.loc 1 5980 6 view .LVU2369
 7494 0012 01AB     		add	r3, sp, #4
 7495 0014 FFF7FEFF 		bl	f_write
 7496              	.LVL928:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 7497              		.loc 1 5980 3 discriminator 1 view .LVU2370
 7498 0018 0028     		cmp	r0, #0
 7499 001a 09D1     		bne	.L485
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 7500              		.loc 1 5981 14 view .LVU2371
 7501 001c 6268     		ldr	r2, [r4, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 7502              		.loc 1 5981 20 view .LVU2372
 7503 001e 019B     		ldr	r3, [sp, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 7504              		.loc 1 5981 3 view .LVU2373
 7505 0020 9A42     		cmp	r2, r3
 7506 0022 08D1     		bne	.L486
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 7507              		.loc 1 5981 27 is_stmt 1 discriminator 1 view .LVU2374
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 7508              		.loc 1 5981 36 is_stmt 0 discriminator 1 view .LVU2375
 7509 0024 A068     		ldr	r0, [r4, #8]
 7510              	.L482:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7511              		.loc 1 5983 1 view .LVU2376
 7512 0026 02B0     		add	sp, sp, #8
 7513              		@ sp needed
 7514              	.LVL929:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7515              		.loc 1 5983 1 view .LVU2377
 7516 0028 10BD     		pop	{r4, pc}
 7517              	.LVL930:
 7518              	.L484:
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7519              		.loc 1 5982 9 view .LVU2378
 7520 002a 0120     		movs	r0, #1
 7521              	.LVL931:
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7522              		.loc 1 5982 9 view .LVU2379
 7523 002c 4042     		rsbs	r0, r0, #0
ARM GAS  /tmp/ccVOuidm.s 			page 272


 7524 002e FAE7     		b	.L482
 7525              	.L485:
 7526 0030 0120     		movs	r0, #1
 7527 0032 4042     		rsbs	r0, r0, #0
 7528 0034 F7E7     		b	.L482
 7529              	.L486:
 7530 0036 0120     		movs	r0, #1
 7531 0038 4042     		rsbs	r0, r0, #0
 7532 003a F4E7     		b	.L482
 7533              		.cfi_endproc
 7534              	.LFE550:
 7536              		.section	.text.f_sync,"ax",%progbits
 7537              		.align	1
 7538              		.global	f_sync
 7539              		.syntax unified
 7540              		.code	16
 7541              		.thumb_func
 7543              	f_sync:
 7544              	.LVL932:
 7545              	.LFB535:
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7546              		.loc 1 3735 1 is_stmt 1 view -0
 7547              		.cfi_startproc
 7548              		@ args = 0, pretend = 0, frame = 8
 7549              		@ frame_needed = 0, uses_anonymous_args = 0
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7550              		.loc 1 3735 1 is_stmt 0 view .LVU2381
 7551 0000 70B5     		push	{r4, r5, r6, lr}
 7552              	.LCFI54:
 7553              		.cfi_def_cfa_offset 16
 7554              		.cfi_offset 4, -16
 7555              		.cfi_offset 5, -12
 7556              		.cfi_offset 6, -8
 7557              		.cfi_offset 14, -4
 7558 0002 82B0     		sub	sp, sp, #8
 7559              	.LCFI55:
 7560              		.cfi_def_cfa_offset 24
 7561 0004 0400     		movs	r4, r0
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7562              		.loc 1 3736 2 is_stmt 1 view .LVU2382
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 7563              		.loc 1 3737 2 view .LVU2383
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 7564              		.loc 1 3738 2 view .LVU2384
3739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7565              		.loc 1 3739 2 view .LVU2385
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7566              		.loc 1 3745 2 view .LVU2386
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7567              		.loc 1 3745 8 is_stmt 0 view .LVU2387
 7568 0006 01A9     		add	r1, sp, #4
 7569 0008 FFF7FEFF 		bl	validate
 7570              	.LVL933:
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 7571              		.loc 1 3746 2 is_stmt 1 view .LVU2388
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 7572              		.loc 1 3746 5 is_stmt 0 view .LVU2389
ARM GAS  /tmp/ccVOuidm.s 			page 273


 7573 000c 0028     		cmp	r0, #0
 7574 000e 0ED1     		bne	.L488
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7575              		.loc 1 3747 3 is_stmt 1 view .LVU2390
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7576              		.loc 1 3747 9 is_stmt 0 view .LVU2391
 7577 0010 237D     		ldrb	r3, [r4, #20]
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7578              		.loc 1 3747 6 view .LVU2392
 7579 0012 5A06     		lsls	r2, r3, #25
 7580 0014 0BD5     		bpl	.L488
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 7581              		.loc 1 3749 4 is_stmt 1 view .LVU2393
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 7582              		.loc 1 3749 8 is_stmt 0 view .LVU2394
 7583 0016 5BB2     		sxtb	r3, r3
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 7584              		.loc 1 3749 7 view .LVU2395
 7585 0018 002B     		cmp	r3, #0
 7586 001a 0ADB     		blt	.L492
 7587              	.LVL934:
 7588              	.L489:
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7589              		.loc 1 3755 4 is_stmt 1 view .LVU2396
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7590              		.loc 1 3755 9 is_stmt 0 view .LVU2397
 7591 001c FFF7FEFF 		bl	get_fattime
 7592              	.LVL935:
 7593 0020 0500     		movs	r5, r0
 7594              	.LVL936:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 7595              		.loc 1 3785 5 is_stmt 1 view .LVU2398
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 7596              		.loc 1 3785 11 is_stmt 0 view .LVU2399
 7597 0022 616A     		ldr	r1, [r4, #36]
 7598 0024 0198     		ldr	r0, [sp, #4]
 7599              	.LVL937:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 7600              		.loc 1 3785 11 view .LVU2400
 7601 0026 FFF7FEFF 		bl	move_window
 7602              	.LVL938:
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 7603              		.loc 1 3786 5 is_stmt 1 view .LVU2401
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 7604              		.loc 1 3786 8 is_stmt 0 view .LVU2402
 7605 002a 0028     		cmp	r0, #0
 7606 002c 10D0     		beq	.L493
 7607              	.LVL939:
 7608              	.L488:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7609              		.loc 1 3802 1 view .LVU2403
 7610 002e 02B0     		add	sp, sp, #8
 7611              		@ sp needed
 7612              	.LVL940:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7613              		.loc 1 3802 1 view .LVU2404
 7614 0030 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccVOuidm.s 			page 274


 7615              	.LVL941:
 7616              	.L492:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7617              		.loc 1 3750 5 is_stmt 1 view .LVU2405
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7618              		.loc 1 3750 22 is_stmt 0 view .LVU2406
 7619 0032 019B     		ldr	r3, [sp, #4]
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7620              		.loc 1 3750 31 view .LVU2407
 7621 0034 2100     		movs	r1, r4
 7622 0036 3031     		adds	r1, r1, #48
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7623              		.loc 1 3750 9 view .LVU2408
 7624 0038 226A     		ldr	r2, [r4, #32]
 7625 003a 5878     		ldrb	r0, [r3, #1]
 7626              	.LVL942:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7627              		.loc 1 3750 9 view .LVU2409
 7628 003c 0123     		movs	r3, #1
 7629 003e FFF7FEFF 		bl	disk_write
 7630              	.LVL943:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7631              		.loc 1 3750 8 discriminator 1 view .LVU2410
 7632 0042 0028     		cmp	r0, #0
 7633 0044 28D1     		bne	.L490
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7634              		.loc 1 3751 5 is_stmt 1 view .LVU2411
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7635              		.loc 1 3751 7 is_stmt 0 view .LVU2412
 7636 0046 227D     		ldrb	r2, [r4, #20]
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7637              		.loc 1 3751 14 view .LVU2413
 7638 0048 7F23     		movs	r3, #127
 7639 004a 1340     		ands	r3, r2
 7640 004c 2375     		strb	r3, [r4, #20]
 7641 004e E5E7     		b	.L489
 7642              	.LVL944:
 7643              	.L493:
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 7644              		.loc 1 3787 6 is_stmt 1 view .LVU2414
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 7645              		.loc 1 3787 10 is_stmt 0 view .LVU2415
 7646 0050 A66A     		ldr	r6, [r4, #40]
 7647              	.LVL945:
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 7648              		.loc 1 3788 6 is_stmt 1 view .LVU2416
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 7649              		.loc 1 3788 9 is_stmt 0 view .LVU2417
 7650 0052 F37A     		ldrb	r3, [r6, #11]
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 7651              		.loc 1 3788 20 view .LVU2418
 7652 0054 2022     		movs	r2, #32
 7653 0056 1343     		orrs	r3, r2
 7654 0058 F372     		strb	r3, [r6, #11]
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 7655              		.loc 1 3789 6 is_stmt 1 view .LVU2419
 7656 005a A268     		ldr	r2, [r4, #8]
ARM GAS  /tmp/ccVOuidm.s 			page 275


 7657 005c 2068     		ldr	r0, [r4]
 7658              	.LVL946:
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 7659              		.loc 1 3789 6 is_stmt 0 view .LVU2420
 7660 005e 3100     		movs	r1, r6
 7661 0060 FFF7FEFF 		bl	st_clust
 7662              	.LVL947:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 7663              		.loc 1 3790 6 is_stmt 1 view .LVU2421
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 7664              		.loc 1 3790 49 is_stmt 0 view .LVU2422
 7665 0064 E168     		ldr	r1, [r4, #12]
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 7666              		.loc 1 3790 6 view .LVU2423
 7667 0066 3000     		movs	r0, r6
 7668 0068 1C30     		adds	r0, r0, #28
 7669 006a FFF7FEFF 		bl	st_dword
 7670              	.LVL948:
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
 7671              		.loc 1 3791 6 is_stmt 1 view .LVU2424
 7672 006e 3000     		movs	r0, r6
 7673 0070 1630     		adds	r0, r0, #22
 7674 0072 2900     		movs	r1, r5
 7675 0074 FFF7FEFF 		bl	st_dword
 7676              	.LVL949:
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7677              		.loc 1 3792 6 view .LVU2425
 7678 0078 3000     		movs	r0, r6
 7679 007a 1230     		adds	r0, r0, #18
 7680 007c 0021     		movs	r1, #0
 7681 007e FFF7FEFF 		bl	st_word
 7682              	.LVL950:
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 7683              		.loc 1 3793 6 view .LVU2426
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 7684              		.loc 1 3793 8 is_stmt 0 view .LVU2427
 7685 0082 019B     		ldr	r3, [sp, #4]
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 7686              		.loc 1 3793 16 view .LVU2428
 7687 0084 0122     		movs	r2, #1
 7688 0086 DA70     		strb	r2, [r3, #3]
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 7689              		.loc 1 3794 6 is_stmt 1 view .LVU2429
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 7690              		.loc 1 3794 12 is_stmt 0 view .LVU2430
 7691 0088 0198     		ldr	r0, [sp, #4]
 7692 008a FFF7FEFF 		bl	sync_fs
 7693              	.LVL951:
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7694              		.loc 1 3795 6 is_stmt 1 view .LVU2431
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7695              		.loc 1 3795 8 is_stmt 0 view .LVU2432
 7696 008e 237D     		ldrb	r3, [r4, #20]
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7697              		.loc 1 3795 15 view .LVU2433
 7698 0090 4022     		movs	r2, #64
 7699 0092 9343     		bics	r3, r2
ARM GAS  /tmp/ccVOuidm.s 			page 276


 7700 0094 2375     		strb	r3, [r4, #20]
 7701 0096 CAE7     		b	.L488
 7702              	.LVL952:
 7703              	.L490:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7704              		.loc 1 3750 62 discriminator 1 view .LVU2434
 7705 0098 0120     		movs	r0, #1
 7706 009a C8E7     		b	.L488
 7707              		.cfi_endproc
 7708              	.LFE535:
 7710              		.section	.text.f_close,"ax",%progbits
 7711              		.align	1
 7712              		.global	f_close
 7713              		.syntax unified
 7714              		.code	16
 7715              		.thumb_func
 7717              	f_close:
 7718              	.LVL953:
 7719              	.LFB536:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7720              		.loc 1 3816 1 is_stmt 1 view -0
 7721              		.cfi_startproc
 7722              		@ args = 0, pretend = 0, frame = 8
 7723              		@ frame_needed = 0, uses_anonymous_args = 0
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7724              		.loc 1 3816 1 is_stmt 0 view .LVU2436
 7725 0000 10B5     		push	{r4, lr}
 7726              	.LCFI56:
 7727              		.cfi_def_cfa_offset 8
 7728              		.cfi_offset 4, -8
 7729              		.cfi_offset 14, -4
 7730 0002 82B0     		sub	sp, sp, #8
 7731              	.LCFI57:
 7732              		.cfi_def_cfa_offset 16
 7733 0004 0400     		movs	r4, r0
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7734              		.loc 1 3817 2 is_stmt 1 view .LVU2437
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7735              		.loc 1 3818 2 view .LVU2438
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 7736              		.loc 1 3821 2 view .LVU2439
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 7737              		.loc 1 3821 8 is_stmt 0 view .LVU2440
 7738 0006 FFF7FEFF 		bl	f_sync
 7739              	.LVL954:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7740              		.loc 1 3822 2 is_stmt 1 view .LVU2441
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7741              		.loc 1 3822 5 is_stmt 0 view .LVU2442
 7742 000a 0028     		cmp	r0, #0
 7743 000c 01D0     		beq	.L496
 7744              	.LVL955:
 7745              	.L495:
3839:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7746              		.loc 1 3839 2 is_stmt 1 view .LVU2443
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7747              		.loc 1 3840 1 is_stmt 0 view .LVU2444
ARM GAS  /tmp/ccVOuidm.s 			page 277


 7748 000e 02B0     		add	sp, sp, #8
 7749              		@ sp needed
 7750              	.LVL956:
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7751              		.loc 1 3840 1 view .LVU2445
 7752 0010 10BD     		pop	{r4, pc}
 7753              	.LVL957:
 7754              	.L496:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7755              		.loc 1 3825 3 is_stmt 1 view .LVU2446
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7756              		.loc 1 3825 9 is_stmt 0 view .LVU2447
 7757 0012 01A9     		add	r1, sp, #4
 7758 0014 2000     		movs	r0, r4
 7759              	.LVL958:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7760              		.loc 1 3825 9 view .LVU2448
 7761 0016 FFF7FEFF 		bl	validate
 7762              	.LVL959:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7763              		.loc 1 3826 3 is_stmt 1 view .LVU2449
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7764              		.loc 1 3826 6 is_stmt 0 view .LVU2450
 7765 001a 0028     		cmp	r0, #0
 7766 001c F7D1     		bne	.L495
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7767              		.loc 1 3828 4 is_stmt 1 view .LVU2451
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7768              		.loc 1 3828 10 is_stmt 0 view .LVU2452
 7769 001e 2069     		ldr	r0, [r4, #16]
 7770              	.LVL960:
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7771              		.loc 1 3828 10 view .LVU2453
 7772 0020 FFF7FEFF 		bl	dec_lock
 7773              	.LVL961:
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7774              		.loc 1 3829 4 is_stmt 1 view .LVU2454
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7775              		.loc 1 3829 7 is_stmt 0 view .LVU2455
 7776 0024 0028     		cmp	r0, #0
 7777 0026 F2D1     		bne	.L495
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7778              		.loc 1 3832 5 is_stmt 1 view .LVU2456
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7779              		.loc 1 3832 16 is_stmt 0 view .LVU2457
 7780 0028 0023     		movs	r3, #0
 7781 002a 2360     		str	r3, [r4]
 7782 002c EFE7     		b	.L495
 7783              		.cfi_endproc
 7784              	.LFE536:
 7786              		.section	.text.f_lseek,"ax",%progbits
 7787              		.align	1
 7788              		.global	f_lseek
 7789              		.syntax unified
 7790              		.code	16
 7791              		.thumb_func
 7793              	f_lseek:
ARM GAS  /tmp/ccVOuidm.s 			page 278


 7794              	.LVL962:
 7795              	.LFB537:
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7796              		.loc 1 4005 1 is_stmt 1 view -0
 7797              		.cfi_startproc
 7798              		@ args = 0, pretend = 0, frame = 8
 7799              		@ frame_needed = 0, uses_anonymous_args = 0
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7800              		.loc 1 4005 1 is_stmt 0 view .LVU2459
 7801 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7802              	.LCFI58:
 7803              		.cfi_def_cfa_offset 20
 7804              		.cfi_offset 4, -20
 7805              		.cfi_offset 5, -16
 7806              		.cfi_offset 6, -12
 7807              		.cfi_offset 7, -8
 7808              		.cfi_offset 14, -4
 7809 0002 DE46     		mov	lr, fp
 7810 0004 5746     		mov	r7, r10
 7811 0006 4E46     		mov	r6, r9
 7812 0008 4546     		mov	r5, r8
 7813 000a E0B5     		push	{r5, r6, r7, lr}
 7814              	.LCFI59:
 7815              		.cfi_def_cfa_offset 36
 7816              		.cfi_offset 8, -36
 7817              		.cfi_offset 9, -32
 7818              		.cfi_offset 10, -28
 7819              		.cfi_offset 11, -24
 7820 000c 83B0     		sub	sp, sp, #12
 7821              	.LCFI60:
 7822              		.cfi_def_cfa_offset 48
 7823 000e 0400     		movs	r4, r0
 7824 0010 0D00     		movs	r5, r1
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7825              		.loc 1 4006 2 is_stmt 1 view .LVU2460
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
 7826              		.loc 1 4007 2 view .LVU2461
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
 7827              		.loc 1 4008 2 view .LVU2462
4009:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 7828              		.loc 1 4009 2 view .LVU2463
4011:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7829              		.loc 1 4011 2 view .LVU2464
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7830              		.loc 1 4014 2 view .LVU2465
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7831              		.loc 1 4014 8 is_stmt 0 view .LVU2466
 7832 0012 01A9     		add	r1, sp, #4
 7833              	.LVL963:
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7834              		.loc 1 4014 8 view .LVU2467
 7835 0014 FFF7FEFF 		bl	validate
 7836              	.LVL964:
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7837              		.loc 1 4014 8 view .LVU2468
 7838 0018 061E     		subs	r6, r0, #0
 7839              	.LVL965:
ARM GAS  /tmp/ccVOuidm.s 			page 279


4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 7840              		.loc 1 4015 2 is_stmt 1 view .LVU2469
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 7841              		.loc 1 4015 5 is_stmt 0 view .LVU2470
 7842 001a 0FD1     		bne	.L500
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 7843              		.loc 1 4015 20 is_stmt 1 discriminator 1 view .LVU2471
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 7844              		.loc 1 4015 24 is_stmt 0 discriminator 1 view .LVU2472
 7845 001c 667D     		ldrb	r6, [r4, #21]
 7846              	.LVL966:
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7847              		.loc 1 4021 2 is_stmt 1 view .LVU2473
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7848              		.loc 1 4021 5 is_stmt 0 view .LVU2474
 7849 001e 002E     		cmp	r6, #0
 7850 0020 0CD1     		bne	.L500
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7851              		.loc 1 4024 2 is_stmt 1 view .LVU2475
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7852              		.loc 1 4024 8 is_stmt 0 view .LVU2476
 7853 0022 E36A     		ldr	r3, [r4, #44]
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7854              		.loc 1 4024 5 view .LVU2477
 7855 0024 002B     		cmp	r3, #0
 7856 0026 00D1     		bne	.LCB7459
 7857 0028 91E0     		b	.L501	@long jump
 7858              	.LCB7459:
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 7859              		.loc 1 4025 3 is_stmt 1 view .LVU2478
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 7860              		.loc 1 4025 6 is_stmt 0 view .LVU2479
 7861 002a 6A1C     		adds	r2, r5, #1
 7862 002c 0ED0     		beq	.L541
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 7863              		.loc 1 4051 4 is_stmt 1 view .LVU2480
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 7864              		.loc 1 4051 21 is_stmt 0 view .LVU2481
 7865 002e E768     		ldr	r7, [r4, #12]
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 7866              		.loc 1 4051 7 view .LVU2482
 7867 0030 AF42     		cmp	r7, r5
 7868 0032 00D3     		bcc	.L509
 7869 0034 2F00     		movs	r7, r5
 7870              	.L509:
 7871              	.LVL967:
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 7872              		.loc 1 4052 4 is_stmt 1 view .LVU2483
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 7873              		.loc 1 4052 13 is_stmt 0 view .LVU2484
 7874 0036 A761     		str	r7, [r4, #24]
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 7875              		.loc 1 4053 4 is_stmt 1 view .LVU2485
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 7876              		.loc 1 4053 7 is_stmt 0 view .LVU2486
 7877 0038 002F     		cmp	r7, #0
 7878 003a 45D1     		bne	.L542
ARM GAS  /tmp/ccVOuidm.s 			page 280


 7879              	.LVL968:
 7880              	.L500:
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7881              		.loc 1 4153 1 view .LVU2487
 7882 003c 3000     		movs	r0, r6
 7883 003e 03B0     		add	sp, sp, #12
 7884              		@ sp needed
 7885              	.LVL969:
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7886              		.loc 1 4153 1 view .LVU2488
 7887 0040 F0BC     		pop	{r4, r5, r6, r7}
 7888 0042 BB46     		mov	fp, r7
 7889 0044 B246     		mov	r10, r6
 7890 0046 A946     		mov	r9, r5
 7891 0048 A046     		mov	r8, r4
 7892 004a F0BD     		pop	{r4, r5, r6, r7, pc}
 7893              	.LVL970:
 7894              	.L541:
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 7895              		.loc 1 4026 4 is_stmt 1 view .LVU2489
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7896              		.loc 1 4027 4 view .LVU2490
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7897              		.loc 1 4027 9 is_stmt 0 view .LVU2491
 7898 004c 04CB     		ldmia	r3!, {r2}
 7899 004e 9346     		mov	fp, r2
 7900 0050 9846     		mov	r8, r3
 7901              	.LVL971:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7902              		.loc 1 4027 19 is_stmt 1 view .LVU2492
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 7903              		.loc 1 4028 4 view .LVU2493
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 7904              		.loc 1 4028 7 is_stmt 0 view .LVU2494
 7905 0052 A368     		ldr	r3, [r4, #8]
 7906 0054 9A46     		mov	r10, r3
 7907              	.LVL972:
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7908              		.loc 1 4029 4 is_stmt 1 view .LVU2495
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7909              		.loc 1 4029 7 is_stmt 0 view .LVU2496
 7910 0056 002B     		cmp	r3, #0
 7911 0058 2AD0     		beq	.L534
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7912              		.loc 1 4027 24 view .LVU2497
 7913 005a 0223     		movs	r3, #2
 7914              	.LVL973:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7915              		.loc 1 4027 24 view .LVU2498
 7916 005c 9946     		mov	r9, r3
 7917              	.LVL974:
 7918              	.L508:
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 7919              		.loc 1 4030 5 is_stmt 1 view .LVU2499
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7920              		.loc 1 4032 6 view .LVU2500
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
ARM GAS  /tmp/ccVOuidm.s 			page 281


 7921              		.loc 1 4032 16 view .LVU2501
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7922              		.loc 1 4032 25 view .LVU2502
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7923              		.loc 1 4032 30 is_stmt 0 view .LVU2503
 7924 005e 0223     		movs	r3, #2
 7925 0060 9C46     		mov	ip, r3
 7926 0062 E144     		add	r9, r9, ip
 7927              	.LVL975:
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7928              		.loc 1 4032 30 view .LVU2504
 7929 0064 5146     		mov	r1, r10
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7930              		.loc 1 4032 20 view .LVU2505
 7931 0066 0027     		movs	r7, #0
 7932              	.LVL976:
 7933              	.L506:
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 7934              		.loc 1 4033 6 is_stmt 1 view .LVU2506
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 7935              		.loc 1 4034 7 view .LVU2507
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 7936              		.loc 1 4034 17 view .LVU2508
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 7937              		.loc 1 4034 20 is_stmt 0 view .LVU2509
 7938 0068 0137     		adds	r7, r7, #1
 7939              	.LVL977:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7940              		.loc 1 4035 7 is_stmt 1 view .LVU2510
 7941 006a 0D00     		movs	r5, r1
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7942              		.loc 1 4035 12 is_stmt 0 view .LVU2511
 7943 006c 2000     		movs	r0, r4
 7944 006e FFF7FEFF 		bl	get_fat
 7945              	.LVL978:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7946              		.loc 1 4035 12 view .LVU2512
 7947 0072 0100     		movs	r1, r0
 7948              	.LVL979:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7949              		.loc 1 4036 7 is_stmt 1 view .LVU2513
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7950              		.loc 1 4036 10 is_stmt 0 view .LVU2514
 7951 0074 0128     		cmp	r0, #1
 7952 0076 13D9     		bls	.L543
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7953              		.loc 1 4036 41 is_stmt 1 discriminator 2 view .LVU2515
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7954              		.loc 1 4037 7 view .LVU2516
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7955              		.loc 1 4037 10 is_stmt 0 view .LVU2517
 7956 0078 431C     		adds	r3, r0, #1
 7957 007a 15D0     		beq	.L544
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7958              		.loc 1 4037 51 is_stmt 1 discriminator 2 view .LVU2518
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7959              		.loc 1 4038 18 view .LVU2519
ARM GAS  /tmp/ccVOuidm.s 			page 282


4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7960              		.loc 1 4038 25 is_stmt 0 view .LVU2520
 7961 007c 0135     		adds	r5, r5, #1
 7962              	.LVL980:
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7963              		.loc 1 4038 18 view .LVU2521
 7964 007e 8542     		cmp	r5, r0
 7965 0080 F2D0     		beq	.L506
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 7966              		.loc 1 4039 6 is_stmt 1 view .LVU2522
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 7967              		.loc 1 4039 9 is_stmt 0 view .LVU2523
 7968 0082 CB45     		cmp	fp, r9
 7969 0084 06D3     		bcc	.L507
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7970              		.loc 1 4040 7 is_stmt 1 view .LVU2524
 7971              	.LVL981:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7972              		.loc 1 4040 14 is_stmt 0 view .LVU2525
 7973 0086 4346     		mov	r3, r8
 7974 0088 1F60     		str	r7, [r3]
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7975              		.loc 1 4040 21 is_stmt 1 view .LVU2526
 7976              	.LVL982:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7977              		.loc 1 4040 28 is_stmt 0 view .LVU2527
 7978 008a 5246     		mov	r2, r10
 7979 008c 5A60     		str	r2, [r3, #4]
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7980              		.loc 1 4040 25 view .LVU2528
 7981 008e 0823     		movs	r3, #8
 7982 0090 9C46     		mov	ip, r3
 7983 0092 E044     		add	r8, r8, ip
 7984              	.LVL983:
 7985              	.L507:
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7986              		.loc 1 4042 17 is_stmt 1 view .LVU2529
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7987              		.loc 1 4042 21 is_stmt 0 view .LVU2530
 7988 0094 019B     		ldr	r3, [sp, #4]
 7989 0096 5B69     		ldr	r3, [r3, #20]
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7990              		.loc 1 4042 17 view .LVU2531
 7991 0098 8B42     		cmp	r3, r1
 7992 009a 0BD9     		bls	.L503
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7993              		.loc 1 4035 12 view .LVU2532
 7994 009c 8A46     		mov	r10, r1
 7995              	.LVL984:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7996              		.loc 1 4035 12 view .LVU2533
 7997 009e DEE7     		b	.L508
 7998              	.LVL985:
 7999              	.L543:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8000              		.loc 1 4036 20 is_stmt 1 discriminator 1 view .LVU2534
 8001 00a0 0223     		movs	r3, #2
ARM GAS  /tmp/ccVOuidm.s 			page 283


 8002 00a2 6375     		strb	r3, [r4, #21]
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8003              		.loc 1 4036 20 view .LVU2535
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8004              		.loc 1 4036 20 is_stmt 0 discriminator 1 view .LVU2536
 8005 00a4 0226     		movs	r6, #2
 8006              	.LVL986:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8007              		.loc 1 4036 20 view .LVU2537
 8008 00a6 C9E7     		b	.L500
 8009              	.LVL987:
 8010              	.L544:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8011              		.loc 1 4037 29 is_stmt 1 discriminator 1 view .LVU2538
 8012 00a8 0123     		movs	r3, #1
 8013 00aa 6375     		strb	r3, [r4, #21]
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8014              		.loc 1 4037 29 view .LVU2539
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8015              		.loc 1 4037 29 is_stmt 0 discriminator 1 view .LVU2540
 8016 00ac 0126     		movs	r6, #1
 8017              	.LVL988:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8018              		.loc 1 4037 29 view .LVU2541
 8019 00ae C5E7     		b	.L500
 8020              	.LVL989:
 8021              	.L534:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8022              		.loc 1 4027 24 view .LVU2542
 8023 00b0 0223     		movs	r3, #2
 8024              	.LVL990:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8025              		.loc 1 4027 24 view .LVU2543
 8026 00b2 9946     		mov	r9, r3
 8027              	.LVL991:
 8028              	.L503:
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 8029              		.loc 1 4044 4 is_stmt 1 view .LVU2544
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 8030              		.loc 1 4044 7 is_stmt 0 view .LVU2545
 8031 00b4 E36A     		ldr	r3, [r4, #44]
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 8032              		.loc 1 4044 15 view .LVU2546
 8033 00b6 4A46     		mov	r2, r9
 8034 00b8 1A60     		str	r2, [r3]
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 8035              		.loc 1 4045 4 is_stmt 1 view .LVU2547
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 8036              		.loc 1 4045 7 is_stmt 0 view .LVU2548
 8037 00ba D945     		cmp	r9, fp
 8038 00bc 00D9     		bls	.LCB7669
 8039 00be 00E1     		b	.L536	@long jump
 8040              	.LCB7669:
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8041              		.loc 1 4046 5 is_stmt 1 view .LVU2549
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8042              		.loc 1 4046 10 is_stmt 0 view .LVU2550
ARM GAS  /tmp/ccVOuidm.s 			page 284


 8043 00c0 0023     		movs	r3, #0
 8044 00c2 4246     		mov	r2, r8
 8045 00c4 1360     		str	r3, [r2]
 8046 00c6 B9E7     		b	.L500
 8047              	.LVL992:
 8048              	.L542:
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 8049              		.loc 1 4054 5 is_stmt 1 view .LVU2551
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 8050              		.loc 1 4054 17 is_stmt 0 view .LVU2552
 8051 00c8 7D1E     		subs	r5, r7, #1
 8052 00ca 2900     		movs	r1, r5
 8053 00cc 2000     		movs	r0, r4
 8054 00ce FFF7FEFF 		bl	clmt_clust
 8055              	.LVL993:
 8056 00d2 0100     		movs	r1, r0
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 8057              		.loc 1 4054 15 discriminator 1 view .LVU2553
 8058 00d4 E061     		str	r0, [r4, #28]
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 8059              		.loc 1 4055 5 is_stmt 1 view .LVU2554
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 8060              		.loc 1 4055 11 is_stmt 0 view .LVU2555
 8061 00d6 019B     		ldr	r3, [sp, #4]
 8062 00d8 9846     		mov	r8, r3
 8063 00da 1800     		movs	r0, r3
 8064 00dc FFF7FEFF 		bl	clust2sect
 8065              	.LVL994:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8066              		.loc 1 4056 5 is_stmt 1 view .LVU2556
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8067              		.loc 1 4056 8 is_stmt 0 view .LVU2557
 8068 00e0 0028     		cmp	r0, #0
 8069 00e2 1AD0     		beq	.L545
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8070              		.loc 1 4056 36 is_stmt 1 discriminator 2 view .LVU2558
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8071              		.loc 1 4057 5 view .LVU2559
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8072              		.loc 1 4057 12 is_stmt 0 view .LVU2560
 8073 00e4 6B0A     		lsrs	r3, r5, #9
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8074              		.loc 1 4057 45 view .LVU2561
 8075 00e6 4246     		mov	r2, r8
 8076 00e8 5589     		ldrh	r5, [r2, #10]
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8077              		.loc 1 4057 53 view .LVU2562
 8078 00ea 013D     		subs	r5, r5, #1
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8079              		.loc 1 4057 40 view .LVU2563
 8080 00ec 1D40     		ands	r5, r3
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8081              		.loc 1 4057 9 view .LVU2564
 8082 00ee 2D18     		adds	r5, r5, r0
 8083              	.LVL995:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8084              		.loc 1 4058 5 is_stmt 1 view .LVU2565
ARM GAS  /tmp/ccVOuidm.s 			page 285


4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8085              		.loc 1 4058 18 is_stmt 0 view .LVU2566
 8086 00f0 FF05     		lsls	r7, r7, #23
 8087              	.LVL996:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8088              		.loc 1 4058 8 view .LVU2567
 8089 00f2 A3D0     		beq	.L500
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8090              		.loc 1 4058 39 discriminator 1 view .LVU2568
 8091 00f4 226A     		ldr	r2, [r4, #32]
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8092              		.loc 1 4058 27 discriminator 1 view .LVU2569
 8093 00f6 AA42     		cmp	r2, r5
 8094 00f8 A0D0     		beq	.L500
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8095              		.loc 1 4061 6 is_stmt 1 view .LVU2570
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8096              		.loc 1 4061 10 is_stmt 0 view .LVU2571
 8097 00fa 1423     		movs	r3, #20
 8098 00fc E356     		ldrsb	r3, [r4, r3]
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8099              		.loc 1 4061 9 view .LVU2572
 8100 00fe 002B     		cmp	r3, #0
 8101 0100 0FDB     		blt	.L546
 8102              	.L511:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8103              		.loc 1 4066 6 is_stmt 1 view .LVU2573
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8104              		.loc 1 4066 22 is_stmt 0 view .LVU2574
 8105 0102 019B     		ldr	r3, [sp, #4]
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8106              		.loc 1 4066 31 view .LVU2575
 8107 0104 2100     		movs	r1, r4
 8108 0106 3031     		adds	r1, r1, #48
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8109              		.loc 1 4066 10 view .LVU2576
 8110 0108 5878     		ldrb	r0, [r3, #1]
 8111 010a 0123     		movs	r3, #1
 8112 010c 2A00     		movs	r2, r5
 8113 010e FFF7FEFF 		bl	disk_read
 8114              	.LVL997:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8115              		.loc 1 4066 9 discriminator 1 view .LVU2577
 8116 0112 0028     		cmp	r0, #0
 8117 0114 17D1     		bne	.L547
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8118              		.loc 1 4066 79 is_stmt 1 discriminator 2 view .LVU2578
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8119              		.loc 1 4068 6 view .LVU2579
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8120              		.loc 1 4068 15 is_stmt 0 view .LVU2580
 8121 0116 2562     		str	r5, [r4, #32]
 8122 0118 90E7     		b	.L500
 8123              	.LVL998:
 8124              	.L545:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8125              		.loc 1 4056 15 is_stmt 1 discriminator 1 view .LVU2581
ARM GAS  /tmp/ccVOuidm.s 			page 286


 8126 011a 0223     		movs	r3, #2
 8127 011c 6375     		strb	r3, [r4, #21]
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8128              		.loc 1 4056 15 view .LVU2582
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8129              		.loc 1 4056 15 is_stmt 0 discriminator 1 view .LVU2583
 8130 011e 0226     		movs	r6, #2
 8131              	.LVL999:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8132              		.loc 1 4056 15 view .LVU2584
 8133 0120 8CE7     		b	.L500
 8134              	.LVL1000:
 8135              	.L546:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8136              		.loc 1 4062 7 is_stmt 1 view .LVU2585
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8137              		.loc 1 4062 33 is_stmt 0 view .LVU2586
 8138 0122 2100     		movs	r1, r4
 8139 0124 3031     		adds	r1, r1, #48
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8140              		.loc 1 4062 11 view .LVU2587
 8141 0126 4346     		mov	r3, r8
 8142 0128 5878     		ldrb	r0, [r3, #1]
 8143 012a 0123     		movs	r3, #1
 8144 012c FFF7FEFF 		bl	disk_write
 8145              	.LVL1001:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8146              		.loc 1 4062 10 discriminator 1 view .LVU2588
 8147 0130 0028     		cmp	r0, #0
 8148 0132 04D1     		bne	.L548
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8149              		.loc 1 4062 86 is_stmt 1 discriminator 2 view .LVU2589
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8150              		.loc 1 4063 7 view .LVU2590
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8151              		.loc 1 4063 9 is_stmt 0 view .LVU2591
 8152 0134 227D     		ldrb	r2, [r4, #20]
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8153              		.loc 1 4063 16 view .LVU2592
 8154 0136 7F23     		movs	r3, #127
 8155 0138 1340     		ands	r3, r2
 8156 013a 2375     		strb	r3, [r4, #20]
 8157 013c E1E7     		b	.L511
 8158              	.L548:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8159              		.loc 1 4062 64 is_stmt 1 discriminator 1 view .LVU2593
 8160 013e 0123     		movs	r3, #1
 8161 0140 6375     		strb	r3, [r4, #21]
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8162              		.loc 1 4062 64 view .LVU2594
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8163              		.loc 1 4062 64 is_stmt 0 discriminator 1 view .LVU2595
 8164 0142 0126     		movs	r6, #1
 8165              	.LVL1002:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8166              		.loc 1 4062 64 view .LVU2596
 8167 0144 7AE7     		b	.L500
ARM GAS  /tmp/ccVOuidm.s 			page 287


 8168              	.LVL1003:
 8169              	.L547:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8170              		.loc 1 4066 57 is_stmt 1 discriminator 1 view .LVU2597
 8171 0146 0123     		movs	r3, #1
 8172 0148 6375     		strb	r3, [r4, #21]
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8173              		.loc 1 4066 57 view .LVU2598
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8174              		.loc 1 4066 57 is_stmt 0 discriminator 1 view .LVU2599
 8175 014a 0126     		movs	r6, #1
 8176              	.LVL1004:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8177              		.loc 1 4066 57 view .LVU2600
 8178 014c 76E7     		b	.L500
 8179              	.LVL1005:
 8180              	.L501:
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8181              		.loc 1 4080 3 is_stmt 1 view .LVU2601
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8182              		.loc 1 4080 20 is_stmt 0 view .LVU2602
 8183 014e E368     		ldr	r3, [r4, #12]
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8184              		.loc 1 4080 6 view .LVU2603
 8185 0150 AB42     		cmp	r3, r5
 8186 0152 03D2     		bcs	.L514
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8187              		.loc 1 4080 53 discriminator 1 view .LVU2604
 8188 0154 227D     		ldrb	r2, [r4, #20]
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8189              		.loc 1 4080 29 discriminator 1 view .LVU2605
 8190 0156 9207     		lsls	r2, r2, #30
 8191 0158 00D4     		bmi	.L514
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8192              		.loc 1 4081 8 view .LVU2606
 8193 015a 1D00     		movs	r5, r3
 8194              	.LVL1006:
 8195              	.L514:
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 8196              		.loc 1 4083 3 is_stmt 1 view .LVU2607
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 8197              		.loc 1 4083 9 is_stmt 0 view .LVU2608
 8198 015c A369     		ldr	r3, [r4, #24]
 8199 015e 9846     		mov	r8, r3
 8200              	.LVL1007:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8201              		.loc 1 4084 3 is_stmt 1 view .LVU2609
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8202              		.loc 1 4084 12 is_stmt 0 view .LVU2610
 8203 0160 0023     		movs	r3, #0
 8204              	.LVL1008:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8205              		.loc 1 4084 12 view .LVU2611
 8206 0162 A361     		str	r3, [r4, #24]
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 8207              		.loc 1 4085 3 is_stmt 1 view .LVU2612
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
ARM GAS  /tmp/ccVOuidm.s 			page 288


 8208              		.loc 1 4085 6 is_stmt 0 view .LVU2613
 8209 0164 002D     		cmp	r5, #0
 8210 0166 24D0     		beq	.L515
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 8211              		.loc 1 4086 4 is_stmt 1 view .LVU2614
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 8212              		.loc 1 4086 19 is_stmt 0 view .LVU2615
 8213 0168 019B     		ldr	r3, [sp, #4]
 8214 016a 5F89     		ldrh	r7, [r3, #10]
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 8215              		.loc 1 4086 8 view .LVU2616
 8216 016c 7F02     		lsls	r7, r7, #9
 8217              	.LVL1009:
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 8218              		.loc 1 4087 4 is_stmt 1 view .LVU2617
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 8219              		.loc 1 4087 7 is_stmt 0 view .LVU2618
 8220 016e 4346     		mov	r3, r8
 8221 0170 002B     		cmp	r3, #0
 8222 0172 16D0     		beq	.L516
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 8223              		.loc 1 4088 10 view .LVU2619
 8224 0174 681E     		subs	r0, r5, #1
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 8225              		.loc 1 4088 15 view .LVU2620
 8226 0176 3900     		movs	r1, r7
 8227 0178 FFF7FEFF 		bl	__aeabi_uidiv
 8228              	.LVL1010:
 8229 017c 8146     		mov	r9, r0
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 8230              		.loc 1 4088 31 view .LVU2621
 8231 017e 0123     		movs	r3, #1
 8232 0180 5B42     		rsbs	r3, r3, #0
 8233 0182 9C46     		mov	ip, r3
 8234 0184 E044     		add	r8, r8, ip
 8235              	.LVL1011:
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 8236              		.loc 1 4088 36 view .LVU2622
 8237 0186 3900     		movs	r1, r7
 8238 0188 4046     		mov	r0, r8
 8239 018a FFF7FEFF 		bl	__aeabi_uidiv
 8240              	.LVL1012:
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 8241              		.loc 1 4087 18 discriminator 1 view .LVU2623
 8242 018e 8145     		cmp	r9, r0
 8243 0190 07D3     		bcc	.L516
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 8244              		.loc 1 4089 5 is_stmt 1 view .LVU2624
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 8245              		.loc 1 4089 30 is_stmt 0 view .LVU2625
 8246 0192 7B42     		rsbs	r3, r7, #0
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 8247              		.loc 1 4089 28 view .LVU2626
 8248 0194 4246     		mov	r2, r8
 8249 0196 1340     		ands	r3, r2
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 8250              		.loc 1 4089 14 view .LVU2627
ARM GAS  /tmp/ccVOuidm.s 			page 289


 8251 0198 A361     		str	r3, [r4, #24]
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 8252              		.loc 1 4090 5 is_stmt 1 view .LVU2628
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 8253              		.loc 1 4090 9 is_stmt 0 view .LVU2629
 8254 019a EB1A     		subs	r3, r5, r3
 8255 019c 9846     		mov	r8, r3
 8256              	.LVL1013:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 8257              		.loc 1 4091 5 is_stmt 1 view .LVU2630
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 8258              		.loc 1 4091 10 is_stmt 0 view .LVU2631
 8259 019e E569     		ldr	r5, [r4, #28]
 8260              	.LVL1014:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 8261              		.loc 1 4091 10 view .LVU2632
 8262 01a0 05E0     		b	.L517
 8263              	.LVL1015:
 8264              	.L516:
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8265              		.loc 1 4093 5 is_stmt 1 view .LVU2633
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8266              		.loc 1 4093 10 is_stmt 0 view .LVU2634
 8267 01a2 A068     		ldr	r0, [r4, #8]
 8268              	.LVL1016:
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 8269              		.loc 1 4095 5 is_stmt 1 view .LVU2635
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 8270              		.loc 1 4095 8 is_stmt 0 view .LVU2636
 8271 01a4 0028     		cmp	r0, #0
 8272 01a6 24D0     		beq	.L549
 8273              	.L518:
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8274              		.loc 1 4102 5 is_stmt 1 view .LVU2637
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8275              		.loc 1 4102 15 is_stmt 0 view .LVU2638
 8276 01a8 E061     		str	r0, [r4, #28]
 8277 01aa A846     		mov	r8, r5
 8278 01ac 0500     		movs	r5, r0
 8279              	.LVL1017:
 8280              	.L517:
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 8281              		.loc 1 4104 4 is_stmt 1 view .LVU2639
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 8282              		.loc 1 4104 7 is_stmt 0 view .LVU2640
 8283 01ae 002D     		cmp	r5, #0
 8284 01b0 3FD1     		bne	.L521
 8285              	.LVL1018:
 8286              	.L515:
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 8287              		.loc 1 4134 3 is_stmt 1 view .LVU2641
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 8288              		.loc 1 4134 26 is_stmt 0 view .LVU2642
 8289 01b2 A369     		ldr	r3, [r4, #24]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 8290              		.loc 1 4134 42 view .LVU2643
 8291 01b4 E268     		ldr	r2, [r4, #12]
ARM GAS  /tmp/ccVOuidm.s 			page 290


4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 8292              		.loc 1 4134 6 view .LVU2644
 8293 01b6 9342     		cmp	r3, r2
 8294 01b8 04D9     		bls	.L530
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 8295              		.loc 1 4135 4 is_stmt 1 view .LVU2645
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 8296              		.loc 1 4135 20 is_stmt 0 view .LVU2646
 8297 01ba E360     		str	r3, [r4, #12]
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8298              		.loc 1 4136 4 is_stmt 1 view .LVU2647
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8299              		.loc 1 4136 6 is_stmt 0 view .LVU2648
 8300 01bc 227D     		ldrb	r2, [r4, #20]
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8301              		.loc 1 4136 13 view .LVU2649
 8302 01be 4021     		movs	r1, #64
 8303 01c0 0A43     		orrs	r2, r1
 8304 01c2 2275     		strb	r2, [r4, #20]
 8305              	.L530:
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8306              		.loc 1 4138 3 is_stmt 1 view .LVU2650
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8307              		.loc 1 4138 16 is_stmt 0 view .LVU2651
 8308 01c4 DB05     		lsls	r3, r3, #23
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8309              		.loc 1 4138 6 view .LVU2652
 8310 01c6 00D1     		bne	.LCB7924
 8311 01c8 38E7     		b	.L500	@long jump
 8312              	.LCB7924:
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8313              		.loc 1 4138 39 discriminator 1 view .LVU2653
 8314 01ca 226A     		ldr	r2, [r4, #32]
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8315              		.loc 1 4138 25 discriminator 1 view .LVU2654
 8316 01cc AA42     		cmp	r2, r5
 8317 01ce 00D1     		bne	.LCB7927
 8318 01d0 34E7     		b	.L500	@long jump
 8319              	.LCB7927:
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8320              		.loc 1 4141 4 is_stmt 1 view .LVU2655
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8321              		.loc 1 4141 8 is_stmt 0 view .LVU2656
 8322 01d2 1423     		movs	r3, #20
 8323 01d4 E356     		ldrsb	r3, [r4, r3]
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8324              		.loc 1 4141 7 view .LVU2657
 8325 01d6 002B     		cmp	r3, #0
 8326 01d8 5DDB     		blt	.L550
 8327              	.L531:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8328              		.loc 1 4146 4 is_stmt 1 view .LVU2658
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8329              		.loc 1 4146 20 is_stmt 0 view .LVU2659
 8330 01da 019B     		ldr	r3, [sp, #4]
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8331              		.loc 1 4146 29 view .LVU2660
ARM GAS  /tmp/ccVOuidm.s 			page 291


 8332 01dc 2100     		movs	r1, r4
 8333 01de 3031     		adds	r1, r1, #48
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8334              		.loc 1 4146 8 view .LVU2661
 8335 01e0 5878     		ldrb	r0, [r3, #1]
 8336 01e2 0123     		movs	r3, #1
 8337 01e4 2A00     		movs	r2, r5
 8338 01e6 FFF7FEFF 		bl	disk_read
 8339              	.LVL1019:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8340              		.loc 1 4146 7 discriminator 1 view .LVU2662
 8341 01ea 0028     		cmp	r0, #0
 8342 01ec 65D1     		bne	.L551
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8343              		.loc 1 4146 79 is_stmt 1 discriminator 2 view .LVU2663
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8344              		.loc 1 4148 4 view .LVU2664
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8345              		.loc 1 4148 13 is_stmt 0 view .LVU2665
 8346 01ee 2562     		str	r5, [r4, #32]
 8347 01f0 24E7     		b	.L500
 8348              	.LVL1020:
 8349              	.L549:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 8350              		.loc 1 4096 6 is_stmt 1 view .LVU2666
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 8351              		.loc 1 4096 13 is_stmt 0 view .LVU2667
 8352 01f2 0021     		movs	r1, #0
 8353 01f4 2000     		movs	r0, r4
 8354              	.LVL1021:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 8355              		.loc 1 4096 13 view .LVU2668
 8356 01f6 FFF7FEFF 		bl	create_chain
 8357              	.LVL1022:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8358              		.loc 1 4097 6 is_stmt 1 view .LVU2669
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8359              		.loc 1 4097 9 is_stmt 0 view .LVU2670
 8360 01fa 0128     		cmp	r0, #1
 8361 01fc 03D0     		beq	.L552
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8362              		.loc 1 4097 42 is_stmt 1 discriminator 2 view .LVU2671
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8363              		.loc 1 4098 6 view .LVU2672
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8364              		.loc 1 4098 9 is_stmt 0 view .LVU2673
 8365 01fe 431C     		adds	r3, r0, #1
 8366 0200 05D0     		beq	.L553
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8367              		.loc 1 4098 52 is_stmt 1 discriminator 2 view .LVU2674
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8368              		.loc 1 4099 6 view .LVU2675
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8369              		.loc 1 4099 21 is_stmt 0 view .LVU2676
 8370 0202 A060     		str	r0, [r4, #8]
 8371 0204 D0E7     		b	.L518
 8372              	.L552:
ARM GAS  /tmp/ccVOuidm.s 			page 292


4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8373              		.loc 1 4097 21 is_stmt 1 discriminator 1 view .LVU2677
 8374 0206 0223     		movs	r3, #2
 8375 0208 6375     		strb	r3, [r4, #21]
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8376              		.loc 1 4097 21 view .LVU2678
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8377              		.loc 1 4097 21 is_stmt 0 discriminator 1 view .LVU2679
 8378 020a 0226     		movs	r6, #2
 8379              	.LVL1023:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8380              		.loc 1 4097 21 view .LVU2680
 8381 020c 16E7     		b	.L500
 8382              	.LVL1024:
 8383              	.L553:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8384              		.loc 1 4098 30 is_stmt 1 discriminator 1 view .LVU2681
 8385 020e 0123     		movs	r3, #1
 8386 0210 6375     		strb	r3, [r4, #21]
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8387              		.loc 1 4098 30 view .LVU2682
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8388              		.loc 1 4098 30 is_stmt 0 discriminator 1 view .LVU2683
 8389 0212 0126     		movs	r6, #1
 8390              	.LVL1025:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8391              		.loc 1 4098 30 view .LVU2684
 8392 0214 12E7     		b	.L500
 8393              	.LVL1026:
 8394              	.L522:
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8395              		.loc 1 4120 7 is_stmt 1 view .LVU2685
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8396              		.loc 1 4120 14 is_stmt 0 view .LVU2686
 8397 0216 2900     		movs	r1, r5
 8398 0218 2000     		movs	r0, r4
 8399 021a FFF7FEFF 		bl	get_fat
 8400              	.LVL1027:
 8401 021e 0500     		movs	r5, r0
 8402              	.LVL1028:
 8403              	.L524:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8404              		.loc 1 4122 6 is_stmt 1 view .LVU2687
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8405              		.loc 1 4122 9 is_stmt 0 view .LVU2688
 8406 0220 6B1C     		adds	r3, r5, #1
 8407 0222 2AD0     		beq	.L554
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8408              		.loc 1 4122 52 is_stmt 1 discriminator 2 view .LVU2689
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8409              		.loc 1 4123 6 view .LVU2690
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8410              		.loc 1 4123 9 is_stmt 0 view .LVU2691
 8411 0224 012D     		cmp	r5, #1
 8412 0226 2CD9     		bls	.L526
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8413              		.loc 1 4123 33 discriminator 2 view .LVU2692
ARM GAS  /tmp/ccVOuidm.s 			page 293


 8414 0228 019B     		ldr	r3, [sp, #4]
 8415 022a 5B69     		ldr	r3, [r3, #20]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8416              		.loc 1 4123 20 discriminator 2 view .LVU2693
 8417 022c AB42     		cmp	r3, r5
 8418 022e 28D9     		bls	.L526
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8419              		.loc 1 4123 66 is_stmt 1 discriminator 4 view .LVU2694
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8420              		.loc 1 4124 6 view .LVU2695
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8421              		.loc 1 4124 16 is_stmt 0 view .LVU2696
 8422 0230 E561     		str	r5, [r4, #28]
 8423              	.L521:
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 8424              		.loc 1 4105 16 is_stmt 1 view .LVU2697
 8425 0232 B845     		cmp	r8, r7
 8426 0234 0FD9     		bls	.L523
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8427              		.loc 1 4106 6 view .LVU2698
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8428              		.loc 1 4106 10 is_stmt 0 view .LVU2699
 8429 0236 4346     		mov	r3, r8
 8430 0238 DB1B     		subs	r3, r3, r7
 8431 023a 9846     		mov	r8, r3
 8432              	.LVL1029:
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8433              		.loc 1 4106 18 is_stmt 1 view .LVU2700
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8434              		.loc 1 4106 20 is_stmt 0 view .LVU2701
 8435 023c A369     		ldr	r3, [r4, #24]
 8436              	.LVL1030:
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8437              		.loc 1 4106 27 view .LVU2702
 8438 023e DB19     		adds	r3, r3, r7
 8439 0240 A361     		str	r3, [r4, #24]
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 8440              		.loc 1 4108 6 is_stmt 1 view .LVU2703
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 8441              		.loc 1 4108 12 is_stmt 0 view .LVU2704
 8442 0242 237D     		ldrb	r3, [r4, #20]
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 8443              		.loc 1 4108 9 view .LVU2705
 8444 0244 9B07     		lsls	r3, r3, #30
 8445 0246 E6D5     		bpl	.L522
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
 8446              		.loc 1 4109 7 is_stmt 1 view .LVU2706
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 8447              		.loc 1 4113 7 view .LVU2707
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 8448              		.loc 1 4113 14 is_stmt 0 view .LVU2708
 8449 0248 2900     		movs	r1, r5
 8450 024a 2000     		movs	r0, r4
 8451 024c FFF7FEFF 		bl	create_chain
 8452              	.LVL1031:
 8453 0250 051E     		subs	r5, r0, #0
 8454              	.LVL1032:
ARM GAS  /tmp/ccVOuidm.s 			page 294


4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 8455              		.loc 1 4114 7 is_stmt 1 view .LVU2709
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 8456              		.loc 1 4114 10 is_stmt 0 view .LVU2710
 8457 0252 E5D1     		bne	.L524
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8458              		.loc 1 4115 12 view .LVU2711
 8459 0254 8046     		mov	r8, r0
 8460              	.LVL1033:
 8461              	.L523:
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 8462              		.loc 1 4126 5 is_stmt 1 view .LVU2712
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 8463              		.loc 1 4126 7 is_stmt 0 view .LVU2713
 8464 0256 A369     		ldr	r3, [r4, #24]
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 8465              		.loc 1 4126 14 view .LVU2714
 8466 0258 4344     		add	r3, r3, r8
 8467 025a A361     		str	r3, [r4, #24]
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 8468              		.loc 1 4127 5 is_stmt 1 view .LVU2715
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 8469              		.loc 1 4127 13 is_stmt 0 view .LVU2716
 8470 025c 4346     		mov	r3, r8
 8471 025e DB05     		lsls	r3, r3, #23
 8472 0260 DA0D     		lsrs	r2, r3, #23
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 8473              		.loc 1 4127 8 view .LVU2717
 8474 0262 002B     		cmp	r3, #0
 8475 0264 15D0     		beq	.L539
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 8476              		.loc 1 4128 6 is_stmt 1 view .LVU2718
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 8477              		.loc 1 4128 14 is_stmt 0 view .LVU2719
 8478 0266 0198     		ldr	r0, [sp, #4]
 8479 0268 2900     		movs	r1, r5
 8480 026a FFF7FEFF 		bl	clust2sect
 8481              	.LVL1034:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8482              		.loc 1 4129 6 is_stmt 1 view .LVU2720
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8483              		.loc 1 4129 9 is_stmt 0 view .LVU2721
 8484 026e 0028     		cmp	r0, #0
 8485 0270 0BD0     		beq	.L555
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8486              		.loc 1 4129 39 is_stmt 1 discriminator 2 view .LVU2722
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8487              		.loc 1 4130 6 view .LVU2723
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8488              		.loc 1 4130 15 is_stmt 0 view .LVU2724
 8489 0272 4346     		mov	r3, r8
 8490 0274 5D0A     		lsrs	r5, r3, #9
 8491              	.LVL1035:
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8492              		.loc 1 4130 12 view .LVU2725
 8493 0276 2D18     		adds	r5, r5, r0
 8494              	.LVL1036:
ARM GAS  /tmp/ccVOuidm.s 			page 295


4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8495              		.loc 1 4130 12 view .LVU2726
 8496 0278 9BE7     		b	.L515
 8497              	.LVL1037:
 8498              	.L554:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8499              		.loc 1 4122 30 is_stmt 1 discriminator 1 view .LVU2727
 8500 027a 0123     		movs	r3, #1
 8501 027c 6375     		strb	r3, [r4, #21]
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8502              		.loc 1 4122 30 view .LVU2728
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8503              		.loc 1 4122 30 is_stmt 0 discriminator 1 view .LVU2729
 8504 027e 0126     		movs	r6, #1
 8505              	.LVL1038:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8506              		.loc 1 4122 30 view .LVU2730
 8507 0280 DCE6     		b	.L500
 8508              	.LVL1039:
 8509              	.L526:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8510              		.loc 1 4123 45 is_stmt 1 discriminator 3 view .LVU2731
 8511 0282 0223     		movs	r3, #2
 8512 0284 6375     		strb	r3, [r4, #21]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8513              		.loc 1 4123 45 view .LVU2732
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8514              		.loc 1 4123 45 is_stmt 0 discriminator 3 view .LVU2733
 8515 0286 0226     		movs	r6, #2
 8516              	.LVL1040:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8517              		.loc 1 4123 45 view .LVU2734
 8518 0288 D8E6     		b	.L500
 8519              	.LVL1041:
 8520              	.L555:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8521              		.loc 1 4129 18 is_stmt 1 discriminator 1 view .LVU2735
 8522 028a 0223     		movs	r3, #2
 8523 028c 6375     		strb	r3, [r4, #21]
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8524              		.loc 1 4129 18 view .LVU2736
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8525              		.loc 1 4129 18 is_stmt 0 discriminator 1 view .LVU2737
 8526 028e 0226     		movs	r6, #2
 8527              	.LVL1042:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8528              		.loc 1 4129 18 view .LVU2738
 8529 0290 D4E6     		b	.L500
 8530              	.LVL1043:
 8531              	.L539:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8532              		.loc 1 4084 20 view .LVU2739
 8533 0292 1500     		movs	r5, r2
 8534              	.LVL1044:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8535              		.loc 1 4084 20 view .LVU2740
 8536 0294 8DE7     		b	.L515
ARM GAS  /tmp/ccVOuidm.s 			page 296


 8537              	.LVL1045:
 8538              	.L550:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8539              		.loc 1 4142 5 is_stmt 1 view .LVU2741
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8540              		.loc 1 4142 22 is_stmt 0 view .LVU2742
 8541 0296 019B     		ldr	r3, [sp, #4]
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8542              		.loc 1 4142 31 view .LVU2743
 8543 0298 2100     		movs	r1, r4
 8544 029a 3031     		adds	r1, r1, #48
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8545              		.loc 1 4142 9 view .LVU2744
 8546 029c 5878     		ldrb	r0, [r3, #1]
 8547 029e 0123     		movs	r3, #1
 8548 02a0 FFF7FEFF 		bl	disk_write
 8549              	.LVL1046:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8550              		.loc 1 4142 8 discriminator 1 view .LVU2745
 8551 02a4 0028     		cmp	r0, #0
 8552 02a6 04D1     		bne	.L556
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8553              		.loc 1 4142 84 is_stmt 1 discriminator 2 view .LVU2746
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8554              		.loc 1 4143 5 view .LVU2747
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8555              		.loc 1 4143 7 is_stmt 0 view .LVU2748
 8556 02a8 227D     		ldrb	r2, [r4, #20]
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8557              		.loc 1 4143 14 view .LVU2749
 8558 02aa 7F23     		movs	r3, #127
 8559 02ac 1340     		ands	r3, r2
 8560 02ae 2375     		strb	r3, [r4, #20]
 8561 02b0 93E7     		b	.L531
 8562              	.L556:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8563              		.loc 1 4142 62 is_stmt 1 discriminator 1 view .LVU2750
 8564 02b2 0123     		movs	r3, #1
 8565 02b4 6375     		strb	r3, [r4, #21]
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8566              		.loc 1 4142 62 view .LVU2751
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8567              		.loc 1 4142 62 is_stmt 0 discriminator 1 view .LVU2752
 8568 02b6 0126     		movs	r6, #1
 8569              	.LVL1047:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8570              		.loc 1 4142 62 view .LVU2753
 8571 02b8 C0E6     		b	.L500
 8572              	.LVL1048:
 8573              	.L551:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8574              		.loc 1 4146 57 is_stmt 1 discriminator 1 view .LVU2754
 8575 02ba 0123     		movs	r3, #1
 8576 02bc 6375     		strb	r3, [r4, #21]
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8577              		.loc 1 4146 57 view .LVU2755
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccVOuidm.s 			page 297


 8578              		.loc 1 4146 57 is_stmt 0 discriminator 1 view .LVU2756
 8579 02be 0126     		movs	r6, #1
 8580              	.LVL1049:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8581              		.loc 1 4146 57 view .LVU2757
 8582 02c0 BCE6     		b	.L500
 8583              	.LVL1050:
 8584              	.L536:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8585              		.loc 1 4048 9 view .LVU2758
 8586 02c2 1126     		movs	r6, #17
 8587              	.LVL1051:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8588              		.loc 1 4048 9 view .LVU2759
 8589 02c4 BAE6     		b	.L500
 8590              		.cfi_endproc
 8591              	.LFE537:
 8593              		.section	.text.f_opendir,"ax",%progbits
 8594              		.align	1
 8595              		.global	f_opendir
 8596              		.syntax unified
 8597              		.code	16
 8598              		.thumb_func
 8600              	f_opendir:
 8601              	.LVL1052:
 8602              	.LFB538:
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8603              		.loc 1 4166 1 is_stmt 1 view -0
 8604              		.cfi_startproc
 8605              		@ args = 0, pretend = 0, frame = 16
 8606              		@ frame_needed = 0, uses_anonymous_args = 0
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8607              		.loc 1 4166 1 is_stmt 0 view .LVU2761
 8608 0000 30B5     		push	{r4, r5, lr}
 8609              	.LCFI61:
 8610              		.cfi_def_cfa_offset 12
 8611              		.cfi_offset 4, -12
 8612              		.cfi_offset 5, -8
 8613              		.cfi_offset 14, -4
 8614 0002 85B0     		sub	sp, sp, #20
 8615              	.LCFI62:
 8616              		.cfi_def_cfa_offset 32
 8617 0004 051E     		subs	r5, r0, #0
 8618 0006 0191     		str	r1, [sp, #4]
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8619              		.loc 1 4167 2 is_stmt 1 view .LVU2762
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
 8620              		.loc 1 4168 2 view .LVU2763
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 8621              		.loc 1 4169 2 view .LVU2764
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8622              		.loc 1 4173 2 view .LVU2765
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8623              		.loc 1 4173 5 is_stmt 0 view .LVU2766
 8624 0008 3FD0     		beq	.L564
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 8625              		.loc 1 4176 2 is_stmt 1 view .LVU2767
ARM GAS  /tmp/ccVOuidm.s 			page 298


 8626              	.LVL1053:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8627              		.loc 1 4177 2 view .LVU2768
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8628              		.loc 1 4177 8 is_stmt 0 view .LVU2769
 8629 000a 0022     		movs	r2, #0
 8630 000c 03A9     		add	r1, sp, #12
 8631              	.LVL1054:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8632              		.loc 1 4177 8 view .LVU2770
 8633 000e 01A8     		add	r0, sp, #4
 8634              	.LVL1055:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8635              		.loc 1 4177 8 view .LVU2771
 8636 0010 FFF7FEFF 		bl	find_volume
 8637              	.LVL1056:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8638              		.loc 1 4177 8 view .LVU2772
 8639 0014 041E     		subs	r4, r0, #0
 8640              	.LVL1057:
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 8641              		.loc 1 4178 2 is_stmt 1 view .LVU2773
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 8642              		.loc 1 4178 5 is_stmt 0 view .LVU2774
 8643 0016 04D0     		beq	.L568
 8644              	.LVL1058:
 8645              	.L559:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8646              		.loc 1 4220 20 is_stmt 1 discriminator 1 view .LVU2775
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8647              		.loc 1 4220 28 is_stmt 0 discriminator 1 view .LVU2776
 8648 0018 0023     		movs	r3, #0
 8649 001a 2B60     		str	r3, [r5]
 8650              	.LVL1059:
 8651              	.L558:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8652              		.loc 1 4223 1 view .LVU2777
 8653 001c 2000     		movs	r0, r4
 8654 001e 05B0     		add	sp, sp, #20
 8655              		@ sp needed
 8656              	.LVL1060:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8657              		.loc 1 4223 1 view .LVU2778
 8658 0020 30BD     		pop	{r4, r5, pc}
 8659              	.LVL1061:
 8660              	.L568:
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 8661              		.loc 1 4179 3 is_stmt 1 view .LVU2779
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 8662              		.loc 1 4179 11 is_stmt 0 view .LVU2780
 8663 0022 039B     		ldr	r3, [sp, #12]
 8664 0024 2B60     		str	r3, [r5]
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 8665              		.loc 1 4180 18 is_stmt 1 view .LVU2781
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8666              		.loc 1 4181 3 view .LVU2782
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
ARM GAS  /tmp/ccVOuidm.s 			page 299


 8667              		.loc 1 4181 9 is_stmt 0 view .LVU2783
 8668 0026 0199     		ldr	r1, [sp, #4]
 8669 0028 2800     		movs	r0, r5
 8670              	.LVL1062:
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8671              		.loc 1 4181 9 view .LVU2784
 8672 002a FFF7FEFF 		bl	follow_path
 8673              	.LVL1063:
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8674              		.loc 1 4181 9 view .LVU2785
 8675 002e 041E     		subs	r4, r0, #0
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 8676              		.loc 1 4182 3 is_stmt 1 view .LVU2786
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 8677              		.loc 1 4182 6 is_stmt 0 view .LVU2787
 8678 0030 24D1     		bne	.L560
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 8679              		.loc 1 4183 4 is_stmt 1 view .LVU2788
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 8680              		.loc 1 4183 16 is_stmt 0 view .LVU2789
 8681 0032 2F23     		movs	r3, #47
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 8682              		.loc 1 4183 8 view .LVU2790
 8683 0034 EB56     		ldrsb	r3, [r5, r3]
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 8684              		.loc 1 4183 7 view .LVU2791
 8685 0036 002B     		cmp	r3, #0
 8686 0038 07DB     		blt	.L561
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8687              		.loc 1 4184 5 is_stmt 1 view .LVU2792
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8688              		.loc 1 4184 12 is_stmt 0 view .LVU2793
 8689 003a AB79     		ldrb	r3, [r5, #6]
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8690              		.loc 1 4184 8 view .LVU2794
 8691 003c DB06     		lsls	r3, r3, #27
 8692 003e 1CD5     		bpl	.L565
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8693              		.loc 1 4196 7 is_stmt 1 view .LVU2795
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8694              		.loc 1 4196 36 is_stmt 0 view .LVU2796
 8695 0040 296A     		ldr	r1, [r5, #32]
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8696              		.loc 1 4196 21 view .LVU2797
 8697 0042 0398     		ldr	r0, [sp, #12]
 8698              	.LVL1064:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8699              		.loc 1 4196 21 view .LVU2798
 8700 0044 FFF7FEFF 		bl	ld_clust
 8701              	.LVL1065:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8702              		.loc 1 4196 19 discriminator 1 view .LVU2799
 8703 0048 A860     		str	r0, [r5, #8]
 8704              	.L561:
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
 8705              		.loc 1 4202 4 is_stmt 1 view .LVU2800
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
ARM GAS  /tmp/ccVOuidm.s 			page 300


 8706              		.loc 1 4203 5 view .LVU2801
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8707              		.loc 1 4203 17 is_stmt 0 view .LVU2802
 8708 004a 039B     		ldr	r3, [sp, #12]
 8709 004c DB88     		ldrh	r3, [r3, #6]
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8710              		.loc 1 4203 13 view .LVU2803
 8711 004e AB80     		strh	r3, [r5, #4]
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8712              		.loc 1 4204 5 is_stmt 1 view .LVU2804
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8713              		.loc 1 4204 11 is_stmt 0 view .LVU2805
 8714 0050 0021     		movs	r1, #0
 8715 0052 2800     		movs	r0, r5
 8716 0054 FFF7FEFF 		bl	dir_sdi
 8717              	.LVL1066:
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8718              		.loc 1 4204 11 view .LVU2806
 8719 0058 041E     		subs	r4, r0, #0
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 8720              		.loc 1 4206 5 is_stmt 1 view .LVU2807
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 8721              		.loc 1 4206 8 is_stmt 0 view .LVU2808
 8722 005a 0FD1     		bne	.L560
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8723              		.loc 1 4207 6 is_stmt 1 view .LVU2809
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8724              		.loc 1 4207 13 is_stmt 0 view .LVU2810
 8725 005c AB68     		ldr	r3, [r5, #8]
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8726              		.loc 1 4207 9 view .LVU2811
 8727 005e 002B     		cmp	r3, #0
 8728 0060 02D1     		bne	.L569
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8729              		.loc 1 4211 7 is_stmt 1 view .LVU2812
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8730              		.loc 1 4211 19 is_stmt 0 view .LVU2813
 8731 0062 0023     		movs	r3, #0
 8732 0064 2B61     		str	r3, [r5, #16]
 8733 0066 09E0     		b	.L560
 8734              	.L569:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8735              		.loc 1 4208 7 is_stmt 1 view .LVU2814
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8736              		.loc 1 4208 21 is_stmt 0 view .LVU2815
 8737 0068 0021     		movs	r1, #0
 8738 006a 2800     		movs	r0, r5
 8739              	.LVL1067:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8740              		.loc 1 4208 21 view .LVU2816
 8741 006c FFF7FEFF 		bl	inc_lock
 8742              	.LVL1068:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8743              		.loc 1 4208 19 discriminator 1 view .LVU2817
 8744 0070 2861     		str	r0, [r5, #16]
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8745              		.loc 1 4209 7 is_stmt 1 view .LVU2818
ARM GAS  /tmp/ccVOuidm.s 			page 301


4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8746              		.loc 1 4209 10 is_stmt 0 view .LVU2819
 8747 0072 0028     		cmp	r0, #0
 8748 0074 02D1     		bne	.L560
 8749              	.LVL1069:
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8750              		.loc 1 4209 29 discriminator 1 view .LVU2820
 8751 0076 1224     		movs	r4, #18
 8752 0078 02E0     		b	.L563
 8753              	.LVL1070:
 8754              	.L565:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8755              		.loc 1 4199 10 view .LVU2821
 8756 007a 0524     		movs	r4, #5
 8757              	.LVL1071:
 8758              	.L560:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 8759              		.loc 1 4217 16 is_stmt 1 view .LVU2822
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8760              		.loc 1 4218 3 view .LVU2823
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8761              		.loc 1 4218 6 is_stmt 0 view .LVU2824
 8762 007c 042C     		cmp	r4, #4
 8763 007e 02D0     		beq	.L570
 8764              	.LVL1072:
 8765              	.L563:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8766              		.loc 1 4220 2 is_stmt 1 view .LVU2825
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8767              		.loc 1 4220 5 is_stmt 0 view .LVU2826
 8768 0080 002C     		cmp	r4, #0
 8769 0082 CBD0     		beq	.L558
 8770 0084 C8E7     		b	.L559
 8771              	.L570:
 8772              	.LVL1073:
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8773              		.loc 1 4218 30 discriminator 1 view .LVU2827
 8774 0086 0524     		movs	r4, #5
 8775 0088 C6E7     		b	.L559
 8776              	.LVL1074:
 8777              	.L564:
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8778              		.loc 1 4173 18 discriminator 1 view .LVU2828
 8779 008a 0924     		movs	r4, #9
 8780 008c C6E7     		b	.L558
 8781              		.cfi_endproc
 8782              	.LFE538:
 8784              		.section	.text.f_closedir,"ax",%progbits
 8785              		.align	1
 8786              		.global	f_closedir
 8787              		.syntax unified
 8788              		.code	16
 8789              		.thumb_func
 8791              	f_closedir:
 8792              	.LVL1075:
 8793              	.LFB539:
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccVOuidm.s 			page 302


 8794              		.loc 1 4235 1 is_stmt 1 view -0
 8795              		.cfi_startproc
 8796              		@ args = 0, pretend = 0, frame = 8
 8797              		@ frame_needed = 0, uses_anonymous_args = 0
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8798              		.loc 1 4235 1 is_stmt 0 view .LVU2830
 8799 0000 10B5     		push	{r4, lr}
 8800              	.LCFI63:
 8801              		.cfi_def_cfa_offset 8
 8802              		.cfi_offset 4, -8
 8803              		.cfi_offset 14, -4
 8804 0002 82B0     		sub	sp, sp, #8
 8805              	.LCFI64:
 8806              		.cfi_def_cfa_offset 16
 8807 0004 0400     		movs	r4, r0
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8808              		.loc 1 4236 2 is_stmt 1 view .LVU2831
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8809              		.loc 1 4237 2 view .LVU2832
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8810              		.loc 1 4240 2 view .LVU2833
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8811              		.loc 1 4240 8 is_stmt 0 view .LVU2834
 8812 0006 01A9     		add	r1, sp, #4
 8813 0008 FFF7FEFF 		bl	validate
 8814              	.LVL1076:
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8815              		.loc 1 4241 2 is_stmt 1 view .LVU2835
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8816              		.loc 1 4241 5 is_stmt 0 view .LVU2836
 8817 000c 0028     		cmp	r0, #0
 8818 000e 06D1     		bne	.L572
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 8819              		.loc 1 4243 3 is_stmt 1 view .LVU2837
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 8820              		.loc 1 4243 14 is_stmt 0 view .LVU2838
 8821 0010 2369     		ldr	r3, [r4, #16]
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 8822              		.loc 1 4243 6 view .LVU2839
 8823 0012 002B     		cmp	r3, #0
 8824 0014 05D1     		bne	.L574
 8825              	.LVL1077:
 8826              	.L573:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8827              		.loc 1 4246 3 is_stmt 1 view .LVU2840
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8828              		.loc 1 4246 6 is_stmt 0 view .LVU2841
 8829 0016 0028     		cmp	r0, #0
 8830 0018 01D1     		bne	.L572
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8831              		.loc 1 4249 4 is_stmt 1 view .LVU2842
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8832              		.loc 1 4249 15 is_stmt 0 view .LVU2843
 8833 001a 0023     		movs	r3, #0
 8834 001c 2360     		str	r3, [r4]
 8835              	.LVL1078:
 8836              	.L572:
ARM GAS  /tmp/ccVOuidm.s 			page 303


4255:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8837              		.loc 1 4255 2 is_stmt 1 view .LVU2844
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8838              		.loc 1 4256 1 is_stmt 0 view .LVU2845
 8839 001e 02B0     		add	sp, sp, #8
 8840              		@ sp needed
 8841              	.LVL1079:
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8842              		.loc 1 4256 1 view .LVU2846
 8843 0020 10BD     		pop	{r4, pc}
 8844              	.LVL1080:
 8845              	.L574:
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8846              		.loc 1 4244 4 is_stmt 1 view .LVU2847
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8847              		.loc 1 4244 10 is_stmt 0 view .LVU2848
 8848 0022 1800     		movs	r0, r3
 8849              	.LVL1081:
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8850              		.loc 1 4244 10 view .LVU2849
 8851 0024 FFF7FEFF 		bl	dec_lock
 8852              	.LVL1082:
 8853 0028 F5E7     		b	.L573
 8854              		.cfi_endproc
 8855              	.LFE539:
 8857              		.section	.text.f_readdir,"ax",%progbits
 8858              		.align	1
 8859              		.global	f_readdir
 8860              		.syntax unified
 8861              		.code	16
 8862              		.thumb_func
 8864              	f_readdir:
 8865              	.LVL1083:
 8866              	.LFB540:
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8867              		.loc 1 4269 1 is_stmt 1 view -0
 8868              		.cfi_startproc
 8869              		@ args = 0, pretend = 0, frame = 8
 8870              		@ frame_needed = 0, uses_anonymous_args = 0
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8871              		.loc 1 4269 1 is_stmt 0 view .LVU2851
 8872 0000 70B5     		push	{r4, r5, r6, lr}
 8873              	.LCFI65:
 8874              		.cfi_def_cfa_offset 16
 8875              		.cfi_offset 4, -16
 8876              		.cfi_offset 5, -12
 8877              		.cfi_offset 6, -8
 8878              		.cfi_offset 14, -4
 8879 0002 82B0     		sub	sp, sp, #8
 8880              	.LCFI66:
 8881              		.cfi_def_cfa_offset 24
 8882 0004 0500     		movs	r5, r0
 8883 0006 0E00     		movs	r6, r1
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8884              		.loc 1 4270 2 is_stmt 1 view .LVU2852
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 8885              		.loc 1 4271 2 view .LVU2853
ARM GAS  /tmp/ccVOuidm.s 			page 304


4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8886              		.loc 1 4275 2 view .LVU2854
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8887              		.loc 1 4275 8 is_stmt 0 view .LVU2855
 8888 0008 01A9     		add	r1, sp, #4
 8889              	.LVL1084:
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8890              		.loc 1 4275 8 view .LVU2856
 8891 000a FFF7FEFF 		bl	validate
 8892              	.LVL1085:
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8893              		.loc 1 4275 8 view .LVU2857
 8894 000e 041E     		subs	r4, r0, #0
 8895              	.LVL1086:
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 8896              		.loc 1 4276 2 is_stmt 1 view .LVU2858
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 8897              		.loc 1 4276 5 is_stmt 0 view .LVU2859
 8898 0010 1AD1     		bne	.L576
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 8899              		.loc 1 4277 3 is_stmt 1 view .LVU2860
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 8900              		.loc 1 4277 6 is_stmt 0 view .LVU2861
 8901 0012 002E     		cmp	r6, #0
 8902 0014 13D0     		beq	.L580
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 8903              		.loc 1 4280 19 is_stmt 1 view .LVU2862
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 8904              		.loc 1 4281 4 view .LVU2863
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 8905              		.loc 1 4281 10 is_stmt 0 view .LVU2864
 8906 0016 0021     		movs	r1, #0
 8907 0018 2800     		movs	r0, r5
 8908              	.LVL1087:
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 8909              		.loc 1 4281 10 view .LVU2865
 8910 001a FFF7FEFF 		bl	dir_read
 8911              	.LVL1088:
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 8912              		.loc 1 4282 4 is_stmt 1 view .LVU2866
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 8913              		.loc 1 4282 7 is_stmt 0 view .LVU2867
 8914 001e 0428     		cmp	r0, #4
 8915 0020 01D0     		beq	.L578
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8916              		.loc 1 4283 4 is_stmt 1 view .LVU2868
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8917              		.loc 1 4283 7 is_stmt 0 view .LVU2869
 8918 0022 0028     		cmp	r0, #0
 8919 0024 13D1     		bne	.L579
 8920              	.L578:
 8921              	.LVL1089:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 8922              		.loc 1 4284 5 is_stmt 1 view .LVU2870
 8923 0026 3100     		movs	r1, r6
 8924 0028 2800     		movs	r0, r5
 8925 002a FFF7FEFF 		bl	get_fileinfo
ARM GAS  /tmp/ccVOuidm.s 			page 305


 8926              	.LVL1090:
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 8927              		.loc 1 4285 5 view .LVU2871
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 8928              		.loc 1 4285 11 is_stmt 0 view .LVU2872
 8929 002e 0021     		movs	r1, #0
 8930 0030 2800     		movs	r0, r5
 8931 0032 FFF7FEFF 		bl	dir_next
 8932              	.LVL1091:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8933              		.loc 1 4286 5 is_stmt 1 view .LVU2873
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8934              		.loc 1 4286 8 is_stmt 0 view .LVU2874
 8935 0036 0428     		cmp	r0, #4
 8936 0038 06D0     		beq	.L576
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 8937              		.loc 1 4285 11 view .LVU2875
 8938 003a 0400     		movs	r4, r0
 8939 003c 04E0     		b	.L576
 8940              	.L580:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8941              		.loc 1 4278 4 is_stmt 1 view .LVU2876
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8942              		.loc 1 4278 10 is_stmt 0 view .LVU2877
 8943 003e 0021     		movs	r1, #0
 8944 0040 2800     		movs	r0, r5
 8945              	.LVL1092:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8946              		.loc 1 4278 10 view .LVU2878
 8947 0042 FFF7FEFF 		bl	dir_sdi
 8948              	.LVL1093:
 8949 0046 0400     		movs	r4, r0
 8950              	.LVL1094:
 8951              	.L576:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8952              		.loc 1 4288 17 is_stmt 1 view .LVU2879
4291:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8953              		.loc 1 4291 2 view .LVU2880
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8954              		.loc 1 4292 1 is_stmt 0 view .LVU2881
 8955 0048 2000     		movs	r0, r4
 8956 004a 02B0     		add	sp, sp, #8
 8957              		@ sp needed
 8958              	.LVL1095:
 8959              	.LVL1096:
 8960              	.LVL1097:
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8961              		.loc 1 4292 1 view .LVU2882
 8962 004c 70BD     		pop	{r4, r5, r6, pc}
 8963              	.LVL1098:
 8964              	.L579:
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8965              		.loc 1 4292 1 view .LVU2883
 8966 004e 0400     		movs	r4, r0
 8967 0050 FAE7     		b	.L576
 8968              		.cfi_endproc
 8969              	.LFE540:
ARM GAS  /tmp/ccVOuidm.s 			page 306


 8971              		.section	.text.f_stat,"ax",%progbits
 8972              		.align	1
 8973              		.global	f_stat
 8974              		.syntax unified
 8975              		.code	16
 8976              		.thumb_func
 8978              	f_stat:
 8979              	.LVL1099:
 8980              	.LFB541:
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8981              		.loc 1 4357 1 is_stmt 1 view -0
 8982              		.cfi_startproc
 8983              		@ args = 0, pretend = 0, frame = 56
 8984              		@ frame_needed = 0, uses_anonymous_args = 0
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8985              		.loc 1 4357 1 is_stmt 0 view .LVU2885
 8986 0000 30B5     		push	{r4, r5, lr}
 8987              	.LCFI67:
 8988              		.cfi_def_cfa_offset 12
 8989              		.cfi_offset 4, -12
 8990              		.cfi_offset 5, -8
 8991              		.cfi_offset 14, -4
 8992 0002 8FB0     		sub	sp, sp, #60
 8993              	.LCFI68:
 8994              		.cfi_def_cfa_offset 72
 8995 0004 0190     		str	r0, [sp, #4]
 8996 0006 0D00     		movs	r5, r1
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 8997              		.loc 1 4358 2 is_stmt 1 view .LVU2886
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 8998              		.loc 1 4359 2 view .LVU2887
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8999              		.loc 1 4364 2 view .LVU2888
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9000              		.loc 1 4364 8 is_stmt 0 view .LVU2889
 9001 0008 0022     		movs	r2, #0
 9002 000a 02A9     		add	r1, sp, #8
 9003              	.LVL1100:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9004              		.loc 1 4364 8 view .LVU2890
 9005 000c 01A8     		add	r0, sp, #4
 9006              	.LVL1101:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9007              		.loc 1 4364 8 view .LVU2891
 9008 000e FFF7FEFF 		bl	find_volume
 9009              	.LVL1102:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9010              		.loc 1 4364 8 view .LVU2892
 9011 0012 041E     		subs	r4, r0, #0
 9012              	.LVL1103:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 9013              		.loc 1 4365 2 is_stmt 1 view .LVU2893
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 9014              		.loc 1 4365 5 is_stmt 0 view .LVU2894
 9015 0014 02D0     		beq	.L584
 9016              	.LVL1104:
 9017              	.L582:
ARM GAS  /tmp/ccVOuidm.s 			page 307


4375:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9018              		.loc 1 4375 16 is_stmt 1 view .LVU2895
4378:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9019              		.loc 1 4378 2 view .LVU2896
4379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9020              		.loc 1 4379 1 is_stmt 0 view .LVU2897
 9021 0016 2000     		movs	r0, r4
 9022 0018 0FB0     		add	sp, sp, #60
 9023              		@ sp needed
 9024              	.LVL1105:
 9025              	.LVL1106:
4379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9026              		.loc 1 4379 1 view .LVU2898
 9027 001a 30BD     		pop	{r4, r5, pc}
 9028              	.LVL1107:
 9029              	.L584:
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 9030              		.loc 1 4366 25 is_stmt 1 view .LVU2899
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 9031              		.loc 1 4367 3 view .LVU2900
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 9032              		.loc 1 4367 9 is_stmt 0 view .LVU2901
 9033 001c 0199     		ldr	r1, [sp, #4]
 9034 001e 02A8     		add	r0, sp, #8
 9035              	.LVL1108:
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 9036              		.loc 1 4367 9 view .LVU2902
 9037 0020 FFF7FEFF 		bl	follow_path
 9038              	.LVL1109:
 9039 0024 041E     		subs	r4, r0, #0
 9040              	.LVL1110:
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 9041              		.loc 1 4368 3 is_stmt 1 view .LVU2903
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 9042              		.loc 1 4368 6 is_stmt 0 view .LVU2904
 9043 0026 F6D1     		bne	.L582
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9044              		.loc 1 4369 4 is_stmt 1 view .LVU2905
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9045              		.loc 1 4369 8 is_stmt 0 view .LVU2906
 9046 0028 02AA     		add	r2, sp, #8
 9047 002a 2F23     		movs	r3, #47
 9048 002c D356     		ldrsb	r3, [r2, r3]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9049              		.loc 1 4369 7 view .LVU2907
 9050 002e 002B     		cmp	r3, #0
 9051 0030 06DB     		blt	.L583
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9052              		.loc 1 4372 5 is_stmt 1 view .LVU2908
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9053              		.loc 1 4372 8 is_stmt 0 view .LVU2909
 9054 0032 002D     		cmp	r5, #0
 9055 0034 EFD0     		beq	.L582
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9056              		.loc 1 4372 14 is_stmt 1 discriminator 1 view .LVU2910
 9057 0036 2900     		movs	r1, r5
 9058 0038 1000     		movs	r0, r2
ARM GAS  /tmp/ccVOuidm.s 			page 308


 9059              	.LVL1111:
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9060              		.loc 1 4372 14 is_stmt 0 discriminator 1 view .LVU2911
 9061 003a FFF7FEFF 		bl	get_fileinfo
 9062              	.LVL1112:
 9063 003e EAE7     		b	.L582
 9064              	.LVL1113:
 9065              	.L583:
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
 9066              		.loc 1 4370 9 view .LVU2912
 9067 0040 0624     		movs	r4, #6
 9068 0042 E8E7     		b	.L582
 9069              		.cfi_endproc
 9070              	.LFE541:
 9072              		.section	.text.f_getfree,"ax",%progbits
 9073              		.align	1
 9074              		.global	f_getfree
 9075              		.syntax unified
 9076              		.code	16
 9077              		.thumb_func
 9079              	f_getfree:
 9080              	.LVL1114:
 9081              	.LFB542:
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9082              		.loc 1 4393 1 is_stmt 1 view -0
 9083              		.cfi_startproc
 9084              		@ args = 0, pretend = 0, frame = 32
 9085              		@ frame_needed = 0, uses_anonymous_args = 0
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9086              		.loc 1 4393 1 is_stmt 0 view .LVU2914
 9087 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 9088              	.LCFI69:
 9089              		.cfi_def_cfa_offset 20
 9090              		.cfi_offset 4, -20
 9091              		.cfi_offset 5, -16
 9092              		.cfi_offset 6, -12
 9093              		.cfi_offset 7, -8
 9094              		.cfi_offset 14, -4
 9095 0002 D646     		mov	lr, r10
 9096 0004 4F46     		mov	r7, r9
 9097 0006 4646     		mov	r6, r8
 9098 0008 C0B5     		push	{r6, r7, lr}
 9099              	.LCFI70:
 9100              		.cfi_def_cfa_offset 32
 9101              		.cfi_offset 8, -32
 9102              		.cfi_offset 9, -28
 9103              		.cfi_offset 10, -24
 9104 000a 88B0     		sub	sp, sp, #32
 9105              	.LCFI71:
 9106              		.cfi_def_cfa_offset 64
 9107 000c 0190     		str	r0, [sp, #4]
 9108 000e 8946     		mov	r9, r1
 9109 0010 1400     		movs	r4, r2
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9110              		.loc 1 4394 2 is_stmt 1 view .LVU2915
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
 9111              		.loc 1 4395 2 view .LVU2916
ARM GAS  /tmp/ccVOuidm.s 			page 309


4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 9112              		.loc 1 4396 2 view .LVU2917
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 9113              		.loc 1 4397 2 view .LVU2918
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
 9114              		.loc 1 4398 2 view .LVU2919
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9115              		.loc 1 4399 2 view .LVU2920
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9116              		.loc 1 4403 2 view .LVU2921
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9117              		.loc 1 4403 8 is_stmt 0 view .LVU2922
 9118 0012 0022     		movs	r2, #0
 9119              	.LVL1115:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9120              		.loc 1 4403 8 view .LVU2923
 9121 0014 07A9     		add	r1, sp, #28
 9122              	.LVL1116:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9123              		.loc 1 4403 8 view .LVU2924
 9124 0016 01A8     		add	r0, sp, #4
 9125              	.LVL1117:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9126              		.loc 1 4403 8 view .LVU2925
 9127 0018 FFF7FEFF 		bl	find_volume
 9128              	.LVL1118:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9129              		.loc 1 4403 8 view .LVU2926
 9130 001c 051E     		subs	r5, r0, #0
 9131              	.LVL1119:
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 9132              		.loc 1 4404 2 is_stmt 1 view .LVU2927
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 9133              		.loc 1 4404 5 is_stmt 0 view .LVU2928
 9134 001e 62D1     		bne	.L586
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 9135              		.loc 1 4405 3 is_stmt 1 view .LVU2929
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 9136              		.loc 1 4405 10 is_stmt 0 view .LVU2930
 9137 0020 079B     		ldr	r3, [sp, #28]
 9138 0022 2360     		str	r3, [r4]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9139              		.loc 1 4407 3 is_stmt 1 view .LVU2931
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9140              		.loc 1 4407 9 is_stmt 0 view .LVU2932
 9141 0024 1A69     		ldr	r2, [r3, #16]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9142              		.loc 1 4407 26 view .LVU2933
 9143 0026 5E69     		ldr	r6, [r3, #20]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9144              		.loc 1 4407 37 view .LVU2934
 9145 0028 B11E     		subs	r1, r6, #2
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9146              		.loc 1 4407 6 view .LVU2935
 9147 002a 8A42     		cmp	r2, r1
 9148 002c 02D8     		bhi	.L587
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
ARM GAS  /tmp/ccVOuidm.s 			page 310


 9149              		.loc 1 4408 4 is_stmt 1 view .LVU2936
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9150              		.loc 1 4408 11 is_stmt 0 view .LVU2937
 9151 002e 4B46     		mov	r3, r9
 9152 0030 1A60     		str	r2, [r3]
 9153 0032 58E0     		b	.L586
 9154              	.L587:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 9155              		.loc 1 4411 4 is_stmt 1 view .LVU2938
 9156              	.LVL1120:
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 9157              		.loc 1 4412 4 view .LVU2939
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 9158              		.loc 1 4412 10 is_stmt 0 view .LVU2940
 9159 0034 1F78     		ldrb	r7, [r3]
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 9160              		.loc 1 4412 7 view .LVU2941
 9161 0036 012F     		cmp	r7, #1
 9162 0038 06D0     		beq	.L600
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 9163              		.loc 1 4440 6 is_stmt 1 view .LVU2942
 9164              	.LVL1121:
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 9165              		.loc 1 4440 27 view .LVU2943
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 9166              		.loc 1 4440 32 is_stmt 0 view .LVU2944
 9167 003a 1B6A     		ldr	r3, [r3, #32]
 9168 003c 9A46     		mov	r10, r3
 9169              	.LVL1122:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9170              		.loc 1 4441 6 is_stmt 1 view .LVU2945
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9171              		.loc 1 4441 13 view .LVU2946
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9172              		.loc 1 4441 15 is_stmt 0 view .LVU2947
 9173 003e 0024     		movs	r4, #0
 9174              	.LVL1123:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9175              		.loc 1 4441 8 view .LVU2948
 9176 0040 0027     		movs	r7, #0
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 9177              		.loc 1 4411 10 view .LVU2949
 9178 0042 0023     		movs	r3, #0
 9179              	.LVL1124:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 9180              		.loc 1 4411 10 view .LVU2950
 9181 0044 9846     		mov	r8, r3
 9182 0046 35E0     		b	.L597
 9183              	.LVL1125:
 9184              	.L600:
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9185              		.loc 1 4413 5 is_stmt 1 view .LVU2951
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9186              		.loc 1 4413 15 view .LVU2952
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9187              		.loc 1 4413 22 is_stmt 0 view .LVU2953
 9188 0048 0293     		str	r3, [sp, #8]
ARM GAS  /tmp/ccVOuidm.s 			page 311


4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9189              		.loc 1 4413 10 view .LVU2954
 9190 004a 0224     		movs	r4, #2
 9191              	.LVL1126:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 9192              		.loc 1 4411 10 view .LVU2955
 9193 004c 0023     		movs	r3, #0
 9194 004e 9846     		mov	r8, r3
 9195 0050 04E0     		b	.L591
 9196              	.LVL1127:
 9197              	.L590:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9198              		.loc 1 4419 21 is_stmt 1 view .LVU2956
 9199 0052 0134     		adds	r4, r4, #1
 9200              	.LVL1128:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9201              		.loc 1 4419 25 is_stmt 0 view .LVU2957
 9202 0054 079B     		ldr	r3, [sp, #28]
 9203 0056 5B69     		ldr	r3, [r3, #20]
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9204              		.loc 1 4419 21 view .LVU2958
 9205 0058 A342     		cmp	r3, r4
 9206 005a 3BD9     		bls	.L589
 9207              	.LVL1129:
 9208              	.L591:
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
 9209              		.loc 1 4414 5 is_stmt 1 view .LVU2959
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 9210              		.loc 1 4415 6 view .LVU2960
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 9211              		.loc 1 4415 13 is_stmt 0 view .LVU2961
 9212 005c 2100     		movs	r1, r4
 9213 005e 02A8     		add	r0, sp, #8
 9214 0060 FFF7FEFF 		bl	get_fat
 9215              	.LVL1130:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 9216              		.loc 1 4416 6 is_stmt 1 view .LVU2962
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 9217              		.loc 1 4416 9 is_stmt 0 view .LVU2963
 9218 0064 431C     		adds	r3, r0, #1
 9219 0066 34D0     		beq	.L598
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 9220              		.loc 1 4417 6 is_stmt 1 view .LVU2964
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 9221              		.loc 1 4417 9 is_stmt 0 view .LVU2965
 9222 0068 0128     		cmp	r0, #1
 9223 006a 43D0     		beq	.L599
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9224              		.loc 1 4418 6 is_stmt 1 view .LVU2966
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9225              		.loc 1 4418 9 is_stmt 0 view .LVU2967
 9226 006c 0028     		cmp	r0, #0
 9227 006e F0D1     		bne	.L590
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9228              		.loc 1 4418 21 is_stmt 1 discriminator 1 view .LVU2968
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9229              		.loc 1 4418 26 is_stmt 0 discriminator 1 view .LVU2969
ARM GAS  /tmp/ccVOuidm.s 			page 312


 9230 0070 0123     		movs	r3, #1
 9231 0072 9C46     		mov	ip, r3
 9232 0074 E044     		add	r8, r8, ip
 9233              	.LVL1131:
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9234              		.loc 1 4418 26 discriminator 1 view .LVU2970
 9235 0076 ECE7     		b	.L590
 9236              	.LVL1132:
 9237              	.L601:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9238              		.loc 1 4444 8 is_stmt 1 view .LVU2971
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9239              		.loc 1 4444 14 is_stmt 0 view .LVU2972
 9240 0078 5346     		mov	r3, r10
 9241 007a 5F1C     		adds	r7, r3, #1
 9242              	.LVL1133:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9243              		.loc 1 4444 14 view .LVU2973
 9244 007c 0798     		ldr	r0, [sp, #28]
 9245 007e 5146     		mov	r1, r10
 9246 0080 FFF7FEFF 		bl	move_window
 9247              	.LVL1134:
 9248 0084 051E     		subs	r5, r0, #0
 9249              	.LVL1135:
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 9250              		.loc 1 4445 8 is_stmt 1 view .LVU2974
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 9251              		.loc 1 4445 11 is_stmt 0 view .LVU2975
 9252 0086 25D1     		bne	.L589
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 9253              		.loc 1 4446 8 is_stmt 1 view .LVU2976
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 9254              		.loc 1 4446 14 is_stmt 0 view .LVU2977
 9255 0088 079C     		ldr	r4, [sp, #28]
 9256              	.LVL1136:
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 9257              		.loc 1 4446 10 view .LVU2978
 9258 008a 3034     		adds	r4, r4, #48
 9259              	.LVL1137:
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9260              		.loc 1 4447 8 is_stmt 1 view .LVU2979
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9261              		.loc 1 4444 14 is_stmt 0 view .LVU2980
 9262 008c BA46     		mov	r10, r7
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9263              		.loc 1 4447 10 view .LVU2981
 9264 008e 8027     		movs	r7, #128
 9265              	.LVL1138:
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9266              		.loc 1 4447 10 view .LVU2982
 9267 0090 BF00     		lsls	r7, r7, #2
 9268 0092 11E0     		b	.L592
 9269              	.LVL1139:
 9270              	.L602:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9271              		.loc 1 4450 8 is_stmt 1 view .LVU2983
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
ARM GAS  /tmp/ccVOuidm.s 			page 313


 9272              		.loc 1 4450 12 is_stmt 0 view .LVU2984
 9273 0094 2000     		movs	r0, r4
 9274 0096 FFF7FEFF 		bl	ld_word
 9275              	.LVL1140:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9276              		.loc 1 4450 11 discriminator 1 view .LVU2985
 9277 009a 0028     		cmp	r0, #0
 9278 009c 02D1     		bne	.L594
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9279              		.loc 1 4450 29 is_stmt 1 discriminator 1 view .LVU2986
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9280              		.loc 1 4450 34 is_stmt 0 discriminator 1 view .LVU2987
 9281 009e 0123     		movs	r3, #1
 9282 00a0 9C46     		mov	ip, r3
 9283 00a2 E044     		add	r8, r8, ip
 9284              	.LVL1141:
 9285              	.L594:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9286              		.loc 1 4451 8 is_stmt 1 view .LVU2988
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9287              		.loc 1 4451 10 is_stmt 0 view .LVU2989
 9288 00a4 0234     		adds	r4, r4, #2
 9289              	.LVL1142:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9290              		.loc 1 4451 16 is_stmt 1 view .LVU2990
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9291              		.loc 1 4451 18 is_stmt 0 view .LVU2991
 9292 00a6 023F     		subs	r7, r7, #2
 9293              	.LVL1143:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9294              		.loc 1 4451 18 view .LVU2992
 9295 00a8 01E0     		b	.L595
 9296              	.LVL1144:
 9297              	.L596:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9298              		.loc 1 4454 8 is_stmt 1 view .LVU2993
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9299              		.loc 1 4454 10 is_stmt 0 view .LVU2994
 9300 00aa 0434     		adds	r4, r4, #4
 9301              	.LVL1145:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9302              		.loc 1 4454 16 is_stmt 1 view .LVU2995
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9303              		.loc 1 4454 18 is_stmt 0 view .LVU2996
 9304 00ac 043F     		subs	r7, r7, #4
 9305              	.LVL1146:
 9306              	.L595:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9307              		.loc 1 4456 15 is_stmt 1 view .LVU2997
 9308 00ae 013E     		subs	r6, r6, #1
 9309              	.LVL1147:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9310              		.loc 1 4456 15 is_stmt 0 view .LVU2998
 9311 00b0 002E     		cmp	r6, #0
 9312 00b2 0FD0     		beq	.L589
 9313              	.LVL1148:
 9314              	.L597:
ARM GAS  /tmp/ccVOuidm.s 			page 314


4442:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
 9315              		.loc 1 4442 6 is_stmt 1 view .LVU2999
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 9316              		.loc 1 4443 7 view .LVU3000
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 9317              		.loc 1 4443 10 is_stmt 0 view .LVU3001
 9318 00b4 002F     		cmp	r7, #0
 9319 00b6 DFD0     		beq	.L601
 9320              	.LVL1149:
 9321              	.L592:
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 9322              		.loc 1 4449 7 is_stmt 1 view .LVU3002
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 9323              		.loc 1 4449 13 is_stmt 0 view .LVU3003
 9324 00b8 079B     		ldr	r3, [sp, #28]
 9325 00ba 1B78     		ldrb	r3, [r3]
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 9326              		.loc 1 4449 10 view .LVU3004
 9327 00bc 022B     		cmp	r3, #2
 9328 00be E9D0     		beq	.L602
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 9329              		.loc 1 4453 8 is_stmt 1 view .LVU3005
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 9330              		.loc 1 4453 13 is_stmt 0 view .LVU3006
 9331 00c0 2000     		movs	r0, r4
 9332 00c2 FFF7FEFF 		bl	ld_dword
 9333              	.LVL1150:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 9334              		.loc 1 4453 25 discriminator 1 view .LVU3007
 9335 00c6 0001     		lsls	r0, r0, #4
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 9336              		.loc 1 4453 11 discriminator 1 view .LVU3008
 9337 00c8 EFD1     		bne	.L596
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 9338              		.loc 1 4453 45 is_stmt 1 discriminator 1 view .LVU3009
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 9339              		.loc 1 4453 50 is_stmt 0 discriminator 1 view .LVU3010
 9340 00ca 0123     		movs	r3, #1
 9341 00cc 9C46     		mov	ip, r3
 9342 00ce E044     		add	r8, r8, ip
 9343              	.LVL1151:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 9344              		.loc 1 4453 50 discriminator 1 view .LVU3011
 9345 00d0 EBE7     		b	.L596
 9346              	.LVL1152:
 9347              	.L598:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 9348              		.loc 1 4416 36 discriminator 1 view .LVU3012
 9349 00d2 3D00     		movs	r5, r7
 9350              	.LVL1153:
 9351              	.L589:
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 9352              		.loc 1 4459 4 is_stmt 1 view .LVU3013
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 9353              		.loc 1 4459 11 is_stmt 0 view .LVU3014
 9354 00d4 4B46     		mov	r3, r9
 9355 00d6 4246     		mov	r2, r8
ARM GAS  /tmp/ccVOuidm.s 			page 315


 9356 00d8 1A60     		str	r2, [r3]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 9357              		.loc 1 4460 4 is_stmt 1 view .LVU3015
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 9358              		.loc 1 4460 6 is_stmt 0 view .LVU3016
 9359 00da 079B     		ldr	r3, [sp, #28]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 9360              		.loc 1 4460 18 view .LVU3017
 9361 00dc 1A61     		str	r2, [r3, #16]
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9362              		.loc 1 4461 4 is_stmt 1 view .LVU3018
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9363              		.loc 1 4461 6 is_stmt 0 view .LVU3019
 9364 00de 1A79     		ldrb	r2, [r3, #4]
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9365              		.loc 1 4461 17 view .LVU3020
 9366 00e0 0121     		movs	r1, #1
 9367 00e2 0A43     		orrs	r2, r1
 9368 00e4 1A71     		strb	r2, [r3, #4]
 9369              	.LVL1154:
 9370              	.L586:
4465:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9371              		.loc 1 4465 2 is_stmt 1 view .LVU3021
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9372              		.loc 1 4466 1 is_stmt 0 view .LVU3022
 9373 00e6 2800     		movs	r0, r5
 9374 00e8 08B0     		add	sp, sp, #32
 9375              		@ sp needed
 9376              	.LVL1155:
 9377              	.LVL1156:
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9378              		.loc 1 4466 1 view .LVU3023
 9379 00ea E0BC     		pop	{r5, r6, r7}
 9380 00ec BA46     		mov	r10, r7
 9381 00ee B146     		mov	r9, r6
 9382 00f0 A846     		mov	r8, r5
 9383 00f2 F0BD     		pop	{r4, r5, r6, r7, pc}
 9384              	.LVL1157:
 9385              	.L599:
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 9386              		.loc 1 4417 27 discriminator 1 view .LVU3024
 9387 00f4 0225     		movs	r5, #2
 9388              	.LVL1158:
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 9389              		.loc 1 4417 27 discriminator 1 view .LVU3025
 9390 00f6 EDE7     		b	.L589
 9391              		.cfi_endproc
 9392              	.LFE542:
 9394              		.section	.text.f_truncate,"ax",%progbits
 9395              		.align	1
 9396              		.global	f_truncate
 9397              		.syntax unified
 9398              		.code	16
 9399              		.thumb_func
 9401              	f_truncate:
 9402              	.LVL1159:
 9403              	.LFB543:
ARM GAS  /tmp/ccVOuidm.s 			page 316


4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9404              		.loc 1 4478 1 is_stmt 1 view -0
 9405              		.cfi_startproc
 9406              		@ args = 0, pretend = 0, frame = 8
 9407              		@ frame_needed = 0, uses_anonymous_args = 0
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9408              		.loc 1 4478 1 is_stmt 0 view .LVU3027
 9409 0000 30B5     		push	{r4, r5, lr}
 9410              	.LCFI72:
 9411              		.cfi_def_cfa_offset 12
 9412              		.cfi_offset 4, -12
 9413              		.cfi_offset 5, -8
 9414              		.cfi_offset 14, -4
 9415 0002 83B0     		sub	sp, sp, #12
 9416              	.LCFI73:
 9417              		.cfi_def_cfa_offset 24
 9418 0004 0400     		movs	r4, r0
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9419              		.loc 1 4479 2 is_stmt 1 view .LVU3028
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 9420              		.loc 1 4480 2 view .LVU3029
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9421              		.loc 1 4481 2 view .LVU3030
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 9422              		.loc 1 4484 2 view .LVU3031
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 9423              		.loc 1 4484 8 is_stmt 0 view .LVU3032
 9424 0006 01A9     		add	r1, sp, #4
 9425 0008 FFF7FEFF 		bl	validate
 9426              	.LVL1160:
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 9427              		.loc 1 4484 8 view .LVU3033
 9428 000c 051E     		subs	r5, r0, #0
 9429              	.LVL1161:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 9430              		.loc 1 4485 2 is_stmt 1 view .LVU3034
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 9431              		.loc 1 4485 5 is_stmt 0 view .LVU3035
 9432 000e 4BD1     		bne	.L606
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 9433              		.loc 1 4485 27 discriminator 2 view .LVU3036
 9434 0010 657D     		ldrb	r5, [r4, #21]
 9435              	.LVL1162:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 9436              		.loc 1 4485 19 discriminator 2 view .LVU3037
 9437 0012 002D     		cmp	r5, #0
 9438 0014 48D1     		bne	.L606
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9439              		.loc 1 4486 2 is_stmt 1 view .LVU3038
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9440              		.loc 1 4486 10 is_stmt 0 view .LVU3039
 9441 0016 237D     		ldrb	r3, [r4, #20]
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9442              		.loc 1 4486 5 view .LVU3040
 9443 0018 9B07     		lsls	r3, r3, #30
 9444 001a 44D5     		bpl	.L611
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
ARM GAS  /tmp/ccVOuidm.s 			page 317


 9445              		.loc 1 4488 2 is_stmt 1 view .LVU3041
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 9446              		.loc 1 4488 8 is_stmt 0 view .LVU3042
 9447 001c A369     		ldr	r3, [r4, #24]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 9448              		.loc 1 4488 24 view .LVU3043
 9449 001e E268     		ldr	r2, [r4, #12]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 9450              		.loc 1 4488 5 view .LVU3044
 9451 0020 9342     		cmp	r3, r2
 9452 0022 41D2     		bcs	.L606
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 9453              		.loc 1 4489 3 is_stmt 1 view .LVU3045
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 9454              		.loc 1 4489 6 is_stmt 0 view .LVU3046
 9455 0024 002B     		cmp	r3, #0
 9456 0026 22D1     		bne	.L607
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 9457              		.loc 1 4490 4 is_stmt 1 view .LVU3047
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 9458              		.loc 1 4490 10 is_stmt 0 view .LVU3048
 9459 0028 A168     		ldr	r1, [r4, #8]
 9460 002a 0022     		movs	r2, #0
 9461 002c 2000     		movs	r0, r4
 9462 002e FFF7FEFF 		bl	remove_chain
 9463              	.LVL1163:
 9464 0032 0500     		movs	r5, r0
 9465              	.LVL1164:
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 9466              		.loc 1 4491 4 is_stmt 1 view .LVU3049
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 9467              		.loc 1 4491 19 is_stmt 0 view .LVU3050
 9468 0034 0023     		movs	r3, #0
 9469 0036 A360     		str	r3, [r4, #8]
 9470              	.LVL1165:
 9471              	.L608:
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 9472              		.loc 1 4501 3 is_stmt 1 view .LVU3051
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 9473              		.loc 1 4501 23 is_stmt 0 view .LVU3052
 9474 0038 A369     		ldr	r3, [r4, #24]
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 9475              		.loc 1 4501 19 view .LVU3053
 9476 003a E360     		str	r3, [r4, #12]
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9477              		.loc 1 4502 3 is_stmt 1 view .LVU3054
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9478              		.loc 1 4502 5 is_stmt 0 view .LVU3055
 9479 003c 237D     		ldrb	r3, [r4, #20]
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9480              		.loc 1 4502 12 view .LVU3056
 9481 003e 4022     		movs	r2, #64
 9482 0040 1343     		orrs	r3, r2
 9483 0042 DBB2     		uxtb	r3, r3
 9484 0044 2375     		strb	r3, [r4, #20]
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 9485              		.loc 1 4504 3 is_stmt 1 view .LVU3057
ARM GAS  /tmp/ccVOuidm.s 			page 318


4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 9486              		.loc 1 4504 6 is_stmt 0 view .LVU3058
 9487 0046 002D     		cmp	r5, #0
 9488 0048 2BD1     		bne	.L610
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 9489              		.loc 1 4504 20 discriminator 1 view .LVU3059
 9490 004a 5BB2     		sxtb	r3, r3
 9491 004c 002B     		cmp	r3, #0
 9492 004e 2BDA     		bge	.L606
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 9493              		.loc 1 4505 4 is_stmt 1 view .LVU3060
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 9494              		.loc 1 4505 21 is_stmt 0 view .LVU3061
 9495 0050 019B     		ldr	r3, [sp, #4]
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 9496              		.loc 1 4505 30 view .LVU3062
 9497 0052 2100     		movs	r1, r4
 9498 0054 3031     		adds	r1, r1, #48
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 9499              		.loc 1 4505 8 view .LVU3063
 9500 0056 226A     		ldr	r2, [r4, #32]
 9501 0058 5878     		ldrb	r0, [r3, #1]
 9502 005a 0123     		movs	r3, #1
 9503 005c FFF7FEFF 		bl	disk_write
 9504              	.LVL1166:
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 9505              		.loc 1 4505 7 discriminator 1 view .LVU3064
 9506 0060 0028     		cmp	r0, #0
 9507 0062 1DD1     		bne	.L614
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9508              		.loc 1 4508 5 is_stmt 1 view .LVU3065
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9509              		.loc 1 4508 7 is_stmt 0 view .LVU3066
 9510 0064 227D     		ldrb	r2, [r4, #20]
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9511              		.loc 1 4508 14 view .LVU3067
 9512 0066 7F23     		movs	r3, #127
 9513 0068 1340     		ands	r3, r2
 9514 006a 2375     		strb	r3, [r4, #20]
 9515 006c 1CE0     		b	.L606
 9516              	.L607:
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9517              		.loc 1 4493 4 is_stmt 1 view .LVU3068
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9518              		.loc 1 4493 10 is_stmt 0 view .LVU3069
 9519 006e E169     		ldr	r1, [r4, #28]
 9520 0070 2000     		movs	r0, r4
 9521 0072 FFF7FEFF 		bl	get_fat
 9522              	.LVL1167:
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9523              		.loc 1 4494 4 is_stmt 1 view .LVU3070
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9524              		.loc 1 4495 4 view .LVU3071
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9525              		.loc 1 4495 7 is_stmt 0 view .LVU3072
 9526 0076 431C     		adds	r3, r0, #1
 9527 0078 0ED0     		beq	.L612
ARM GAS  /tmp/ccVOuidm.s 			page 319


4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9528              		.loc 1 4496 4 is_stmt 1 view .LVU3073
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9529              		.loc 1 4496 7 is_stmt 0 view .LVU3074
 9530 007a 0128     		cmp	r0, #1
 9531 007c 0ED0     		beq	.L615
 9532              	.L609:
 9533              	.LVL1168:
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9534              		.loc 1 4497 4 is_stmt 1 view .LVU3075
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9535              		.loc 1 4497 7 is_stmt 0 view .LVU3076
 9536 007e 002D     		cmp	r5, #0
 9537 0080 DAD1     		bne	.L608
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9538              		.loc 1 4497 32 discriminator 1 view .LVU3077
 9539 0082 019B     		ldr	r3, [sp, #4]
 9540 0084 5B69     		ldr	r3, [r3, #20]
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9541              		.loc 1 4497 21 discriminator 1 view .LVU3078
 9542 0086 8342     		cmp	r3, r0
 9543 0088 D6D9     		bls	.L608
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9544              		.loc 1 4498 5 is_stmt 1 view .LVU3079
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9545              		.loc 1 4498 11 is_stmt 0 view .LVU3080
 9546 008a E269     		ldr	r2, [r4, #28]
 9547 008c 0100     		movs	r1, r0
 9548 008e 2000     		movs	r0, r4
 9549              	.LVL1169:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9550              		.loc 1 4498 11 view .LVU3081
 9551 0090 FFF7FEFF 		bl	remove_chain
 9552              	.LVL1170:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9553              		.loc 1 4498 11 view .LVU3082
 9554 0094 0500     		movs	r5, r0
 9555              	.LVL1171:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9556              		.loc 1 4498 11 view .LVU3083
 9557 0096 CFE7     		b	.L608
 9558              	.LVL1172:
 9559              	.L612:
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9560              		.loc 1 4495 31 discriminator 1 view .LVU3084
 9561 0098 0125     		movs	r5, #1
 9562 009a F0E7     		b	.L609
 9563              	.L615:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9564              		.loc 1 4496 22 discriminator 1 view .LVU3085
 9565 009c 0225     		movs	r5, #2
 9566 009e CBE7     		b	.L608
 9567              	.LVL1173:
 9568              	.L614:
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9569              		.loc 1 4506 9 view .LVU3086
 9570 00a0 0125     		movs	r5, #1
ARM GAS  /tmp/ccVOuidm.s 			page 320


 9571              	.LVL1174:
 9572              	.L610:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9573              		.loc 1 4512 21 is_stmt 1 discriminator 1 view .LVU3087
 9574 00a2 6575     		strb	r5, [r4, #21]
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9575              		.loc 1 4512 21 view .LVU3088
 9576 00a4 00E0     		b	.L606
 9577              	.LVL1175:
 9578              	.L611:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9579              		.loc 1 4486 30 is_stmt 0 discriminator 1 view .LVU3089
 9580 00a6 0725     		movs	r5, #7
 9581              	.LVL1176:
 9582              	.L606:
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9583              		.loc 1 4516 1 view .LVU3090
 9584 00a8 2800     		movs	r0, r5
 9585 00aa 03B0     		add	sp, sp, #12
 9586              		@ sp needed
 9587              	.LVL1177:
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9588              		.loc 1 4516 1 view .LVU3091
 9589 00ac 30BD     		pop	{r4, r5, pc}
 9590              		.cfi_endproc
 9591              	.LFE543:
 9593              		.section	.text.f_unlink,"ax",%progbits
 9594              		.align	1
 9595              		.global	f_unlink
 9596              		.syntax unified
 9597              		.code	16
 9598              		.thumb_func
 9600              	f_unlink:
 9601              	.LVL1178:
 9602              	.LFB544:
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9603              		.loc 1 4528 1 is_stmt 1 view -0
 9604              		.cfi_startproc
 9605              		@ args = 0, pretend = 0, frame = 112
 9606              		@ frame_needed = 0, uses_anonymous_args = 0
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9607              		.loc 1 4528 1 is_stmt 0 view .LVU3093
 9608 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 9609              	.LCFI74:
 9610              		.cfi_def_cfa_offset 20
 9611              		.cfi_offset 4, -20
 9612              		.cfi_offset 5, -16
 9613              		.cfi_offset 6, -12
 9614              		.cfi_offset 7, -8
 9615              		.cfi_offset 14, -4
 9616 0002 9DB0     		sub	sp, sp, #116
 9617              	.LCFI75:
 9618              		.cfi_def_cfa_offset 136
 9619 0004 0190     		str	r0, [sp, #4]
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 9620              		.loc 1 4529 2 is_stmt 1 view .LVU3094
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
ARM GAS  /tmp/ccVOuidm.s 			page 321


 9621              		.loc 1 4530 2 view .LVU3095
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9622              		.loc 1 4531 2 view .LVU3096
 9623              	.LVL1179:
4532:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9624              		.loc 1 4532 2 view .LVU3097
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9625              		.loc 1 4540 2 view .LVU3098
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9626              		.loc 1 4540 8 is_stmt 0 view .LVU3099
 9627 0006 0222     		movs	r2, #2
 9628 0008 03A9     		add	r1, sp, #12
 9629 000a 01A8     		add	r0, sp, #4
 9630              	.LVL1180:
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9631              		.loc 1 4540 8 view .LVU3100
 9632 000c FFF7FEFF 		bl	find_volume
 9633              	.LVL1181:
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9634              		.loc 1 4540 8 view .LVU3101
 9635 0010 041E     		subs	r4, r0, #0
 9636              	.LVL1182:
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9637              		.loc 1 4541 2 is_stmt 1 view .LVU3102
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9638              		.loc 1 4541 12 is_stmt 0 view .LVU3103
 9639 0012 039B     		ldr	r3, [sp, #12]
 9640 0014 1093     		str	r3, [sp, #64]
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9641              		.loc 1 4542 2 is_stmt 1 view .LVU3104
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9642              		.loc 1 4542 5 is_stmt 0 view .LVU3105
 9643 0016 02D0     		beq	.L625
 9644              	.LVL1183:
 9645              	.L617:
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9646              		.loc 1 4607 16 is_stmt 1 view .LVU3106
4610:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9647              		.loc 1 4610 2 view .LVU3107
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9648              		.loc 1 4611 1 is_stmt 0 view .LVU3108
 9649 0018 2000     		movs	r0, r4
 9650 001a 1DB0     		add	sp, sp, #116
 9651              		@ sp needed
 9652              	.LVL1184:
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9653              		.loc 1 4611 1 view .LVU3109
 9654 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 9655              	.LVL1185:
 9656              	.L625:
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 9657              		.loc 1 4543 18 is_stmt 1 view .LVU3110
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9658              		.loc 1 4544 3 view .LVU3111
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9659              		.loc 1 4544 9 is_stmt 0 view .LVU3112
 9660 001e 0199     		ldr	r1, [sp, #4]
ARM GAS  /tmp/ccVOuidm.s 			page 322


 9661 0020 10A8     		add	r0, sp, #64
 9662              	.LVL1186:
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9663              		.loc 1 4544 9 view .LVU3113
 9664 0022 FFF7FEFF 		bl	follow_path
 9665              	.LVL1187:
 9666 0026 041E     		subs	r4, r0, #0
 9667              	.LVL1188:
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 9668              		.loc 1 4545 3 is_stmt 1 view .LVU3114
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9669              		.loc 1 4549 3 view .LVU3115
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9670              		.loc 1 4549 6 is_stmt 0 view .LVU3116
 9671 0028 F6D1     		bne	.L617
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9672              		.loc 1 4549 21 is_stmt 1 discriminator 1 view .LVU3117
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9673              		.loc 1 4549 27 is_stmt 0 discriminator 1 view .LVU3118
 9674 002a 0221     		movs	r1, #2
 9675 002c 10A8     		add	r0, sp, #64
 9676              	.LVL1189:
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9677              		.loc 1 4549 27 discriminator 1 view .LVU3119
 9678 002e FFF7FEFF 		bl	chk_lock
 9679              	.LVL1190:
 9680 0032 041E     		subs	r4, r0, #0
 9681              	.LVL1191:
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 9682              		.loc 1 4551 3 is_stmt 1 view .LVU3120
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 9683              		.loc 1 4551 6 is_stmt 0 view .LVU3121
 9684 0034 F0D1     		bne	.L617
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9685              		.loc 1 4552 4 is_stmt 1 view .LVU3122
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9686              		.loc 1 4552 8 is_stmt 0 view .LVU3123
 9687 0036 10AA     		add	r2, sp, #64
 9688 0038 2F23     		movs	r3, #47
 9689 003a D356     		ldrsb	r3, [r2, r3]
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9690              		.loc 1 4552 7 view .LVU3124
 9691 003c 002B     		cmp	r3, #0
 9692 003e 34DB     		blt	.L621
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9693              		.loc 1 4555 5 is_stmt 1 view .LVU3125
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9694              		.loc 1 4555 15 is_stmt 0 view .LVU3126
 9695 0040 9579     		ldrb	r5, [r2, #6]
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9696              		.loc 1 4555 8 view .LVU3127
 9697 0042 EB07     		lsls	r3, r5, #31
 9698 0044 33D4     		bmi	.L622
 9699              	.LVL1192:
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9700              		.loc 1 4559 4 is_stmt 1 view .LVU3128
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccVOuidm.s 			page 323


 9701              		.loc 1 4569 6 view .LVU3129
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9702              		.loc 1 4569 14 is_stmt 0 view .LVU3130
 9703 0046 039F     		ldr	r7, [sp, #12]
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9704              		.loc 1 4569 29 view .LVU3131
 9705 0048 1899     		ldr	r1, [sp, #96]
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9706              		.loc 1 4569 14 view .LVU3132
 9707 004a 3800     		movs	r0, r7
 9708 004c FFF7FEFF 		bl	ld_clust
 9709              	.LVL1193:
 9710 0050 0600     		movs	r6, r0
 9711              	.LVL1194:
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 9712              		.loc 1 4571 5 is_stmt 1 view .LVU3133
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 9713              		.loc 1 4571 8 is_stmt 0 view .LVU3134
 9714 0052 ED06     		lsls	r5, r5, #27
 9715 0054 0FD4     		bmi	.L626
 9716              	.LVL1195:
 9717              	.L618:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 9718              		.loc 1 4595 4 is_stmt 1 view .LVU3135
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 9719              		.loc 1 4595 7 is_stmt 0 view .LVU3136
 9720 0056 002C     		cmp	r4, #0
 9721 0058 DED1     		bne	.L617
 9722              	.LVL1196:
 9723              	.L619:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 9724              		.loc 1 4596 5 is_stmt 1 view .LVU3137
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 9725              		.loc 1 4596 11 is_stmt 0 view .LVU3138
 9726 005a 10A8     		add	r0, sp, #64
 9727 005c FFF7FEFF 		bl	dir_remove
 9728              	.LVL1197:
 9729 0060 041E     		subs	r4, r0, #0
 9730              	.LVL1198:
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9731              		.loc 1 4597 5 is_stmt 1 view .LVU3139
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9732              		.loc 1 4597 8 is_stmt 0 view .LVU3140
 9733 0062 D9D1     		bne	.L617
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9734              		.loc 1 4597 22 discriminator 1 view .LVU3141
 9735 0064 002E     		cmp	r6, #0
 9736 0066 19D1     		bne	.L627
 9737              	.LVL1199:
 9738              	.L620:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9739              		.loc 1 4604 5 is_stmt 1 view .LVU3142
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9740              		.loc 1 4604 8 is_stmt 0 view .LVU3143
 9741 0068 002C     		cmp	r4, #0
 9742 006a D5D1     		bne	.L617
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccVOuidm.s 			page 324


 9743              		.loc 1 4604 23 is_stmt 1 discriminator 1 view .LVU3144
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9744              		.loc 1 4604 29 is_stmt 0 discriminator 1 view .LVU3145
 9745 006c 0398     		ldr	r0, [sp, #12]
 9746 006e FFF7FEFF 		bl	sync_fs
 9747              	.LVL1200:
 9748 0072 0400     		movs	r4, r0
 9749              	.LVL1201:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9750              		.loc 1 4604 29 discriminator 1 view .LVU3146
 9751 0074 D0E7     		b	.L617
 9752              	.LVL1202:
 9753              	.L626:
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 9754              		.loc 1 4578 7 is_stmt 1 view .LVU3147
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 9755              		.loc 1 4578 18 is_stmt 0 view .LVU3148
 9756 0076 04A8     		add	r0, sp, #16
 9757              	.LVL1203:
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 9758              		.loc 1 4578 18 view .LVU3149
 9759 0078 0497     		str	r7, [sp, #16]
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9760              		.loc 1 4579 7 is_stmt 1 view .LVU3150
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9761              		.loc 1 4579 22 is_stmt 0 view .LVU3151
 9762 007a 8660     		str	r6, [r0, #8]
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 9763              		.loc 1 4586 7 is_stmt 1 view .LVU3152
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 9764              		.loc 1 4586 13 is_stmt 0 view .LVU3153
 9765 007c 0021     		movs	r1, #0
 9766 007e FFF7FEFF 		bl	dir_sdi
 9767              	.LVL1204:
 9768 0082 041E     		subs	r4, r0, #0
 9769              	.LVL1205:
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 9770              		.loc 1 4587 7 is_stmt 1 view .LVU3154
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 9771              		.loc 1 4587 10 is_stmt 0 view .LVU3155
 9772 0084 C8D1     		bne	.L617
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9773              		.loc 1 4588 8 is_stmt 1 view .LVU3156
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9774              		.loc 1 4588 14 is_stmt 0 view .LVU3157
 9775 0086 0021     		movs	r1, #0
 9776 0088 04A8     		add	r0, sp, #16
 9777              	.LVL1206:
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9778              		.loc 1 4588 14 view .LVU3158
 9779 008a FFF7FEFF 		bl	dir_read
 9780              	.LVL1207:
 9781 008e 041E     		subs	r4, r0, #0
 9782              	.LVL1208:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 9783              		.loc 1 4589 8 is_stmt 1 view .LVU3159
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
ARM GAS  /tmp/ccVOuidm.s 			page 325


 9784              		.loc 1 4589 11 is_stmt 0 view .LVU3160
 9785 0090 02D0     		beq	.L623
 9786              	.LVL1209:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9787              		.loc 1 4590 8 is_stmt 1 view .LVU3161
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9788              		.loc 1 4590 11 is_stmt 0 view .LVU3162
 9789 0092 0428     		cmp	r0, #4
 9790 0094 DFD1     		bne	.L618
 9791 0096 E0E7     		b	.L619
 9792              	.LVL1210:
 9793              	.L623:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 9794              		.loc 1 4589 30 discriminator 1 view .LVU3163
 9795 0098 0724     		movs	r4, #7
 9796 009a DCE7     		b	.L618
 9797              	.LVL1211:
 9798              	.L627:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9799              		.loc 1 4601 6 is_stmt 1 view .LVU3164
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9800              		.loc 1 4601 12 is_stmt 0 view .LVU3165
 9801 009c 0022     		movs	r2, #0
 9802 009e 3100     		movs	r1, r6
 9803 00a0 10A8     		add	r0, sp, #64
 9804              	.LVL1212:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9805              		.loc 1 4601 12 view .LVU3166
 9806 00a2 FFF7FEFF 		bl	remove_chain
 9807              	.LVL1213:
 9808 00a6 0400     		movs	r4, r0
 9809              	.LVL1214:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9810              		.loc 1 4601 12 view .LVU3167
 9811 00a8 DEE7     		b	.L620
 9812              	.LVL1215:
 9813              	.L621:
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9814              		.loc 1 4553 9 view .LVU3168
 9815 00aa 0624     		movs	r4, #6
 9816 00ac B4E7     		b	.L617
 9817              	.L622:
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9818              		.loc 1 4556 10 view .LVU3169
 9819 00ae 0724     		movs	r4, #7
 9820 00b0 B2E7     		b	.L617
 9821              		.cfi_endproc
 9822              	.LFE544:
 9824              		.section	.text.f_mkdir,"ax",%progbits
 9825              		.align	1
 9826              		.global	f_mkdir
 9827              		.syntax unified
 9828              		.code	16
 9829              		.thumb_func
 9831              	f_mkdir:
 9832              	.LVL1216:
 9833              	.LFB545:
ARM GAS  /tmp/ccVOuidm.s 			page 326


4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9834              		.loc 1 4623 1 is_stmt 1 view -0
 9835              		.cfi_startproc
 9836              		@ args = 0, pretend = 0, frame = 64
 9837              		@ frame_needed = 0, uses_anonymous_args = 0
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9838              		.loc 1 4623 1 is_stmt 0 view .LVU3171
 9839 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 9840              	.LCFI76:
 9841              		.cfi_def_cfa_offset 20
 9842              		.cfi_offset 4, -20
 9843              		.cfi_offset 5, -16
 9844              		.cfi_offset 6, -12
 9845              		.cfi_offset 7, -8
 9846              		.cfi_offset 14, -4
 9847 0002 DE46     		mov	lr, fp
 9848 0004 5746     		mov	r7, r10
 9849 0006 4E46     		mov	r6, r9
 9850 0008 4546     		mov	r5, r8
 9851 000a E0B5     		push	{r5, r6, r7, lr}
 9852              	.LCFI77:
 9853              		.cfi_def_cfa_offset 36
 9854              		.cfi_offset 8, -36
 9855              		.cfi_offset 9, -32
 9856              		.cfi_offset 10, -28
 9857              		.cfi_offset 11, -24
 9858 000c 91B0     		sub	sp, sp, #68
 9859              	.LCFI78:
 9860              		.cfi_def_cfa_offset 104
 9861 000e 0190     		str	r0, [sp, #4]
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9862              		.loc 1 4624 2 is_stmt 1 view .LVU3172
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9863              		.loc 1 4625 2 view .LVU3173
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 9864              		.loc 1 4626 2 view .LVU3174
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 9865              		.loc 1 4627 2 view .LVU3175
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
 9866              		.loc 1 4628 2 view .LVU3176
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9867              		.loc 1 4629 2 view .LVU3177
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9868              		.loc 1 4634 2 view .LVU3178
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9869              		.loc 1 4634 8 is_stmt 0 view .LVU3179
 9870 0010 0222     		movs	r2, #2
 9871 0012 03A9     		add	r1, sp, #12
 9872 0014 01A8     		add	r0, sp, #4
 9873              	.LVL1217:
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9874              		.loc 1 4634 8 view .LVU3180
 9875 0016 FFF7FEFF 		bl	find_volume
 9876              	.LVL1218:
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9877              		.loc 1 4634 8 view .LVU3181
 9878 001a 041E     		subs	r4, r0, #0
ARM GAS  /tmp/ccVOuidm.s 			page 327


 9879              	.LVL1219:
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9880              		.loc 1 4635 2 is_stmt 1 view .LVU3182
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9881              		.loc 1 4635 12 is_stmt 0 view .LVU3183
 9882 001c 039B     		ldr	r3, [sp, #12]
 9883 001e 0493     		str	r3, [sp, #16]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9884              		.loc 1 4636 2 is_stmt 1 view .LVU3184
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9885              		.loc 1 4636 5 is_stmt 0 view .LVU3185
 9886 0020 07D0     		beq	.L645
 9887              	.LVL1220:
 9888              	.L629:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9889              		.loc 1 4704 16 is_stmt 1 view .LVU3186
4707:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9890              		.loc 1 4707 2 view .LVU3187
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9891              		.loc 1 4708 1 is_stmt 0 view .LVU3188
 9892 0022 2000     		movs	r0, r4
 9893 0024 11B0     		add	sp, sp, #68
 9894              		@ sp needed
 9895              	.LVL1221:
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9896              		.loc 1 4708 1 view .LVU3189
 9897 0026 F0BC     		pop	{r4, r5, r6, r7}
 9898 0028 BB46     		mov	fp, r7
 9899 002a B246     		mov	r10, r6
 9900 002c A946     		mov	r9, r5
 9901 002e A046     		mov	r8, r4
 9902 0030 F0BD     		pop	{r4, r5, r6, r7, pc}
 9903              	.L645:
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 9904              		.loc 1 4637 18 is_stmt 1 view .LVU3190
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9905              		.loc 1 4638 3 view .LVU3191
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9906              		.loc 1 4638 9 is_stmt 0 view .LVU3192
 9907 0032 0199     		ldr	r1, [sp, #4]
 9908 0034 04A8     		add	r0, sp, #16
 9909              	.LVL1222:
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9910              		.loc 1 4638 9 view .LVU3193
 9911 0036 FFF7FEFF 		bl	follow_path
 9912              	.LVL1223:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 9913              		.loc 1 4639 3 is_stmt 1 view .LVU3194
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 9914              		.loc 1 4639 6 is_stmt 0 view .LVU3195
 9915 003a 0028     		cmp	r0, #0
 9916 003c 00D1     		bne	.LCB9535
 9917 003e 9DE0     		b	.L638	@long jump
 9918              	.LCB9535:
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9919              		.loc 1 4640 3 is_stmt 1 view .LVU3196
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
ARM GAS  /tmp/ccVOuidm.s 			page 328


 9920              		.loc 1 4643 3 view .LVU3197
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 9921              		.loc 1 4643 6 is_stmt 0 view .LVU3198
 9922 0040 0428     		cmp	r0, #4
 9923 0042 01D0     		beq	.L646
 9924 0044 0400     		movs	r4, r0
 9925 0046 ECE7     		b	.L629
 9926              	.L646:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 9927              		.loc 1 4644 4 is_stmt 1 view .LVU3199
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 9928              		.loc 1 4644 10 is_stmt 0 view .LVU3200
 9929 0048 04AD     		add	r5, sp, #16
 9930 004a 0021     		movs	r1, #0
 9931 004c 2800     		movs	r0, r5
 9932              	.LVL1224:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 9933              		.loc 1 4644 10 view .LVU3201
 9934 004e FFF7FEFF 		bl	create_chain
 9935              	.LVL1225:
 9936 0052 8146     		mov	r9, r0
 9937              	.LVL1226:
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9938              		.loc 1 4645 4 is_stmt 1 view .LVU3202
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9939              		.loc 1 4645 30 is_stmt 0 view .LVU3203
 9940 0054 0398     		ldr	r0, [sp, #12]
 9941              	.LVL1227:
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9942              		.loc 1 4645 30 view .LVU3204
 9943 0056 4389     		ldrh	r3, [r0, #10]
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9944              		.loc 1 4645 38 view .LVU3205
 9945 0058 5B02     		lsls	r3, r3, #9
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9946              		.loc 1 4645 19 view .LVU3206
 9947 005a 0793     		str	r3, [sp, #28]
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 9948              		.loc 1 4646 4 is_stmt 1 view .LVU3207
 9949              	.LVL1228:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9950              		.loc 1 4647 4 view .LVU3208
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9951              		.loc 1 4647 7 is_stmt 0 view .LVU3209
 9952 005c 4B46     		mov	r3, r9
 9953 005e 002B     		cmp	r3, #0
 9954 0060 03D0     		beq	.L640
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9955              		.loc 1 4648 4 is_stmt 1 view .LVU3210
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9956              		.loc 1 4648 7 is_stmt 0 view .LVU3211
 9957 0062 012B     		cmp	r3, #1
 9958 0064 02D1     		bne	.L630
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9959              		.loc 1 4648 22 discriminator 1 view .LVU3212
 9960 0066 0224     		movs	r4, #2
 9961 0068 03E0     		b	.L631
ARM GAS  /tmp/ccVOuidm.s 			page 329


 9962              	.L640:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9963              		.loc 1 4647 22 discriminator 1 view .LVU3213
 9964 006a 0724     		movs	r4, #7
 9965              	.L630:
 9966              	.LVL1229:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 9967              		.loc 1 4649 4 is_stmt 1 view .LVU3214
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 9968              		.loc 1 4649 7 is_stmt 0 view .LVU3215
 9969 006c 4B46     		mov	r3, r9
 9970 006e 0133     		adds	r3, r3, #1
 9971 0070 5BD0     		beq	.L647
 9972              	.LVL1230:
 9973              	.L631:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9974              		.loc 1 4650 4 is_stmt 1 view .LVU3216
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9975              		.loc 1 4650 7 is_stmt 0 view .LVU3217
 9976 0072 002C     		cmp	r4, #0
 9977 0074 55D0     		beq	.L648
 9978              	.LVL1231:
 9979              	.L632:
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9980              		.loc 1 4651 4 is_stmt 1 view .LVU3218
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9981              		.loc 1 4651 9 is_stmt 0 view .LVU3219
 9982 0076 FFF7FEFF 		bl	get_fattime
 9983              	.LVL1232:
 9984 007a 0700     		movs	r7, r0
 9985 007c 0090     		str	r0, [sp]
 9986              	.LVL1233:
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 9987              		.loc 1 4652 4 is_stmt 1 view .LVU3220
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 9988              		.loc 1 4652 7 is_stmt 0 view .LVU3221
 9989 007e 002C     		cmp	r4, #0
 9990 0080 5CD1     		bne	.L633
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 9991              		.loc 1 4653 5 is_stmt 1 view .LVU3222
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 9992              		.loc 1 4653 11 is_stmt 0 view .LVU3223
 9993 0082 039E     		ldr	r6, [sp, #12]
 9994 0084 4946     		mov	r1, r9
 9995 0086 3000     		movs	r0, r6
 9996              	.LVL1234:
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 9997              		.loc 1 4653 11 view .LVU3224
 9998 0088 FFF7FEFF 		bl	clust2sect
 9999              	.LVL1235:
 10000 008c 0500     		movs	r5, r0
 10001              	.LVL1236:
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 10002              		.loc 1 4654 5 is_stmt 1 view .LVU3225
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 10003              		.loc 1 4654 9 is_stmt 0 view .LVU3226
 10004 008e 3023     		movs	r3, #48
ARM GAS  /tmp/ccVOuidm.s 			page 330


 10005 0090 9A46     		mov	r10, r3
 10006 0092 B244     		add	r10, r10, r6
 10007              	.LVL1237:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 10008              		.loc 1 4655 5 is_stmt 1 view .LVU3227
 10009 0094 8022     		movs	r2, #128
 10010 0096 9200     		lsls	r2, r2, #2
 10011 0098 0021     		movs	r1, #0
 10012 009a 5046     		mov	r0, r10
 10013              	.LVL1238:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 10014              		.loc 1 4655 5 is_stmt 0 view .LVU3228
 10015 009c FFF7FEFF 		bl	mem_set
 10016              	.LVL1239:
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 10017              		.loc 1 4656 5 is_stmt 1 view .LVU3229
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
 10018              		.loc 1 4657 6 view .LVU3230
 10019 00a0 0B22     		movs	r2, #11
 10020 00a2 2021     		movs	r1, #32
 10021 00a4 5046     		mov	r0, r10
 10022 00a6 FFF7FEFF 		bl	mem_set
 10023              	.LVL1240:
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 10024              		.loc 1 4658 6 view .LVU3231
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 10025              		.loc 1 4658 20 is_stmt 0 view .LVU3232
 10026 00aa 2E23     		movs	r3, #46
 10027 00ac 9B46     		mov	fp, r3
 10028 00ae 0233     		adds	r3, r3, #2
 10029 00b0 5A46     		mov	r2, fp
 10030 00b2 F254     		strb	r2, [r6, r3]
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 10031              		.loc 1 4659 6 is_stmt 1 view .LVU3233
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 10032              		.loc 1 4659 20 is_stmt 0 view .LVU3234
 10033 00b4 0B33     		adds	r3, r3, #11
 10034 00b6 1E3A     		subs	r2, r2, #30
 10035 00b8 F254     		strb	r2, [r6, r3]
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
 10036              		.loc 1 4660 6 is_stmt 1 view .LVU3235
 10037 00ba 3000     		movs	r0, r6
 10038 00bc 4630     		adds	r0, r0, #70
 10039 00be 3900     		movs	r1, r7
 10040 00c0 FFF7FEFF 		bl	st_dword
 10041              	.LVL1241:
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
 10042              		.loc 1 4661 6 view .LVU3236
 10043 00c4 0398     		ldr	r0, [sp, #12]
 10044 00c6 4A46     		mov	r2, r9
 10045 00c8 5146     		mov	r1, r10
 10046 00ca FFF7FEFF 		bl	st_clust
 10047              	.LVL1242:
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10048              		.loc 1 4662 6 view .LVU3237
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10049              		.loc 1 4662 18 is_stmt 0 view .LVU3238
ARM GAS  /tmp/ccVOuidm.s 			page 331


 10050 00ce 5023     		movs	r3, #80
 10051 00d0 9846     		mov	r8, r3
 10052 00d2 B044     		add	r8, r8, r6
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10053              		.loc 1 4662 6 view .LVU3239
 10054 00d4 2022     		movs	r2, #32
 10055 00d6 5146     		mov	r1, r10
 10056 00d8 4046     		mov	r0, r8
 10057 00da FFF7FEFF 		bl	mem_cpy
 10058              	.LVL1243:
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10059              		.loc 1 4663 6 is_stmt 1 view .LVU3240
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10060              		.loc 1 4663 22 is_stmt 0 view .LVU3241
 10061 00de 5123     		movs	r3, #81
 10062 00e0 5A46     		mov	r2, fp
 10063 00e2 F254     		strb	r2, [r6, r3]
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10064              		.loc 1 4663 29 is_stmt 1 view .LVU3242
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10065              		.loc 1 4663 33 is_stmt 0 view .LVU3243
 10066 00e4 069A     		ldr	r2, [sp, #24]
 10067              	.LVL1244:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10068              		.loc 1 4664 6 is_stmt 1 view .LVU3244
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10069              		.loc 1 4664 12 is_stmt 0 view .LVU3245
 10070 00e6 0398     		ldr	r0, [sp, #12]
 10071 00e8 0378     		ldrb	r3, [r0]
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10072              		.loc 1 4664 9 view .LVU3246
 10073 00ea 032B     		cmp	r3, #3
 10074 00ec 1FD0     		beq	.L649
 10075              	.LVL1245:
 10076              	.L634:
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10077              		.loc 1 4665 6 is_stmt 1 view .LVU3247
 10078 00ee 4146     		mov	r1, r8
 10079 00f0 FFF7FEFF 		bl	st_clust
 10080              	.LVL1246:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10081              		.loc 1 4667 5 view .LVU3248
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10082              		.loc 1 4667 16 is_stmt 0 view .LVU3249
 10083 00f4 039B     		ldr	r3, [sp, #12]
 10084 00f6 5E89     		ldrh	r6, [r3, #10]
 10085              	.LVL1247:
 10086              	.L635:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10087              		.loc 1 4667 25 is_stmt 1 discriminator 1 view .LVU3250
 10088 00f8 002E     		cmp	r6, #0
 10089 00fa 1DD0     		beq	.L636
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10090              		.loc 1 4668 6 view .LVU3251
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10091              		.loc 1 4668 23 is_stmt 0 view .LVU3252
 10092 00fc 6F1C     		adds	r7, r5, #1
ARM GAS  /tmp/ccVOuidm.s 			page 332


 10093              	.LVL1248:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10094              		.loc 1 4668 8 view .LVU3253
 10095 00fe 039B     		ldr	r3, [sp, #12]
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10096              		.loc 1 4668 18 view .LVU3254
 10097 0100 DD62     		str	r5, [r3, #44]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 10098              		.loc 1 4669 6 is_stmt 1 view .LVU3255
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 10099              		.loc 1 4669 16 is_stmt 0 view .LVU3256
 10100 0102 0122     		movs	r2, #1
 10101 0104 DA70     		strb	r2, [r3, #3]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 10102              		.loc 1 4670 6 is_stmt 1 view .LVU3257
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 10103              		.loc 1 4670 12 is_stmt 0 view .LVU3258
 10104 0106 0398     		ldr	r0, [sp, #12]
 10105 0108 FFF7FEFF 		bl	sync_window
 10106              	.LVL1249:
 10107 010c 041E     		subs	r4, r0, #0
 10108              	.LVL1250:
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 10109              		.loc 1 4671 6 is_stmt 1 view .LVU3259
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 10110              		.loc 1 4671 9 is_stmt 0 view .LVU3260
 10111 010e 13D1     		bne	.L636
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10112              		.loc 1 4672 6 is_stmt 1 view .LVU3261
 10113 0110 8022     		movs	r2, #128
 10114 0112 9200     		lsls	r2, r2, #2
 10115 0114 0021     		movs	r1, #0
 10116 0116 5046     		mov	r0, r10
 10117              	.LVL1251:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10118              		.loc 1 4672 6 is_stmt 0 view .LVU3262
 10119 0118 FFF7FEFF 		bl	mem_set
 10120              	.LVL1252:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10121              		.loc 1 4667 29 is_stmt 1 discriminator 2 view .LVU3263
 10122 011c 013E     		subs	r6, r6, #1
 10123              	.LVL1253:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10124              		.loc 1 4668 23 is_stmt 0 view .LVU3264
 10125 011e 3D00     		movs	r5, r7
 10126 0120 EAE7     		b	.L635
 10127              	.LVL1254:
 10128              	.L648:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10129              		.loc 1 4650 22 is_stmt 1 discriminator 1 view .LVU3265
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10130              		.loc 1 4650 28 is_stmt 0 discriminator 1 view .LVU3266
 10131 0122 FFF7FEFF 		bl	sync_window
 10132              	.LVL1255:
 10133 0126 0400     		movs	r4, r0
 10134              	.LVL1256:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
ARM GAS  /tmp/ccVOuidm.s 			page 333


 10135              		.loc 1 4650 28 discriminator 1 view .LVU3267
 10136 0128 A5E7     		b	.L632
 10137              	.LVL1257:
 10138              	.L647:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10139              		.loc 1 4649 31 discriminator 1 view .LVU3268
 10140 012a 0124     		movs	r4, #1
 10141              	.LVL1258:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10142              		.loc 1 4649 31 discriminator 1 view .LVU3269
 10143 012c A3E7     		b	.L632
 10144              	.LVL1259:
 10145              	.L649:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10146              		.loc 1 4664 46 discriminator 1 view .LVU3270
 10147 012e 436A     		ldr	r3, [r0, #36]
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10148              		.loc 1 4664 34 discriminator 1 view .LVU3271
 10149 0130 9342     		cmp	r3, r2
 10150 0132 DCD1     		bne	.L634
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10151              		.loc 1 4664 61 discriminator 2 view .LVU3272
 10152 0134 0022     		movs	r2, #0
 10153              	.LVL1260:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10154              		.loc 1 4664 61 discriminator 2 view .LVU3273
 10155 0136 DAE7     		b	.L634
 10156              	.LVL1261:
 10157              	.L636:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 10158              		.loc 1 4675 4 is_stmt 1 view .LVU3274
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 10159              		.loc 1 4675 7 is_stmt 0 view .LVU3275
 10160 0138 002C     		cmp	r4, #0
 10161 013a 05D0     		beq	.L650
 10162              	.LVL1262:
 10163              	.L633:
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10164              		.loc 1 4701 5 is_stmt 1 view .LVU3276
 10165 013c 0022     		movs	r2, #0
 10166 013e 4946     		mov	r1, r9
 10167 0140 04A8     		add	r0, sp, #16
 10168 0142 FFF7FEFF 		bl	remove_chain
 10169              	.LVL1263:
 10170 0146 6CE7     		b	.L629
 10171              	.LVL1264:
 10172              	.L650:
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10173              		.loc 1 4676 5 view .LVU3277
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10174              		.loc 1 4676 11 is_stmt 0 view .LVU3278
 10175 0148 04A8     		add	r0, sp, #16
 10176 014a FFF7FEFF 		bl	dir_register
 10177              	.LVL1265:
 10178 014e 041E     		subs	r4, r0, #0
 10179              	.LVL1266:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
ARM GAS  /tmp/ccVOuidm.s 			page 334


 10180              		.loc 1 4678 4 is_stmt 1 view .LVU3279
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10181              		.loc 1 4678 7 is_stmt 0 view .LVU3280
 10182 0150 F4D1     		bne	.L633
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 10183              		.loc 1 4691 6 is_stmt 1 view .LVU3281
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 10184              		.loc 1 4691 10 is_stmt 0 view .LVU3282
 10185 0152 0C9C     		ldr	r4, [sp, #48]
 10186              	.LVL1267:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 10187              		.loc 1 4692 6 is_stmt 1 view .LVU3283
 10188 0154 2000     		movs	r0, r4
 10189              	.LVL1268:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 10190              		.loc 1 4692 6 is_stmt 0 view .LVU3284
 10191 0156 1630     		adds	r0, r0, #22
 10192 0158 0099     		ldr	r1, [sp]
 10193 015a FFF7FEFF 		bl	st_dword
 10194              	.LVL1269:
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
 10195              		.loc 1 4693 6 is_stmt 1 view .LVU3285
 10196 015e 0398     		ldr	r0, [sp, #12]
 10197 0160 4A46     		mov	r2, r9
 10198 0162 2100     		movs	r1, r4
 10199 0164 FFF7FEFF 		bl	st_clust
 10200              	.LVL1270:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10201              		.loc 1 4694 6 view .LVU3286
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10202              		.loc 1 4694 20 is_stmt 0 view .LVU3287
 10203 0168 1023     		movs	r3, #16
 10204 016a E372     		strb	r3, [r4, #11]
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10205              		.loc 1 4695 6 is_stmt 1 view .LVU3288
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10206              		.loc 1 4695 8 is_stmt 0 view .LVU3289
 10207 016c 039B     		ldr	r3, [sp, #12]
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10208              		.loc 1 4695 16 view .LVU3290
 10209 016e 0122     		movs	r2, #1
 10210 0170 DA70     		strb	r2, [r3, #3]
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 10211              		.loc 1 4697 5 is_stmt 1 view .LVU3291
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10212              		.loc 1 4698 6 view .LVU3292
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10213              		.loc 1 4698 12 is_stmt 0 view .LVU3293
 10214 0172 0398     		ldr	r0, [sp, #12]
 10215 0174 FFF7FEFF 		bl	sync_fs
 10216              	.LVL1271:
 10217 0178 0400     		movs	r4, r0
 10218              	.LVL1272:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10219              		.loc 1 4698 12 view .LVU3294
 10220 017a 52E7     		b	.L629
 10221              	.LVL1273:
ARM GAS  /tmp/ccVOuidm.s 			page 335


 10222              	.L638:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 10223              		.loc 1 4639 25 discriminator 1 view .LVU3295
 10224 017c 0824     		movs	r4, #8
 10225 017e 50E7     		b	.L629
 10226              		.cfi_endproc
 10227              	.LFE545:
 10229              		.section	.text.f_rename,"ax",%progbits
 10230              		.align	1
 10231              		.global	f_rename
 10232              		.syntax unified
 10233              		.code	16
 10234              		.thumb_func
 10236              	f_rename:
 10237              	.LVL1274:
 10238              	.LFB546:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10239              		.loc 1 4721 1 is_stmt 1 view -0
 10240              		.cfi_startproc
 10241              		@ args = 0, pretend = 0, frame = 136
 10242              		@ frame_needed = 0, uses_anonymous_args = 0
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10243              		.loc 1 4721 1 is_stmt 0 view .LVU3297
 10244 0000 30B5     		push	{r4, r5, lr}
 10245              	.LCFI79:
 10246              		.cfi_def_cfa_offset 12
 10247              		.cfi_offset 4, -12
 10248              		.cfi_offset 5, -8
 10249              		.cfi_offset 14, -4
 10250 0002 A3B0     		sub	sp, sp, #140
 10251              	.LCFI80:
 10252              		.cfi_def_cfa_offset 152
 10253 0004 0190     		str	r0, [sp, #4]
 10254 0006 0091     		str	r1, [sp]
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 10255              		.loc 1 4722 2 is_stmt 1 view .LVU3298
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10256              		.loc 1 4723 2 view .LVU3299
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
 10257              		.loc 1 4724 2 view .LVU3300
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
 10258              		.loc 1 4725 2 view .LVU3301
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 10259              		.loc 1 4726 2 view .LVU3302
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 10260              		.loc 1 4730 2 view .LVU3303
 10261 0008 6846     		mov	r0, sp
 10262              	.LVL1275:
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 10263              		.loc 1 4730 2 is_stmt 0 view .LVU3304
 10264 000a FFF7FEFF 		bl	get_ldnumber
 10265              	.LVL1276:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10266              		.loc 1 4731 2 is_stmt 1 view .LVU3305
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10267              		.loc 1 4731 8 is_stmt 0 view .LVU3306
 10268 000e 0222     		movs	r2, #2
ARM GAS  /tmp/ccVOuidm.s 			page 336


 10269 0010 09A9     		add	r1, sp, #36
 10270 0012 01A8     		add	r0, sp, #4
 10271 0014 FFF7FEFF 		bl	find_volume
 10272              	.LVL1277:
 10273 0018 041E     		subs	r4, r0, #0
 10274              	.LVL1278:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 10275              		.loc 1 4732 2 is_stmt 1 view .LVU3307
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 10276              		.loc 1 4732 5 is_stmt 0 view .LVU3308
 10277 001a 02D0     		beq	.L661
 10278              	.LVL1279:
 10279              	.L652:
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10280              		.loc 1 4807 16 is_stmt 1 view .LVU3309
4810:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10281              		.loc 1 4810 2 view .LVU3310
4811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10282              		.loc 1 4811 1 is_stmt 0 view .LVU3311
 10283 001c 2000     		movs	r0, r4
 10284 001e 23B0     		add	sp, sp, #140
 10285              		@ sp needed
 10286 0020 30BD     		pop	{r4, r5, pc}
 10287              	.LVL1280:
 10288              	.L661:
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10289              		.loc 1 4733 3 is_stmt 1 view .LVU3312
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10290              		.loc 1 4733 14 is_stmt 0 view .LVU3313
 10291 0022 099B     		ldr	r3, [sp, #36]
 10292 0024 1693     		str	r3, [sp, #88]
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 10293              		.loc 1 4734 18 is_stmt 1 view .LVU3314
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10294              		.loc 1 4735 3 view .LVU3315
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10295              		.loc 1 4735 9 is_stmt 0 view .LVU3316
 10296 0026 0199     		ldr	r1, [sp, #4]
 10297 0028 16A8     		add	r0, sp, #88
 10298              	.LVL1281:
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10299              		.loc 1 4735 9 view .LVU3317
 10300 002a FFF7FEFF 		bl	follow_path
 10301              	.LVL1282:
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10302              		.loc 1 4735 9 view .LVU3318
 10303 002e 041E     		subs	r4, r0, #0
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 10304              		.loc 1 4736 3 is_stmt 1 view .LVU3319
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 10305              		.loc 1 4736 6 is_stmt 0 view .LVU3320
 10306 0030 0AD1     		bne	.L653
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 10307              		.loc 1 4736 30 discriminator 1 view .LVU3321
 10308 0032 16AA     		add	r2, sp, #88
 10309 0034 2F23     		movs	r3, #47
 10310 0036 D35C     		ldrb	r3, [r2, r3]
ARM GAS  /tmp/ccVOuidm.s 			page 337


4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 10311              		.loc 1 4736 20 discriminator 1 view .LVU3322
 10312 0038 5F22     		movs	r2, #95
 10313 003a 9343     		bics	r3, r2
 10314 003c 71D1     		bne	.L657
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 10315              		.loc 1 4738 3 is_stmt 1 view .LVU3323
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10316              		.loc 1 4739 4 view .LVU3324
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10317              		.loc 1 4739 10 is_stmt 0 view .LVU3325
 10318 003e 0221     		movs	r1, #2
 10319 0040 16A8     		add	r0, sp, #88
 10320              	.LVL1283:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10321              		.loc 1 4739 10 view .LVU3326
 10322 0042 FFF7FEFF 		bl	chk_lock
 10323              	.LVL1284:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10324              		.loc 1 4739 10 view .LVU3327
 10325 0046 0400     		movs	r4, r0
 10326              	.L653:
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10327              		.loc 1 4742 3 is_stmt 1 view .LVU3328
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10328              		.loc 1 4742 6 is_stmt 0 view .LVU3329
 10329 0048 002C     		cmp	r4, #0
 10330 004a E7D1     		bne	.L652
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10331              		.loc 1 4769 5 is_stmt 1 view .LVU3330
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10332              		.loc 1 4769 21 is_stmt 0 view .LVU3331
 10333 004c 16AD     		add	r5, sp, #88
 10334 004e 1E99     		ldr	r1, [sp, #120]
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10335              		.loc 1 4769 26 view .LVU3332
 10336 0050 0B31     		adds	r1, r1, #11
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10337              		.loc 1 4769 5 view .LVU3333
 10338 0052 1522     		movs	r2, #21
 10339 0054 03A8     		add	r0, sp, #12
 10340              	.LVL1285:
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10341              		.loc 1 4769 5 view .LVU3334
 10342 0056 FFF7FEFF 		bl	mem_cpy
 10343              	.LVL1286:
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 10344              		.loc 1 4770 5 is_stmt 1 view .LVU3335
 10345 005a 0AAC     		add	r4, sp, #40
 10346              	.LVL1287:
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 10347              		.loc 1 4770 5 is_stmt 0 view .LVU3336
 10348 005c 3022     		movs	r2, #48
 10349 005e 2900     		movs	r1, r5
 10350 0060 2000     		movs	r0, r4
 10351 0062 FFF7FEFF 		bl	mem_cpy
 10352              	.LVL1288:
ARM GAS  /tmp/ccVOuidm.s 			page 338


4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 10353              		.loc 1 4771 5 is_stmt 1 view .LVU3337
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 10354              		.loc 1 4771 11 is_stmt 0 view .LVU3338
 10355 0066 0099     		ldr	r1, [sp]
 10356 0068 2000     		movs	r0, r4
 10357 006a FFF7FEFF 		bl	follow_path
 10358              	.LVL1289:
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 10359              		.loc 1 4771 11 view .LVU3339
 10360 006e 041E     		subs	r4, r0, #0
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 10361              		.loc 1 4772 5 is_stmt 1 view .LVU3340
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 10362              		.loc 1 4772 8 is_stmt 0 view .LVU3341
 10363 0070 0BD1     		bne	.L654
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10364              		.loc 1 4773 6 is_stmt 1 view .LVU3342
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10365              		.loc 1 4773 20 is_stmt 0 view .LVU3343
 10366 0072 0C9A     		ldr	r2, [sp, #48]
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10367              		.loc 1 4773 38 view .LVU3344
 10368 0074 189B     		ldr	r3, [sp, #96]
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10369              		.loc 1 4773 84 view .LVU3345
 10370 0076 9A42     		cmp	r2, r3
 10371 0078 01D0     		beq	.L662
 10372              	.LVL1290:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10373              		.loc 1 4773 10 discriminator 6 view .LVU3346
 10374 007a 0824     		movs	r4, #8
 10375 007c 07E0     		b	.L655
 10376              	.LVL1291:
 10377              	.L662:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10378              		.loc 1 4773 52 discriminator 1 view .LVU3347
 10379 007e 0F9A     		ldr	r2, [sp, #60]
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10380              		.loc 1 4773 64 discriminator 1 view .LVU3348
 10381 0080 1B9B     		ldr	r3, [sp, #108]
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10382              		.loc 1 4773 46 discriminator 1 view .LVU3349
 10383 0082 9A42     		cmp	r2, r3
 10384 0084 0FD0     		beq	.L656
 10385              	.LVL1292:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10386              		.loc 1 4773 10 discriminator 6 view .LVU3350
 10387 0086 0834     		adds	r4, r4, #8
 10388 0088 01E0     		b	.L655
 10389              	.LVL1293:
 10390              	.L654:
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 10391              		.loc 1 4775 5 is_stmt 1 view .LVU3351
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 10392              		.loc 1 4775 8 is_stmt 0 view .LVU3352
 10393 008a 0428     		cmp	r0, #4
ARM GAS  /tmp/ccVOuidm.s 			page 339


 10394 008c 0BD0     		beq	.L656
 10395              	.LVL1294:
 10396              	.L655:
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 10397              		.loc 1 4799 4 is_stmt 1 view .LVU3353
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 10398              		.loc 1 4799 7 is_stmt 0 view .LVU3354
 10399 008e 002C     		cmp	r4, #0
 10400 0090 C4D1     		bne	.L652
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 10401              		.loc 1 4800 5 is_stmt 1 view .LVU3355
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 10402              		.loc 1 4800 11 is_stmt 0 view .LVU3356
 10403 0092 16A8     		add	r0, sp, #88
 10404 0094 FFF7FEFF 		bl	dir_remove
 10405              	.LVL1295:
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 10406              		.loc 1 4800 11 view .LVU3357
 10407 0098 041E     		subs	r4, r0, #0
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 10408              		.loc 1 4801 5 is_stmt 1 view .LVU3358
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 10409              		.loc 1 4801 8 is_stmt 0 view .LVU3359
 10410 009a BFD1     		bne	.L652
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10411              		.loc 1 4802 6 is_stmt 1 view .LVU3360
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10412              		.loc 1 4802 12 is_stmt 0 view .LVU3361
 10413 009c 0998     		ldr	r0, [sp, #36]
 10414              	.LVL1296:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10415              		.loc 1 4802 12 view .LVU3362
 10416 009e FFF7FEFF 		bl	sync_fs
 10417              	.LVL1297:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10418              		.loc 1 4802 12 view .LVU3363
 10419 00a2 0400     		movs	r4, r0
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10420              		.loc 1 4802 12 view .LVU3364
 10421 00a4 BAE7     		b	.L652
 10422              	.LVL1298:
 10423              	.L656:
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 10424              		.loc 1 4776 6 is_stmt 1 view .LVU3365
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 10425              		.loc 1 4776 12 is_stmt 0 view .LVU3366
 10426 00a6 0AA8     		add	r0, sp, #40
 10427 00a8 FFF7FEFF 		bl	dir_register
 10428              	.LVL1299:
 10429 00ac 041E     		subs	r4, r0, #0
 10430              	.LVL1300:
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 10431              		.loc 1 4777 6 is_stmt 1 view .LVU3367
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 10432              		.loc 1 4777 9 is_stmt 0 view .LVU3368
 10433 00ae B5D1     		bne	.L652
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
ARM GAS  /tmp/ccVOuidm.s 			page 340


 10434              		.loc 1 4778 7 is_stmt 1 view .LVU3369
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 10435              		.loc 1 4778 11 is_stmt 0 view .LVU3370
 10436 00b0 129D     		ldr	r5, [sp, #72]
 10437              	.LVL1301:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 10438              		.loc 1 4779 7 is_stmt 1 view .LVU3371
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 10439              		.loc 1 4779 19 is_stmt 0 view .LVU3372
 10440 00b2 2800     		movs	r0, r5
 10441              	.LVL1302:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 10442              		.loc 1 4779 19 view .LVU3373
 10443 00b4 0D30     		adds	r0, r0, #13
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 10444              		.loc 1 4779 7 view .LVU3374
 10445 00b6 1322     		movs	r2, #19
 10446 00b8 0E21     		movs	r1, #14
 10447 00ba 6944     		add	r1, r1, sp
 10448 00bc FFF7FEFF 		bl	mem_cpy
 10449              	.LVL1303:
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 10450              		.loc 1 4780 7 is_stmt 1 view .LVU3375
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 10451              		.loc 1 4780 26 is_stmt 0 view .LVU3376
 10452 00c0 03AB     		add	r3, sp, #12
 10453 00c2 1B78     		ldrb	r3, [r3]
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 10454              		.loc 1 4780 21 view .LVU3377
 10455 00c4 2022     		movs	r2, #32
 10456 00c6 1343     		orrs	r3, r2
 10457 00c8 EB72     		strb	r3, [r5, #11]
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 10458              		.loc 1 4781 7 is_stmt 1 view .LVU3378
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 10459              		.loc 1 4781 9 is_stmt 0 view .LVU3379
 10460 00ca 099B     		ldr	r3, [sp, #36]
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 10461              		.loc 1 4781 17 view .LVU3380
 10462 00cc 0122     		movs	r2, #1
 10463 00ce DA70     		strb	r2, [r3, #3]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 10464              		.loc 1 4782 7 is_stmt 1 view .LVU3381
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 10465              		.loc 1 4782 15 is_stmt 0 view .LVU3382
 10466 00d0 EB7A     		ldrb	r3, [r5, #11]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 10467              		.loc 1 4782 10 view .LVU3383
 10468 00d2 DB06     		lsls	r3, r3, #27
 10469 00d4 DBD5     		bpl	.L655
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 10470              		.loc 1 4782 46 discriminator 1 view .LVU3384
 10471 00d6 189A     		ldr	r2, [sp, #96]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 10472              		.loc 1 4782 64 discriminator 1 view .LVU3385
 10473 00d8 0C9B     		ldr	r3, [sp, #48]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
ARM GAS  /tmp/ccVOuidm.s 			page 341


 10474              		.loc 1 4782 36 discriminator 1 view .LVU3386
 10475 00da 9A42     		cmp	r2, r3
 10476 00dc D7D0     		beq	.L655
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 10477              		.loc 1 4783 8 is_stmt 1 view .LVU3387
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 10478              		.loc 1 4783 13 is_stmt 0 view .LVU3388
 10479 00de 099C     		ldr	r4, [sp, #36]
 10480              	.LVL1304:
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 10481              		.loc 1 4783 13 view .LVU3389
 10482 00e0 2900     		movs	r1, r5
 10483 00e2 2000     		movs	r0, r4
 10484 00e4 FFF7FEFF 		bl	ld_clust
 10485              	.LVL1305:
 10486 00e8 0100     		movs	r1, r0
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 10487              		.loc 1 4783 13 discriminator 1 view .LVU3390
 10488 00ea 2000     		movs	r0, r4
 10489 00ec FFF7FEFF 		bl	clust2sect
 10490              	.LVL1306:
 10491 00f0 011E     		subs	r1, r0, #0
 10492              	.LVL1307:
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 10493              		.loc 1 4784 8 is_stmt 1 view .LVU3391
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 10494              		.loc 1 4784 11 is_stmt 0 view .LVU3392
 10495 00f2 01D1     		bne	.L663
 10496              	.LVL1308:
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 10497              		.loc 1 4785 13 view .LVU3393
 10498 00f4 0224     		movs	r4, #2
 10499 00f6 91E7     		b	.L652
 10500              	.LVL1309:
 10501              	.L663:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10502              		.loc 1 4788 9 is_stmt 1 view .LVU3394
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10503              		.loc 1 4788 15 is_stmt 0 view .LVU3395
 10504 00f8 2000     		movs	r0, r4
 10505              	.LVL1310:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10506              		.loc 1 4788 15 view .LVU3396
 10507 00fa FFF7FEFF 		bl	move_window
 10508              	.LVL1311:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10509              		.loc 1 4788 15 view .LVU3397
 10510 00fe 0400     		movs	r4, r0
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 10511              		.loc 1 4789 9 is_stmt 1 view .LVU3398
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 10512              		.loc 1 4789 17 is_stmt 0 view .LVU3399
 10513 0100 0998     		ldr	r0, [sp, #36]
 10514              	.LVL1312:
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 10515              		.loc 1 4789 13 view .LVU3400
 10516 0102 0100     		movs	r1, r0
ARM GAS  /tmp/ccVOuidm.s 			page 342


 10517 0104 5031     		adds	r1, r1, #80
 10518              	.LVL1313:
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10519              		.loc 1 4790 9 is_stmt 1 view .LVU3401
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10520              		.loc 1 4790 12 is_stmt 0 view .LVU3402
 10521 0106 002C     		cmp	r4, #0
 10522 0108 00D0     		beq	.LCB10115
 10523 010a 87E7     		b	.L652	@long jump
 10524              	.LCB10115:
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10525              		.loc 1 4790 32 discriminator 1 view .LVU3403
 10526 010c 5123     		movs	r3, #81
 10527 010e C35C     		ldrb	r3, [r0, r3]
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10528              		.loc 1 4790 26 discriminator 1 view .LVU3404
 10529 0110 2E2B     		cmp	r3, #46
 10530 0112 BCD1     		bne	.L655
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 10531              		.loc 1 4791 10 is_stmt 1 view .LVU3405
 10532 0114 0C9A     		ldr	r2, [sp, #48]
 10533 0116 FFF7FEFF 		bl	st_clust
 10534              	.LVL1314:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10535              		.loc 1 4792 10 view .LVU3406
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10536              		.loc 1 4792 12 is_stmt 0 view .LVU3407
 10537 011a 099B     		ldr	r3, [sp, #36]
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10538              		.loc 1 4792 20 view .LVU3408
 10539 011c 0122     		movs	r2, #1
 10540 011e DA70     		strb	r2, [r3, #3]
 10541 0120 B5E7     		b	.L655
 10542              	.LVL1315:
 10543              	.L657:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10544              		.loc 1 4792 20 view .LVU3409
 10545 0122 0624     		movs	r4, #6
 10546 0124 7AE7     		b	.L652
 10547              		.cfi_endproc
 10548              	.LFE546:
 10550              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 10551              		.align	2
 10552              	.LC14:
 10553 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 10553      53444F53 
 10553      352E3000 
 10554              		.align	2
 10555              	.LC16:
 10556 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 10556      414D4520 
 10556      20202046 
 10556      41543332 
 10556      20202000 
 10557              		.align	2
 10558              	.LC18:
 10559 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
ARM GAS  /tmp/ccVOuidm.s 			page 343


 10559      414D4520 
 10559      20202046 
 10559      41542020 
 10559      20202000 
 10560              		.section	.text.f_mkfs,"ax",%progbits
 10561              		.align	1
 10562              		.global	f_mkfs
 10563              		.syntax unified
 10564              		.code	16
 10565              		.thumb_func
 10567              	f_mkfs:
 10568              	.LVL1316:
 10569              	.LFB547:
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 10570              		.loc 1 5308 1 is_stmt 1 view -0
 10571              		.cfi_startproc
 10572              		@ args = 4, pretend = 0, frame = 48
 10573              		@ frame_needed = 0, uses_anonymous_args = 0
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 10574              		.loc 1 5308 1 is_stmt 0 view .LVU3411
 10575 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 10576              	.LCFI81:
 10577              		.cfi_def_cfa_offset 20
 10578              		.cfi_offset 4, -20
 10579              		.cfi_offset 5, -16
 10580              		.cfi_offset 6, -12
 10581              		.cfi_offset 7, -8
 10582              		.cfi_offset 14, -4
 10583 0002 DE46     		mov	lr, fp
 10584 0004 5746     		mov	r7, r10
 10585 0006 4E46     		mov	r6, r9
 10586 0008 4546     		mov	r5, r8
 10587 000a E0B5     		push	{r5, r6, r7, lr}
 10588              	.LCFI82:
 10589              		.cfi_def_cfa_offset 36
 10590              		.cfi_offset 8, -36
 10591              		.cfi_offset 9, -32
 10592              		.cfi_offset 10, -28
 10593              		.cfi_offset 11, -24
 10594 000c 8DB0     		sub	sp, sp, #52
 10595              	.LCFI83:
 10596              		.cfi_def_cfa_offset 88
 10597 000e 0990     		str	r0, [sp, #36]
 10598 0010 0D00     		movs	r5, r1
 10599 0012 1600     		movs	r6, r2
 10600 0014 0193     		str	r3, [sp, #4]
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
 10601              		.loc 1 5309 2 is_stmt 1 view .LVU3412
 10602              	.LVL1317:
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
 10603              		.loc 1 5310 2 view .LVU3413
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
 10604              		.loc 1 5311 2 view .LVU3414
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
 10605              		.loc 1 5312 2 view .LVU3415
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
 10606              		.loc 1 5313 2 view .LVU3416
ARM GAS  /tmp/ccVOuidm.s 			page 344


5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
 10607              		.loc 1 5314 2 view .LVU3417
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
 10608              		.loc 1 5315 2 view .LVU3418
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
 10609              		.loc 1 5316 2 view .LVU3419
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 10610              		.loc 1 5317 2 view .LVU3420
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 10611              		.loc 1 5318 2 view .LVU3421
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 10612              		.loc 1 5319 2 view .LVU3422
5320:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
 10613              		.loc 1 5320 2 view .LVU3423
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10614              		.loc 1 5327 2 view .LVU3424
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10615              		.loc 1 5327 8 is_stmt 0 view .LVU3425
 10616 0016 09A8     		add	r0, sp, #36
 10617              	.LVL1318:
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10618              		.loc 1 5327 8 view .LVU3426
 10619 0018 FFF7FEFF 		bl	get_ldnumber
 10620              	.LVL1319:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 10621              		.loc 1 5328 2 is_stmt 1 view .LVU3427
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 10622              		.loc 1 5328 5 is_stmt 0 view .LVU3428
 10623 001c 0028     		cmp	r0, #0
 10624 001e 00DA     		bge	.LCB10201
 10625 0020 13E3     		b	.L710	@long jump
 10626              	.LCB10201:
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10627              		.loc 1 5329 2 is_stmt 1 view .LVU3429
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10628              		.loc 1 5329 11 is_stmt 0 view .LVU3430
 10629 0022 A34B     		ldr	r3, .L763
 10630 0024 8200     		lsls	r2, r0, #2
 10631 0026 D358     		ldr	r3, [r2, r3]
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10632              		.loc 1 5329 5 view .LVU3431
 10633 0028 002B     		cmp	r3, #0
 10634 002a 01D0     		beq	.L666
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10635              		.loc 1 5329 18 is_stmt 1 discriminator 1 view .LVU3432
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10636              		.loc 1 5329 38 is_stmt 0 discriminator 1 view .LVU3433
 10637 002c 0022     		movs	r2, #0
 10638 002e 1A70     		strb	r2, [r3]
 10639              	.L666:
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 10640              		.loc 1 5330 2 is_stmt 1 view .LVU3434
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 10641              		.loc 1 5330 7 is_stmt 0 view .LVU3435
 10642 0030 C4B2     		uxtb	r4, r0
 10643              	.LVL1320:
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccVOuidm.s 			page 345


 10644              		.loc 1 5331 2 is_stmt 1 view .LVU3436
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10645              		.loc 1 5334 2 view .LVU3437
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10646              		.loc 1 5334 9 is_stmt 0 view .LVU3438
 10647 0032 2000     		movs	r0, r4
 10648              	.LVL1321:
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10649              		.loc 1 5334 9 view .LVU3439
 10650 0034 FFF7FEFF 		bl	disk_initialize
 10651              	.LVL1322:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10652              		.loc 1 5335 2 is_stmt 1 view .LVU3440
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10653              		.loc 1 5335 5 is_stmt 0 view .LVU3441
 10654 0038 C307     		lsls	r3, r0, #31
 10655 003a 00D5     		bpl	.LCB10228
 10656 003c 07E3     		b	.L711	@long jump
 10657              	.LCB10228:
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 10658              		.loc 1 5336 2 is_stmt 1 view .LVU3442
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 10659              		.loc 1 5336 5 is_stmt 0 view .LVU3443
 10660 003e 4007     		lsls	r0, r0, #29
 10661 0040 00D5     		bpl	.LCB10234
 10662 0042 1BE3     		b	.L712	@long jump
 10663              	.LCB10234:
 10664              	.LVL1323:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10665              		.loc 1 5337 2 is_stmt 1 view .LVU3444
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10666              		.loc 1 5337 6 is_stmt 0 view .LVU3445
 10667 0044 0BAA     		add	r2, sp, #44
 10668 0046 0321     		movs	r1, #3
 10669 0048 2000     		movs	r0, r4
 10670 004a FFF7FEFF 		bl	disk_ioctl
 10671              	.LVL1324:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10672              		.loc 1 5337 5 discriminator 1 view .LVU3446
 10673 004e 0028     		cmp	r0, #0
 10674 0050 09D1     		bne	.L667
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10675              		.loc 1 5337 61 discriminator 2 view .LVU3447
 10676 0052 0B9B     		ldr	r3, [sp, #44]
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10677              		.loc 1 5337 58 discriminator 2 view .LVU3448
 10678 0054 002B     		cmp	r3, #0
 10679 0056 06D0     		beq	.L667
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10680              		.loc 1 5337 69 discriminator 4 view .LVU3449
 10681 0058 8022     		movs	r2, #128
 10682 005a 1202     		lsls	r2, r2, #8
 10683 005c 9342     		cmp	r3, r2
 10684 005e 02D8     		bhi	.L667
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10685              		.loc 1 5337 108 discriminator 6 view .LVU3450
 10686 0060 5A1E     		subs	r2, r3, #1
ARM GAS  /tmp/ccVOuidm.s 			page 346


5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10687              		.loc 1 5337 87 discriminator 6 view .LVU3451
 10688 0062 1A42     		tst	r2, r3
 10689 0064 01D0     		beq	.L668
 10690              	.L667:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10691              		.loc 1 5337 115 is_stmt 1 discriminator 7 view .LVU3452
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10692              		.loc 1 5337 122 is_stmt 0 discriminator 7 view .LVU3453
 10693 0066 0123     		movs	r3, #1
 10694 0068 0B93     		str	r3, [sp, #44]
 10695              	.L668:
5342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10696              		.loc 1 5342 2 is_stmt 1 view .LVU3454
 10697              	.LVL1325:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10698              		.loc 1 5344 2 view .LVU3455
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10699              		.loc 1 5344 5 is_stmt 0 view .LVU3456
 10700 006a 002E     		cmp	r6, #0
 10701 006c 09D0     		beq	.L669
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10702              		.loc 1 5344 15 discriminator 1 view .LVU3457
 10703 006e 8023     		movs	r3, #128
 10704 0070 9B00     		lsls	r3, r3, #2
 10705 0072 9E42     		cmp	r6, r3
 10706 0074 00D2     		bcs	.LCB10269
 10707 0076 09E3     		b	.L713	@long jump
 10708              	.LCB10269:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10709              		.loc 1 5344 27 discriminator 4 view .LVU3458
 10710 0078 8023     		movs	r3, #128
 10711 007a 5B04     		lsls	r3, r3, #17
 10712 007c 9E42     		cmp	r6, r3
 10713 007e 00D9     		bls	.LCB10273
 10714 0080 06E3     		b	.L714	@long jump
 10715              	.LCB10273:
 10716              	.L669:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10717              		.loc 1 5344 58 discriminator 6 view .LVU3459
 10718 0082 731E     		subs	r3, r6, #1
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10719              		.loc 1 5344 52 discriminator 6 view .LVU3460
 10720 0084 3200     		movs	r2, r6
 10721 0086 1A40     		ands	r2, r3
 10722 0088 0592     		str	r2, [sp, #20]
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10723              		.loc 1 5344 45 discriminator 6 view .LVU3461
 10724 008a 1E42     		tst	r6, r3
 10725 008c 00D0     		beq	.LCB10280
 10726 008e 01E3     		b	.L715	@long jump
 10727              	.LCB10280:
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10728              		.loc 1 5345 2 is_stmt 1 view .LVU3462
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10729              		.loc 1 5345 5 is_stmt 0 view .LVU3463
 10730 0090 730A     		lsrs	r3, r6, #9
ARM GAS  /tmp/ccVOuidm.s 			page 347


 10731 0092 9946     		mov	r9, r3
 10732              	.LVL1326:
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
 10733              		.loc 1 5348 2 is_stmt 1 view .LVU3464
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 10734              		.loc 1 5349 2 view .LVU3465
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 10735              		.loc 1 5349 9 is_stmt 0 view .LVU3466
 10736 0094 169B     		ldr	r3, [sp, #88]
 10737              	.LVL1327:
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 10738              		.loc 1 5349 9 view .LVU3467
 10739 0096 5F0A     		lsrs	r7, r3, #9
 10740              	.LVL1328:
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 10741              		.loc 1 5350 2 is_stmt 1 view .LVU3468
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 10742              		.loc 1 5350 10 is_stmt 0 view .LVU3469
 10743 0098 7B02     		lsls	r3, r7, #9
 10744 009a 0693     		str	r3, [sp, #24]
 10745              	.LVL1329:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10746              		.loc 1 5351 2 is_stmt 1 view .LVU3470
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10747              		.loc 1 5351 5 is_stmt 0 view .LVU3471
 10748 009c 002F     		cmp	r7, #0
 10749 009e 00D1     		bne	.LCB10299
 10750 00a0 FAE2     		b	.L716	@long jump
 10751              	.LCB10299:
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
 10752              		.loc 1 5354 2 is_stmt 1 view .LVU3472
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 10753              		.loc 1 5364 3 view .LVU3473
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 10754              		.loc 1 5364 7 is_stmt 0 view .LVU3474
 10755 00a2 0AAA     		add	r2, sp, #40
 10756 00a4 0121     		movs	r1, #1
 10757 00a6 2000     		movs	r0, r4
 10758 00a8 FFF7FEFF 		bl	disk_ioctl
 10759              	.LVL1330:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 10760              		.loc 1 5364 6 discriminator 1 view .LVU3475
 10761 00ac 0028     		cmp	r0, #0
 10762 00ae 00D0     		beq	.LCB10309
 10763 00b0 F4E2     		b	.L717	@long jump
 10764              	.LCB10309:
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 10765              		.loc 1 5365 3 is_stmt 1 view .LVU3476
 10766 00b2 0823     		movs	r3, #8
 10767 00b4 1A00     		movs	r2, r3
 10768 00b6 2A40     		ands	r2, r5
 10769 00b8 0892     		str	r2, [sp, #32]
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 10770              		.loc 1 5365 30 is_stmt 0 view .LVU3477
 10771 00ba 2B42     		tst	r3, r5
 10772 00bc 06D1     		bne	.L718
 10773              	.LVL1331:
ARM GAS  /tmp/ccVOuidm.s 			page 348


5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 10774              		.loc 1 5366 3 is_stmt 1 view .LVU3478
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 10775              		.loc 1 5366 14 is_stmt 0 view .LVU3479
 10776 00be 0A9B     		ldr	r3, [sp, #40]
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 10777              		.loc 1 5366 6 view .LVU3480
 10778 00c0 3E2B     		cmp	r3, #62
 10779 00c2 00D8     		bhi	.LCB10322
 10780 00c4 ECE2     		b	.L719	@long jump
 10781              	.LCB10322:
 10782 00c6 3F23     		movs	r3, #63
 10783 00c8 0393     		str	r3, [sp, #12]
 10784 00ca 01E0     		b	.L670
 10785              	.LVL1332:
 10786              	.L718:
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 10787              		.loc 1 5365 30 discriminator 1 view .LVU3481
 10788 00cc 059B     		ldr	r3, [sp, #20]
 10789 00ce 0393     		str	r3, [sp, #12]
 10790              	.L670:
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10791              		.loc 1 5367 3 is_stmt 1 view .LVU3482
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10792              		.loc 1 5367 10 is_stmt 0 view .LVU3483
 10793 00d0 0A9B     		ldr	r3, [sp, #40]
 10794 00d2 039A     		ldr	r2, [sp, #12]
 10795 00d4 9B1A     		subs	r3, r3, r2
 10796 00d6 9846     		mov	r8, r3
 10797 00d8 0A93     		str	r3, [sp, #40]
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10798              		.loc 1 5369 2 is_stmt 1 view .LVU3484
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10799              		.loc 1 5369 5 is_stmt 0 view .LVU3485
 10800 00da 7F2B     		cmp	r3, #127
 10801 00dc 00D8     		bhi	.LCB10342
 10802 00de E1E2     		b	.L720	@long jump
 10803              	.LCB10342:
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
 10804              		.loc 1 5372 2 is_stmt 1 view .LVU3486
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
 10805              		.loc 1 5373 3 view .LVU3487
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 10806              		.loc 1 5378 3 view .LVU3488
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 10807              		.loc 1 5378 6 is_stmt 0 view .LVU3489
 10808 00e0 8123     		movs	r3, #129
 10809 00e2 5B02     		lsls	r3, r3, #9
 10810 00e4 9E42     		cmp	r6, r3
 10811 00e6 00D3     		bcc	.LCB10349
 10812 00e8 DEE2     		b	.L721	@long jump
 10813              	.LCB10349:
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 10814              		.loc 1 5379 3 is_stmt 1 view .LVU3490
 10815 00ea 0223     		movs	r3, #2
 10816 00ec 1A00     		movs	r2, r3
 10817 00ee 2A40     		ands	r2, r5
ARM GAS  /tmp/ccVOuidm.s 			page 349


 10818 00f0 0792     		str	r2, [sp, #28]
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 10819              		.loc 1 5379 6 is_stmt 0 view .LVU3491
 10820 00f2 2B42     		tst	r3, r5
 10821 00f4 0ED0     		beq	.L671
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 10822              		.loc 1 5380 4 is_stmt 1 view .LVU3492
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 10823              		.loc 1 5380 7 is_stmt 0 view .LVU3493
 10824 00f6 0533     		adds	r3, r3, #5
 10825 00f8 2B40     		ands	r3, r5
 10826 00fa 022B     		cmp	r3, #2
 10827 00fc 16D0     		beq	.L722
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 10828              		.loc 1 5380 35 discriminator 1 view .LVU3494
 10829 00fe ED07     		lsls	r5, r5, #31
 10830 0100 1DD4     		bmi	.L723
 10831              	.LVL1333:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10832              		.loc 1 5381 9 view .LVU3495
 10833 0102 0323     		movs	r3, #3
 10834 0104 9A46     		mov	r10, r3
 10835 0106 2200     		movs	r2, r4
 10836 0108 4C46     		mov	r4, r9
 10837              	.LVL1334:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10838              		.loc 1 5381 9 view .LVU3496
 10839 010a 3B00     		movs	r3, r7
 10840 010c 5746     		mov	r7, r10
 10841              	.LVL1335:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10842              		.loc 1 5381 9 view .LVU3497
 10843 010e 9A46     		mov	r10, r3
 10844 0110 9146     		mov	r9, r2
 10845              	.LVL1336:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10846              		.loc 1 5381 9 view .LVU3498
 10847 0112 78E0     		b	.L673
 10848              	.LVL1337:
 10849              	.L671:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 10850              		.loc 1 5384 3 is_stmt 1 view .LVU3499
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 10851              		.loc 1 5384 6 is_stmt 0 view .LVU3500
 10852 0114 ED07     		lsls	r5, r5, #31
 10853 0116 00D4     		bmi	.LCB10395
 10854 0118 C8E2     		b	.L724	@long jump
 10855              	.LCB10395:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10856              		.loc 1 5385 7 view .LVU3501
 10857 011a 0223     		movs	r3, #2
 10858 011c 9A46     		mov	r10, r3
 10859 011e 2200     		movs	r2, r4
 10860 0120 4C46     		mov	r4, r9
 10861              	.LVL1338:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10862              		.loc 1 5385 7 view .LVU3502
ARM GAS  /tmp/ccVOuidm.s 			page 350


 10863 0122 3B00     		movs	r3, r7
 10864 0124 5746     		mov	r7, r10
 10865              	.LVL1339:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10866              		.loc 1 5385 7 view .LVU3503
 10867 0126 9A46     		mov	r10, r3
 10868 0128 9146     		mov	r9, r2
 10869              	.LVL1340:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10870              		.loc 1 5385 7 view .LVU3504
 10871 012a 6CE0     		b	.L673
 10872              	.LVL1341:
 10873              	.L722:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10874              		.loc 1 5381 9 view .LVU3505
 10875 012c 0323     		movs	r3, #3
 10876 012e 9A46     		mov	r10, r3
 10877 0130 2200     		movs	r2, r4
 10878 0132 4C46     		mov	r4, r9
 10879              	.LVL1342:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10880              		.loc 1 5381 9 view .LVU3506
 10881 0134 3B00     		movs	r3, r7
 10882 0136 5746     		mov	r7, r10
 10883              	.LVL1343:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10884              		.loc 1 5381 9 view .LVU3507
 10885 0138 9A46     		mov	r10, r3
 10886 013a 9146     		mov	r9, r2
 10887              	.LVL1344:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10888              		.loc 1 5381 9 view .LVU3508
 10889 013c 63E0     		b	.L673
 10890              	.LVL1345:
 10891              	.L723:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10892              		.loc 1 5385 7 view .LVU3509
 10893 013e 0223     		movs	r3, #2
 10894 0140 9A46     		mov	r10, r3
 10895 0142 2200     		movs	r2, r4
 10896 0144 4C46     		mov	r4, r9
 10897              	.LVL1346:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10898              		.loc 1 5385 7 view .LVU3510
 10899 0146 3B00     		movs	r3, r7
 10900 0148 5746     		mov	r7, r10
 10901              	.LVL1347:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10902              		.loc 1 5385 7 view .LVU3511
 10903 014a 9A46     		mov	r10, r3
 10904 014c 9146     		mov	r9, r2
 10905              	.LVL1348:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10906              		.loc 1 5385 7 view .LVU3512
 10907 014e 5AE0     		b	.L673
 10908              	.LVL1349:
 10909              	.L730:
ARM GAS  /tmp/ccVOuidm.s 			page 351


5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 10910              		.loc 1 5604 10 view .LVU3513
 10911 0150 1C00     		movs	r4, r3
 10912              	.LVL1350:
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 10913              		.loc 1 5604 10 view .LVU3514
 10914 0152 58E0     		b	.L673
 10915              	.LVL1351:
 10916              	.L731:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 10917              		.loc 1 5607 11 view .LVU3515
 10918 0154 0327     		movs	r7, #3
 10919              	.LVL1352:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 10920              		.loc 1 5607 11 view .LVU3516
 10921 0156 56E0     		b	.L673
 10922              	.LVL1353:
 10923              	.L750:
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 10924              		.loc 1 5556 5 is_stmt 1 view .LVU3517
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 10925              		.loc 1 5556 8 is_stmt 0 view .LVU3518
 10926 0158 002C     		cmp	r4, #0
 10927 015a 15D0     		beq	.L748
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 10928              		.loc 1 5553 8 view .LVU3519
 10929 015c 2600     		movs	r6, r4
 10930              	.LVL1354:
 10931              	.L675:
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 10932              		.loc 1 5560 5 is_stmt 1 view .LVU3520
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 10933              		.loc 1 5560 12 is_stmt 0 view .LVU3521
 10934 015e 3100     		movs	r1, r6
 10935 0160 4046     		mov	r0, r8
 10936 0162 FFF7FEFF 		bl	__aeabi_uidiv
 10937              	.LVL1355:
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 10938              		.loc 1 5561 5 is_stmt 1 view .LVU3522
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 10939              		.loc 1 5561 35 is_stmt 0 view .LVU3523
 10940 0166 8500     		lsls	r5, r0, #2
 10941 0168 524B     		ldr	r3, .L763+4
 10942 016a 9C46     		mov	ip, r3
 10943 016c 6544     		add	r5, r5, ip
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 10944              		.loc 1 5561 12 view .LVU3524
 10945 016e 6D0A     		lsrs	r5, r5, #9
 10946              	.LVL1356:
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 10947              		.loc 1 5562 5 is_stmt 1 view .LVU3525
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 10948              		.loc 1 5563 5 view .LVU3526
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 10949              		.loc 1 5564 5 view .LVU3527
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 10950              		.loc 1 5564 29 is_stmt 0 view .LVU3528
ARM GAS  /tmp/ccVOuidm.s 			page 352


 10951 0170 514B     		ldr	r3, .L763+8
 10952 0172 9C46     		mov	ip, r3
 10953 0174 6044     		add	r0, r0, ip
 10954              	.LVL1357:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 10955              		.loc 1 5564 8 view .LVU3529
 10956 0176 514B     		ldr	r3, .L763+12
 10957 0178 9842     		cmp	r0, r3
 10958 017a 00D9     		bls	.LCB10520
 10959 017c 98E2     		b	.L726	@long jump
 10960              	.LCB10520:
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 10961              		.loc 1 5563 12 view .LVU3530
 10962 017e 059B     		ldr	r3, [sp, #20]
 10963 0180 0493     		str	r3, [sp, #16]
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 10964              		.loc 1 5562 12 view .LVU3531
 10965 0182 2023     		movs	r3, #32
 10966 0184 0293     		str	r3, [sp, #8]
 10967 0186 55E0     		b	.L678
 10968              	.LVL1358:
 10969              	.L748:
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 10970              		.loc 1 5557 6 is_stmt 1 view .LVU3532
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 10971              		.loc 1 5557 8 is_stmt 0 view .LVU3533
 10972 0188 4346     		mov	r3, r8
 10973 018a 580C     		lsrs	r0, r3, #17
 10974              	.LVL1359:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10975              		.loc 1 5558 6 is_stmt 1 view .LVU3534
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10976              		.loc 1 5558 13 is_stmt 0 view .LVU3535
 10977 018c 2200     		movs	r2, r4
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10978              		.loc 1 5558 22 view .LVU3536
 10979 018e 0126     		movs	r6, #1
 10980              	.LVL1360:
 10981              	.L676:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10982              		.loc 1 5558 36 is_stmt 1 discriminator 1 view .LVU3537
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10983              		.loc 1 5558 32 is_stmt 0 discriminator 1 view .LVU3538
 10984 0190 4B4B     		ldr	r3, .L763+16
 10985 0192 5100     		lsls	r1, r2, #1
 10986 0194 CB5A     		ldrh	r3, [r1, r3]
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10987              		.loc 1 5558 36 discriminator 1 view .LVU3539
 10988 0196 002B     		cmp	r3, #0
 10989 0198 E1D0     		beq	.L675
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10990              		.loc 1 5558 36 discriminator 3 view .LVU3540
 10991 019a 8342     		cmp	r3, r0
 10992 019c DFD8     		bhi	.L675
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10993              		.loc 1 5558 57 is_stmt 1 discriminator 4 view .LVU3541
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccVOuidm.s 			page 353


 10994              		.loc 1 5558 55 is_stmt 0 discriminator 4 view .LVU3542
 10995 019e 0132     		adds	r2, r2, #1
 10996              	.LVL1361:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10997              		.loc 1 5558 63 discriminator 4 view .LVU3543
 10998 01a0 7600     		lsls	r6, r6, #1
 10999              	.LVL1362:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11000              		.loc 1 5558 63 discriminator 4 view .LVU3544
 11001 01a2 F5E7     		b	.L676
 11002              	.LVL1363:
 11003              	.L751:
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11004              		.loc 1 5567 6 is_stmt 1 view .LVU3545
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11005              		.loc 1 5567 8 is_stmt 0 view .LVU3546
 11006 01a4 4346     		mov	r3, r8
 11007 01a6 180B     		lsrs	r0, r3, #12
 11008              	.LVL1364:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11009              		.loc 1 5568 6 is_stmt 1 view .LVU3547
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11010              		.loc 1 5568 13 is_stmt 0 view .LVU3548
 11011 01a8 2200     		movs	r2, r4
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11012              		.loc 1 5568 22 view .LVU3549
 11013 01aa 0126     		movs	r6, #1
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11014              		.loc 1 5568 6 view .LVU3550
 11015 01ac 01E0     		b	.L680
 11016              	.LVL1365:
 11017              	.L681:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11018              		.loc 1 5568 53 is_stmt 1 discriminator 4 view .LVU3551
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11019              		.loc 1 5568 51 is_stmt 0 discriminator 4 view .LVU3552
 11020 01ae 0132     		adds	r2, r2, #1
 11021              	.LVL1366:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11022              		.loc 1 5568 59 discriminator 4 view .LVU3553
 11023 01b0 7600     		lsls	r6, r6, #1
 11024              	.LVL1367:
 11025              	.L680:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11026              		.loc 1 5568 34 is_stmt 1 discriminator 1 view .LVU3554
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11027              		.loc 1 5568 30 is_stmt 0 discriminator 1 view .LVU3555
 11028 01b2 444B     		ldr	r3, .L763+20
 11029 01b4 5100     		lsls	r1, r2, #1
 11030 01b6 CB5A     		ldrh	r3, [r1, r3]
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11031              		.loc 1 5568 34 discriminator 1 view .LVU3556
 11032 01b8 002B     		cmp	r3, #0
 11033 01ba 29D0     		beq	.L679
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11034              		.loc 1 5568 34 discriminator 3 view .LVU3557
 11035 01bc 8342     		cmp	r3, r0
ARM GAS  /tmp/ccVOuidm.s 			page 354


 11036 01be F6D9     		bls	.L681
 11037 01c0 26E0     		b	.L679
 11038              	.LVL1368:
 11039              	.L682:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 11040              		.loc 1 5574 6 is_stmt 1 view .LVU3558
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11041              		.loc 1 5575 6 view .LVU3559
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11042              		.loc 1 5575 18 is_stmt 0 view .LVU3560
 11043 01c2 4500     		lsls	r5, r0, #1
 11044 01c4 2D18     		adds	r5, r5, r0
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11045              		.loc 1 5575 22 view .LVU3561
 11046 01c6 0135     		adds	r5, r5, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11047              		.loc 1 5575 27 view .LVU3562
 11048 01c8 6D08     		lsrs	r5, r5, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11049              		.loc 1 5575 8 view .LVU3563
 11050 01ca 0335     		adds	r5, r5, #3
 11051              	.LVL1369:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 11052              		.loc 1 5574 10 view .LVU3564
 11053 01cc 0127     		movs	r7, #1
 11054 01ce 28E0     		b	.L683
 11055              	.LVL1370:
 11056              	.L752:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11057              		.loc 1 5587 5 is_stmt 1 view .LVU3565
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11058              		.loc 1 5587 12 is_stmt 0 view .LVU3566
 11059 01d0 0299     		ldr	r1, [sp, #8]
 11060 01d2 8C46     		mov	ip, r1
 11061              	.LVL1371:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11062              		.loc 1 5587 12 view .LVU3567
 11063 01d4 9C44     		add	ip, ip, r3
 11064 01d6 6146     		mov	r1, ip
 11065 01d8 0291     		str	r1, [sp, #8]
 11066              	.LVL1372:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11067              		.loc 1 5587 18 is_stmt 1 view .LVU3568
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11068              		.loc 1 5587 24 is_stmt 0 view .LVU3569
 11069 01da 9B44     		add	fp, fp, r3
 11070              	.LVL1373:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11071              		.loc 1 5587 24 view .LVU3570
 11072 01dc 3CE0     		b	.L685
 11073              	.LVL1374:
 11074              	.L753:
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 11075              		.loc 1 5596 5 is_stmt 1 view .LVU3571
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 11076              		.loc 1 5596 8 is_stmt 0 view .LVU3572
 11077 01de 3A4B     		ldr	r3, .L763+24
ARM GAS  /tmp/ccVOuidm.s 			page 355


 11078 01e0 9842     		cmp	r0, r3
 11079 01e2 4BD8     		bhi	.L686
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11080              		.loc 1 5597 6 is_stmt 1 view .LVU3573
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11081              		.loc 1 5597 9 is_stmt 0 view .LVU3574
 11082 01e4 002C     		cmp	r4, #0
 11083 01e6 00D0     		beq	.LCB10671
 11084 01e8 66E2     		b	.L729	@long jump
 11085              	.LCB10671:
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11086              		.loc 1 5597 21 discriminator 1 view .LVU3575
 11087 01ea 7408     		lsrs	r4, r6, #1
 11088              	.LVL1375:
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11089              		.loc 1 5597 14 discriminator 1 view .LVU3576
 11090 01ec 012E     		cmp	r6, #1
 11091 01ee 0AD8     		bhi	.L673
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11092              		.loc 1 5598 13 view .LVU3577
 11093 01f0 0E20     		movs	r0, #14
 11094              	.LVL1376:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11095              		.loc 1 5598 13 view .LVU3578
 11096 01f2 44E2     		b	.L665
 11097              	.LVL1377:
 11098              	.L689:
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 11099              		.loc 1 5612 5 is_stmt 1 view .LVU3579
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 11100              		.loc 1 5612 9 is_stmt 0 view .LVU3580
 11101 01f4 354B     		ldr	r3, .L763+28
 11102 01f6 9842     		cmp	r0, r3
 11103 01f8 6CD8     		bhi	.L688
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11104              		.loc 1 5613 6 is_stmt 1 view .LVU3581
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11105              		.loc 1 5613 9 is_stmt 0 view .LVU3582
 11106 01fa 002C     		cmp	r4, #0
 11107 01fc 00D0     		beq	.LCB10693
 11108 01fe 5FE2     		b	.L733	@long jump
 11109              	.LCB10693:
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11110              		.loc 1 5613 21 discriminator 1 view .LVU3583
 11111 0200 7400     		lsls	r4, r6, #1
 11112              	.LVL1378:
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11113              		.loc 1 5613 14 discriminator 1 view .LVU3584
 11114 0202 802C     		cmp	r4, #128
 11115 0204 51D8     		bhi	.L749
 11116              	.LVL1379:
 11117              	.L673:
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
 11118              		.loc 1 5372 5 is_stmt 1 view .LVU3585
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
 11119              		.loc 1 5552 3 view .LVU3586
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
ARM GAS  /tmp/ccVOuidm.s 			page 356


 11120              		.loc 1 5553 4 view .LVU3587
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11121              		.loc 1 5555 4 view .LVU3588
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11122              		.loc 1 5555 7 is_stmt 0 view .LVU3589
 11123 0206 032F     		cmp	r7, #3
 11124 0208 A6D0     		beq	.L750
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11125              		.loc 1 5566 5 is_stmt 1 view .LVU3590
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11126              		.loc 1 5566 8 is_stmt 0 view .LVU3591
 11127 020a 002C     		cmp	r4, #0
 11128 020c CAD0     		beq	.L751
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 11129              		.loc 1 5553 8 view .LVU3592
 11130 020e 2600     		movs	r6, r4
 11131              	.LVL1380:
 11132              	.L679:
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11133              		.loc 1 5570 5 is_stmt 1 view .LVU3593
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11134              		.loc 1 5570 12 is_stmt 0 view .LVU3594
 11135 0210 3100     		movs	r1, r6
 11136 0212 4046     		mov	r0, r8
 11137 0214 FFF7FEFF 		bl	__aeabi_uidiv
 11138              	.LVL1381:
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11139              		.loc 1 5571 5 is_stmt 1 view .LVU3595
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11140              		.loc 1 5571 8 is_stmt 0 view .LVU3596
 11141 0218 2C4B     		ldr	r3, .L763+28
 11142 021a 9842     		cmp	r0, r3
 11143 021c D1D9     		bls	.L682
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11144              		.loc 1 5572 6 is_stmt 1 view .LVU3597
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11145              		.loc 1 5572 21 is_stmt 0 view .LVU3598
 11146 021e 0230     		adds	r0, r0, #2
 11147              	.LVL1382:
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11148              		.loc 1 5572 8 view .LVU3599
 11149 0220 4500     		lsls	r5, r0, #1
 11150              	.LVL1383:
 11151              	.L683:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11152              		.loc 1 5577 5 is_stmt 1 view .LVU3600
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11153              		.loc 1 5577 22 is_stmt 0 view .LVU3601
 11154 0222 2B4B     		ldr	r3, .L763+32
 11155 0224 9C46     		mov	ip, r3
 11156 0226 6544     		add	r5, r5, ip
 11157              	.LVL1384:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11158              		.loc 1 5577 12 view .LVU3602
 11159 0228 6D0A     		lsrs	r5, r5, #9
 11160              	.LVL1385:
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
ARM GAS  /tmp/ccVOuidm.s 			page 357


 11161              		.loc 1 5578 5 is_stmt 1 view .LVU3603
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11162              		.loc 1 5579 5 view .LVU3604
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11163              		.loc 1 5579 12 is_stmt 0 view .LVU3605
 11164 022a E03B     		subs	r3, r3, #224
 11165 022c FF3B     		subs	r3, r3, #255
 11166 022e 0493     		str	r3, [sp, #16]
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 11167              		.loc 1 5578 12 view .LVU3606
 11168 0230 1F3B     		subs	r3, r3, #31
 11169 0232 0293     		str	r3, [sp, #8]
 11170              	.LVL1386:
 11171              	.L678:
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11172              		.loc 1 5581 4 is_stmt 1 view .LVU3607
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11173              		.loc 1 5581 10 is_stmt 0 view .LVU3608
 11174 0234 029B     		ldr	r3, [sp, #8]
 11175 0236 039A     		ldr	r2, [sp, #12]
 11176 0238 9446     		mov	ip, r2
 11177 023a 6344     		add	r3, r3, ip
 11178 023c 9B46     		mov	fp, r3
 11179              	.LVL1387:
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11180              		.loc 1 5582 4 is_stmt 1 view .LVU3609
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11181              		.loc 1 5582 19 is_stmt 0 view .LVU3610
 11182 023e EA18     		adds	r2, r5, r3
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11183              		.loc 1 5582 11 view .LVU3611
 11184 0240 049B     		ldr	r3, [sp, #16]
 11185              	.LVL1388:
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11186              		.loc 1 5582 11 view .LVU3612
 11187 0242 9C46     		mov	ip, r3
 11188 0244 6244     		add	r2, r2, ip
 11189              	.LVL1389:
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11190              		.loc 1 5585 4 is_stmt 1 view .LVU3613
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11191              		.loc 1 5585 17 is_stmt 0 view .LVU3614
 11192 0246 0B9B     		ldr	r3, [sp, #44]
 11193 0248 9918     		adds	r1, r3, r2
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11194              		.loc 1 5585 26 view .LVU3615
 11195 024a 0139     		subs	r1, r1, #1
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11196              		.loc 1 5585 33 view .LVU3616
 11197 024c 5B42     		rsbs	r3, r3, #0
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11198              		.loc 1 5585 31 view .LVU3617
 11199 024e 0B40     		ands	r3, r1
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11200              		.loc 1 5585 6 view .LVU3618
 11201 0250 9B1A     		subs	r3, r3, r2
 11202              	.LVL1390:
ARM GAS  /tmp/ccVOuidm.s 			page 358


5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11203              		.loc 1 5586 4 is_stmt 1 view .LVU3619
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11204              		.loc 1 5586 7 is_stmt 0 view .LVU3620
 11205 0252 032F     		cmp	r7, #3
 11206 0254 BCD0     		beq	.L752
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11207              		.loc 1 5589 5 is_stmt 1 view .LVU3621
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11208              		.loc 1 5589 12 is_stmt 0 view .LVU3622
 11209 0256 ED18     		adds	r5, r5, r3
 11210              	.LVL1391:
 11211              	.L685:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11212              		.loc 1 5593 4 is_stmt 1 view .LVU3623
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11213              		.loc 1 5593 30 is_stmt 0 view .LVU3624
 11214 0258 3301     		lsls	r3, r6, #4
 11215              	.LVL1392:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11216              		.loc 1 5593 24 view .LVU3625
 11217 025a 9B18     		adds	r3, r3, r2
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11218              		.loc 1 5593 35 view .LVU3626
 11219 025c 039A     		ldr	r2, [sp, #12]
 11220              	.LVL1393:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11221              		.loc 1 5593 35 view .LVU3627
 11222 025e 9B1A     		subs	r3, r3, r2
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11223              		.loc 1 5593 7 view .LVU3628
 11224 0260 9845     		cmp	r8, r3
 11225 0262 00D2     		bcs	.LCB10829
 11226 0264 26E2     		b	.L728	@long jump
 11227              	.LCB10829:
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11228              		.loc 1 5594 4 is_stmt 1 view .LVU3629
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11229              		.loc 1 5594 21 is_stmt 0 view .LVU3630
 11230 0266 4346     		mov	r3, r8
 11231 0268 029A     		ldr	r2, [sp, #8]
 11232 026a 981A     		subs	r0, r3, r2
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11233              		.loc 1 5594 30 view .LVU3631
 11234 026c 401B     		subs	r0, r0, r5
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11235              		.loc 1 5594 48 view .LVU3632
 11236 026e 049B     		ldr	r3, [sp, #16]
 11237 0270 C01A     		subs	r0, r0, r3
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11238              		.loc 1 5594 11 view .LVU3633
 11239 0272 3100     		movs	r1, r6
 11240 0274 FFF7FEFF 		bl	__aeabi_uidiv
 11241              	.LVL1394:
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 11242              		.loc 1 5595 4 is_stmt 1 view .LVU3634
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
ARM GAS  /tmp/ccVOuidm.s 			page 359


 11243              		.loc 1 5595 7 is_stmt 0 view .LVU3635
 11244 0278 032F     		cmp	r7, #3
 11245 027a B0D0     		beq	.L753
 11246              	.L686:
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11247              		.loc 1 5601 4 is_stmt 1 view .LVU3636
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11248              		.loc 1 5601 7 is_stmt 0 view .LVU3637
 11249 027c 022F     		cmp	r7, #2
 11250 027e 29D1     		bne	.L688
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11251              		.loc 1 5602 5 is_stmt 1 view .LVU3638
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11252              		.loc 1 5602 8 is_stmt 0 view .LVU3639
 11253 0280 114B     		ldr	r3, .L763+24
 11254 0282 9842     		cmp	r0, r3
 11255 0284 B6D9     		bls	.L689
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11256              		.loc 1 5603 6 is_stmt 1 view .LVU3640
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11257              		.loc 1 5603 9 is_stmt 0 view .LVU3641
 11258 0286 002C     		cmp	r4, #0
 11259 0288 03D1     		bne	.L690
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11260              		.loc 1 5603 22 discriminator 1 view .LVU3642
 11261 028a 7300     		lsls	r3, r6, #1
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11262              		.loc 1 5603 14 discriminator 1 view .LVU3643
 11263 028c 402B     		cmp	r3, #64
 11264 028e 00D8     		bhi	.LCB10858
 11265 0290 5EE7     		b	.L730	@long jump
 11266              	.LCB10858:
 11267              	.L690:
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11268              		.loc 1 5606 6 is_stmt 1 view .LVU3644
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11269              		.loc 1 5606 9 is_stmt 0 view .LVU3645
 11270 0292 079B     		ldr	r3, [sp, #28]
 11271 0294 002B     		cmp	r3, #0
 11272 0296 00D0     		beq	.LCB10864
 11273 0298 5CE7     		b	.L731	@long jump
 11274              	.LCB10864:
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11275              		.loc 1 5609 6 is_stmt 1 view .LVU3646
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11276              		.loc 1 5609 9 is_stmt 0 view .LVU3647
 11277 029a 002C     		cmp	r4, #0
 11278 029c 00D0     		beq	.LCB10867
 11279 029e 0DE2     		b	.L732	@long jump
 11280              	.LCB10867:
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11281              		.loc 1 5609 21 discriminator 1 view .LVU3648
 11282 02a0 7400     		lsls	r4, r6, #1
 11283              	.LVL1395:
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11284              		.loc 1 5609 14 discriminator 1 view .LVU3649
 11285 02a2 802C     		cmp	r4, #128
ARM GAS  /tmp/ccVOuidm.s 			page 360


 11286 02a4 AFD9     		bls	.L673
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11287              		.loc 1 5610 13 view .LVU3650
 11288 02a6 0E20     		movs	r0, #14
 11289              	.LVL1396:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11290              		.loc 1 5610 13 view .LVU3651
 11291 02a8 E9E1     		b	.L665
 11292              	.LVL1397:
 11293              	.L749:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11294              		.loc 1 5614 13 view .LVU3652
 11295 02aa 0E20     		movs	r0, #14
 11296              	.LVL1398:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11297              		.loc 1 5614 13 view .LVU3653
 11298 02ac E7E1     		b	.L665
 11299              	.L764:
 11300 02ae C046     		.align	2
 11301              	.L763:
 11302 02b0 00000000 		.word	FatFs
 11303 02b4 07020000 		.word	519
 11304 02b8 0A00FFFF 		.word	-65526
 11305 02bc FFFFFE0F 		.word	268369919
 11306 02c0 00000000 		.word	cst32.1
 11307 02c4 00000000 		.word	cst.0
 11308 02c8 F5FF0000 		.word	65525
 11309 02cc F50F0000 		.word	4085
 11310 02d0 FF010000 		.word	511
 11311              	.LVL1399:
 11312              	.L688:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11313              		.loc 1 5617 7 view .LVU3654
 11314 02d4 4C46     		mov	r4, r9
 11315              	.LVL1400:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11316              		.loc 1 5617 7 view .LVU3655
 11317 02d6 5346     		mov	r3, r10
 11318 02d8 BA46     		mov	r10, r7
 11319              	.LVL1401:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11320              		.loc 1 5617 7 view .LVU3656
 11321 02da 8146     		mov	r9, r0
 11322              	.LVL1402:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11323              		.loc 1 5617 7 view .LVU3657
 11324 02dc 1F00     		movs	r7, r3
 11325              	.LVL1403:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11326              		.loc 1 5617 4 is_stmt 1 view .LVU3658
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11327              		.loc 1 5617 7 is_stmt 0 view .LVU3659
 11328 02de 5346     		mov	r3, r10
 11329              	.LVL1404:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11330              		.loc 1 5617 7 view .LVU3660
 11331 02e0 012B     		cmp	r3, #1
ARM GAS  /tmp/ccVOuidm.s 			page 361


 11332 02e2 03D1     		bne	.L691
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11333              		.loc 1 5617 24 discriminator 1 view .LVU3661
 11334 02e4 DB4B     		ldr	r3, .L765
 11335 02e6 9842     		cmp	r0, r3
 11336 02e8 00D9     		bls	.LCB10925
 11337 02ea EBE1     		b	.L734	@long jump
 11338              	.LCB10925:
 11339              	.L691:
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
 11340              		.loc 1 5620 4 is_stmt 1 view .LVU3662
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 11341              		.loc 1 5628 3 view .LVU3663
 11342 02ec 8023     		movs	r3, #128
 11343 02ee 9B00     		lsls	r3, r3, #2
 11344 02f0 9846     		mov	r8, r3
 11345 02f2 1A00     		movs	r2, r3
 11346 02f4 0021     		movs	r1, #0
 11347 02f6 0198     		ldr	r0, [sp, #4]
 11348              	.LVL1405:
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 11349              		.loc 1 5628 3 is_stmt 0 view .LVU3664
 11350 02f8 FFF7FEFF 		bl	mem_set
 11351              	.LVL1406:
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
 11352              		.loc 1 5629 3 is_stmt 1 view .LVU3665
 11353 02fc D649     		ldr	r1, .L765+4
 11354 02fe 0B22     		movs	r2, #11
 11355 0300 0198     		ldr	r0, [sp, #4]
 11356 0302 FFF7FEFF 		bl	mem_cpy
 11357              	.LVL1407:
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 11358              		.loc 1 5630 3 view .LVU3666
 11359 0306 4146     		mov	r1, r8
 11360 0308 0198     		ldr	r0, [sp, #4]
 11361 030a 0B30     		adds	r0, r0, #11
 11362 030c FFF7FEFF 		bl	st_word
 11363              	.LVL1408:
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 11364              		.loc 1 5631 3 view .LVU3667
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 11365              		.loc 1 5631 23 is_stmt 0 view .LVU3668
 11366 0310 019B     		ldr	r3, [sp, #4]
 11367 0312 5E73     		strb	r6, [r3, #13]
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
 11368              		.loc 1 5632 3 is_stmt 1 view .LVU3669
 11369 0314 6A46     		mov	r2, sp
 11370 0316 1189     		ldrh	r1, [r2, #8]
 11371 0318 1800     		movs	r0, r3
 11372 031a 0E30     		adds	r0, r0, #14
 11373 031c FFF7FEFF 		bl	st_word
 11374              	.LVL1409:
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 11375              		.loc 1 5633 3 view .LVU3670
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 11376              		.loc 1 5633 20 is_stmt 0 view .LVU3671
 11377 0320 0123     		movs	r3, #1
ARM GAS  /tmp/ccVOuidm.s 			page 362


 11378 0322 0198     		ldr	r0, [sp, #4]
 11379 0324 0374     		strb	r3, [r0, #16]
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11380              		.loc 1 5634 3 is_stmt 1 view .LVU3672
 11381 0326 1130     		adds	r0, r0, #17
 11382 0328 5346     		mov	r3, r10
 11383 032a 032B     		cmp	r3, #3
 11384 032c 6BD0     		beq	.L754
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11385              		.loc 1 5634 3 is_stmt 0 discriminator 2 view .LVU3673
 11386 032e 8021     		movs	r1, #128
 11387 0330 8900     		lsls	r1, r1, #2
 11388              	.L692:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11389              		.loc 1 5634 3 discriminator 4 view .LVU3674
 11390 0332 FFF7FEFF 		bl	st_word
 11391              	.LVL1410:
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 11392              		.loc 1 5635 3 is_stmt 1 view .LVU3675
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 11393              		.loc 1 5635 14 is_stmt 0 view .LVU3676
 11394 0336 0A99     		ldr	r1, [sp, #40]
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 11395              		.loc 1 5635 6 view .LVU3677
 11396 0338 8023     		movs	r3, #128
 11397 033a 5B02     		lsls	r3, r3, #9
 11398 033c 9942     		cmp	r1, r3
 11399 033e 64D2     		bcs	.L693
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11400              		.loc 1 5636 4 is_stmt 1 view .LVU3678
 11401 0340 89B2     		uxth	r1, r1
 11402 0342 0198     		ldr	r0, [sp, #4]
 11403 0344 1330     		adds	r0, r0, #19
 11404 0346 FFF7FEFF 		bl	st_word
 11405              	.LVL1411:
 11406              	.L694:
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 11407              		.loc 1 5640 3 view .LVU3679
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 11408              		.loc 1 5640 18 is_stmt 0 view .LVU3680
 11409 034a F823     		movs	r3, #248
 11410 034c 019A     		ldr	r2, [sp, #4]
 11411 034e 5375     		strb	r3, [r2, #21]
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
 11412              		.loc 1 5641 3 is_stmt 1 view .LVU3681
 11413 0350 1000     		movs	r0, r2
 11414 0352 1830     		adds	r0, r0, #24
 11415 0354 3F21     		movs	r1, #63
 11416 0356 FFF7FEFF 		bl	st_word
 11417              	.LVL1412:
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
 11418              		.loc 1 5642 3 view .LVU3682
 11419 035a FF21     		movs	r1, #255
 11420 035c 0198     		ldr	r0, [sp, #4]
 11421 035e 1A30     		adds	r0, r0, #26
 11422 0360 FFF7FEFF 		bl	st_word
 11423              	.LVL1413:
ARM GAS  /tmp/ccVOuidm.s 			page 363


5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 11424              		.loc 1 5643 3 view .LVU3683
 11425 0364 0198     		ldr	r0, [sp, #4]
 11426 0366 1C30     		adds	r0, r0, #28
 11427 0368 0399     		ldr	r1, [sp, #12]
 11428 036a FFF7FEFF 		bl	st_dword
 11429              	.LVL1414:
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 11430              		.loc 1 5644 3 view .LVU3684
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 11431              		.loc 1 5644 6 is_stmt 0 view .LVU3685
 11432 036e 5346     		mov	r3, r10
 11433 0370 032B     		cmp	r3, #3
 11434 0372 4FD0     		beq	.L755
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 11435              		.loc 1 5654 4 is_stmt 1 view .LVU3686
 11436 0374 FFF7FEFF 		bl	get_fattime
 11437              	.LVL1415:
 11438 0378 0100     		movs	r1, r0
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 11439              		.loc 1 5654 4 is_stmt 0 discriminator 1 view .LVU3687
 11440 037a 0198     		ldr	r0, [sp, #4]
 11441 037c 2730     		adds	r0, r0, #39
 11442 037e FFF7FEFF 		bl	st_dword
 11443              	.LVL1416:
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
 11444              		.loc 1 5655 4 is_stmt 1 view .LVU3688
 11445 0382 A9B2     		uxth	r1, r5
 11446 0384 0198     		ldr	r0, [sp, #4]
 11447 0386 1630     		adds	r0, r0, #22
 11448 0388 FFF7FEFF 		bl	st_word
 11449              	.LVL1417:
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 11450              		.loc 1 5656 4 view .LVU3689
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 11451              		.loc 1 5656 19 is_stmt 0 view .LVU3690
 11452 038c 2423     		movs	r3, #36
 11453 038e 8022     		movs	r2, #128
 11454 0390 0198     		ldr	r0, [sp, #4]
 11455 0392 C254     		strb	r2, [r0, r3]
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 11456              		.loc 1 5657 4 is_stmt 1 view .LVU3691
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 11457              		.loc 1 5657 20 is_stmt 0 view .LVU3692
 11458 0394 0233     		adds	r3, r3, #2
 11459 0396 573A     		subs	r2, r2, #87
 11460 0398 C254     		strb	r2, [r0, r3]
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11461              		.loc 1 5658 4 is_stmt 1 view .LVU3693
 11462 039a B049     		ldr	r1, .L765+8
 11463 039c 163A     		subs	r2, r2, #22
 11464 039e 2B30     		adds	r0, r0, #43
 11465 03a0 FFF7FEFF 		bl	mem_cpy
 11466              	.LVL1418:
 11467              	.L696:
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 11468              		.loc 1 5660 3 view .LVU3694
ARM GAS  /tmp/ccVOuidm.s 			page 364


 11469 03a4 019B     		ldr	r3, [sp, #4]
 11470 03a6 FF22     		movs	r2, #255
 11471 03a8 5200     		lsls	r2, r2, #1
 11472 03aa 9446     		mov	ip, r2
 11473 03ac 6344     		add	r3, r3, ip
 11474 03ae 9846     		mov	r8, r3
 11475 03b0 AB49     		ldr	r1, .L765+12
 11476 03b2 1800     		movs	r0, r3
 11477 03b4 FFF7FEFF 		bl	st_word
 11478              	.LVL1419:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11479              		.loc 1 5661 3 view .LVU3695
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11480              		.loc 1 5661 7 is_stmt 0 view .LVU3696
 11481 03b8 0123     		movs	r3, #1
 11482 03ba 039A     		ldr	r2, [sp, #12]
 11483 03bc 0199     		ldr	r1, [sp, #4]
 11484 03be 2000     		movs	r0, r4
 11485 03c0 FFF7FEFF 		bl	disk_write
 11486              	.LVL1420:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11487              		.loc 1 5661 6 discriminator 1 view .LVU3697
 11488 03c4 0028     		cmp	r0, #0
 11489 03c6 00D0     		beq	.LCB11059
 11490 03c8 7EE1     		b	.L736	@long jump
 11491              	.LCB11059:
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 11492              		.loc 1 5664 3 is_stmt 1 view .LVU3698
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 11493              		.loc 1 5664 6 is_stmt 0 view .LVU3699
 11494 03ca 5346     		mov	r3, r10
 11495 03cc 032B     		cmp	r3, #3
 11496 03ce 4AD0     		beq	.L756
 11497              	.L697:
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
 11498              		.loc 1 5677 3 is_stmt 1 view .LVU3700
 11499 03d0 069A     		ldr	r2, [sp, #24]
 11500 03d2 0021     		movs	r1, #0
 11501 03d4 0198     		ldr	r0, [sp, #4]
 11502 03d6 FFF7FEFF 		bl	mem_set
 11503              	.LVL1421:
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
 11504              		.loc 1 5678 3 view .LVU3701
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11505              		.loc 1 5679 3 view .LVU3702
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11506              		.loc 1 5679 3 is_stmt 0 view .LVU3703
 11507 03da 0295     		str	r5, [sp, #8]
 11508              	.LVL1422:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11509              		.loc 1 5679 3 view .LVU3704
 11510 03dc 5D46     		mov	r5, fp
 11511              	.LVL1423:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11512              		.loc 1 5679 3 view .LVU3705
 11513 03de B346     		mov	fp, r6
 11514              	.LVL1424:
ARM GAS  /tmp/ccVOuidm.s 			page 365


5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11515              		.loc 1 5679 3 view .LVU3706
 11516 03e0 A146     		mov	r9, r4
 11517              	.LVL1425:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11518              		.loc 1 5679 3 view .LVU3707
 11519 03e2 4446     		mov	r4, r8
 11520              	.LVL1426:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11521              		.loc 1 5679 3 view .LVU3708
 11522 03e4 B846     		mov	r8, r7
 11523 03e6 019F     		ldr	r7, [sp, #4]
 11524              	.LVL1427:
 11525              	.L698:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11526              		.loc 1 5679 17 is_stmt 1 discriminator 1 view .LVU3709
 11527 03e8 059B     		ldr	r3, [sp, #20]
 11528 03ea 002B     		cmp	r3, #0
 11529 03ec 72D0     		beq	.L704
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11530              		.loc 1 5697 35 is_stmt 0 view .LVU3710
 11531 03ee 5E46     		mov	r6, fp
 11532 03f0 AB46     		mov	fp, r5
 11533 03f2 4746     		mov	r7, r8
 11534 03f4 A046     		mov	r8, r4
 11535              	.LVL1428:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11536              		.loc 1 5697 3 is_stmt 1 view .LVU3711
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11537              		.loc 1 5697 35 is_stmt 0 view .LVU3712
 11538 03f6 5346     		mov	r3, r10
 11539 03f8 032B     		cmp	r3, #3
 11540 03fa 00D1     		bne	.LCB11116
 11541 03fc ABE0     		b	.L757	@long jump
 11542              	.LCB11116:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11543              		.loc 1 5697 35 view .LVU3713
 11544 03fe 049D     		ldr	r5, [sp, #16]
 11545              	.LVL1429:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11546              		.loc 1 5697 35 view .LVU3714
 11547 0400 5C46     		mov	r4, fp
 11548 0402 CB46     		mov	fp, r9
 11549              	.LVL1430:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11550              		.loc 1 5697 35 view .LVU3715
 11551 0404 B7E0     		b	.L707
 11552              	.LVL1431:
 11553              	.L754:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11554              		.loc 1 5634 3 discriminator 1 view .LVU3716
 11555 0406 0021     		movs	r1, #0
 11556 0408 93E7     		b	.L692
 11557              	.L693:
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11558              		.loc 1 5638 4 is_stmt 1 view .LVU3717
 11559 040a 0198     		ldr	r0, [sp, #4]
ARM GAS  /tmp/ccVOuidm.s 			page 366


 11560 040c 2030     		adds	r0, r0, #32
 11561 040e FFF7FEFF 		bl	st_dword
 11562              	.LVL1432:
 11563 0412 9AE7     		b	.L694
 11564              	.L755:
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 11565              		.loc 1 5645 4 view .LVU3718
 11566 0414 FFF7FEFF 		bl	get_fattime
 11567              	.LVL1433:
 11568 0418 0100     		movs	r1, r0
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 11569              		.loc 1 5645 4 is_stmt 0 discriminator 1 view .LVU3719
 11570 041a 019B     		ldr	r3, [sp, #4]
 11571 041c 4333     		adds	r3, r3, #67
 11572 041e 1800     		movs	r0, r3
 11573 0420 FFF7FEFF 		bl	st_dword
 11574              	.LVL1434:
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
 11575              		.loc 1 5646 4 is_stmt 1 view .LVU3720
 11576 0424 0198     		ldr	r0, [sp, #4]
 11577 0426 2430     		adds	r0, r0, #36
 11578 0428 2900     		movs	r1, r5
 11579 042a FFF7FEFF 		bl	st_dword
 11580              	.LVL1435:
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
 11581              		.loc 1 5647 4 view .LVU3721
 11582 042e 0198     		ldr	r0, [sp, #4]
 11583 0430 2C30     		adds	r0, r0, #44
 11584 0432 0221     		movs	r1, #2
 11585 0434 FFF7FEFF 		bl	st_dword
 11586              	.LVL1436:
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
 11587              		.loc 1 5648 4 view .LVU3722
 11588 0438 0198     		ldr	r0, [sp, #4]
 11589 043a 3030     		adds	r0, r0, #48
 11590 043c 0121     		movs	r1, #1
 11591 043e FFF7FEFF 		bl	st_word
 11592              	.LVL1437:
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
 11593              		.loc 1 5649 4 view .LVU3723
 11594 0442 0621     		movs	r1, #6
 11595 0444 0198     		ldr	r0, [sp, #4]
 11596 0446 3230     		adds	r0, r0, #50
 11597 0448 FFF7FEFF 		bl	st_word
 11598              	.LVL1438:
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 11599              		.loc 1 5650 4 view .LVU3724
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 11600              		.loc 1 5650 21 is_stmt 0 view .LVU3725
 11601 044c 4023     		movs	r3, #64
 11602 044e 8022     		movs	r2, #128
 11603 0450 0198     		ldr	r0, [sp, #4]
 11604 0452 C254     		strb	r2, [r0, r3]
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 11605              		.loc 1 5651 4 is_stmt 1 view .LVU3726
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 11606              		.loc 1 5651 22 is_stmt 0 view .LVU3727
ARM GAS  /tmp/ccVOuidm.s 			page 367


 11607 0454 0233     		adds	r3, r3, #2
 11608 0456 573A     		subs	r2, r2, #87
 11609 0458 C254     		strb	r2, [r0, r3]
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11610              		.loc 1 5652 4 is_stmt 1 view .LVU3728
 11611 045a 8249     		ldr	r1, .L765+16
 11612 045c 163A     		subs	r2, r2, #22
 11613 045e 4730     		adds	r0, r0, #71
 11614 0460 FFF7FEFF 		bl	mem_cpy
 11615              	.LVL1439:
 11616 0464 9EE7     		b	.L696
 11617              	.L756:
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 11618              		.loc 1 5665 4 view .LVU3729
 11619 0466 039B     		ldr	r3, [sp, #12]
 11620 0468 9A1D     		adds	r2, r3, #6
 11621 046a 0123     		movs	r3, #1
 11622 046c 0199     		ldr	r1, [sp, #4]
 11623 046e 2000     		movs	r0, r4
 11624 0470 FFF7FEFF 		bl	disk_write
 11625              	.LVL1440:
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
 11626              		.loc 1 5666 4 view .LVU3730
 11627 0474 8022     		movs	r2, #128
 11628 0476 9200     		lsls	r2, r2, #2
 11629 0478 0021     		movs	r1, #0
 11630 047a 0198     		ldr	r0, [sp, #4]
 11631 047c FFF7FEFF 		bl	mem_set
 11632              	.LVL1441:
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
 11633              		.loc 1 5667 4 view .LVU3731
 11634 0480 7949     		ldr	r1, .L765+20
 11635 0482 0198     		ldr	r0, [sp, #4]
 11636 0484 FFF7FEFF 		bl	st_dword
 11637              	.LVL1442:
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 11638              		.loc 1 5668 4 view .LVU3732
 11639 0488 0198     		ldr	r0, [sp, #4]
 11640 048a E530     		adds	r0, r0, #229
 11641 048c FF30     		adds	r0, r0, #255
 11642 048e 7749     		ldr	r1, .L765+24
 11643 0490 FFF7FEFF 		bl	st_dword
 11644              	.LVL1443:
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 11645              		.loc 1 5669 4 view .LVU3733
 11646 0494 4946     		mov	r1, r9
 11647 0496 0139     		subs	r1, r1, #1
 11648 0498 0198     		ldr	r0, [sp, #4]
 11649 049a E930     		adds	r0, r0, #233
 11650 049c FF30     		adds	r0, r0, #255
 11651 049e FFF7FEFF 		bl	st_dword
 11652              	.LVL1444:
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
 11653              		.loc 1 5670 4 view .LVU3734
 11654 04a2 0198     		ldr	r0, [sp, #4]
 11655 04a4 ED30     		adds	r0, r0, #237
 11656 04a6 FF30     		adds	r0, r0, #255
ARM GAS  /tmp/ccVOuidm.s 			page 368


 11657 04a8 0221     		movs	r1, #2
 11658 04aa FFF7FEFF 		bl	st_dword
 11659              	.LVL1445:
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
 11660              		.loc 1 5671 4 view .LVU3735
 11661 04ae 6C49     		ldr	r1, .L765+12
 11662 04b0 4046     		mov	r0, r8
 11663 04b2 FFF7FEFF 		bl	st_word
 11664              	.LVL1446:
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 11665              		.loc 1 5672 4 view .LVU3736
 11666 04b6 039B     		ldr	r3, [sp, #12]
 11667 04b8 DA1D     		adds	r2, r3, #7
 11668 04ba 0123     		movs	r3, #1
 11669 04bc 0199     		ldr	r1, [sp, #4]
 11670 04be 2000     		movs	r0, r4
 11671 04c0 FFF7FEFF 		bl	disk_write
 11672              	.LVL1447:
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11673              		.loc 1 5673 4 view .LVU3737
 11674 04c4 039B     		ldr	r3, [sp, #12]
 11675 04c6 5A1C     		adds	r2, r3, #1
 11676 04c8 0123     		movs	r3, #1
 11677 04ca 0199     		ldr	r1, [sp, #4]
 11678 04cc 2000     		movs	r0, r4
 11679 04ce FFF7FEFF 		bl	disk_write
 11680              	.LVL1448:
 11681 04d2 7DE7     		b	.L697
 11682              	.LVL1449:
 11683              	.L704:
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 11684              		.loc 1 5680 4 view .LVU3738
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 11685              		.loc 1 5680 7 is_stmt 0 view .LVU3739
 11686 04d4 5346     		mov	r3, r10
 11687              	.LVL1450:
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 11688              		.loc 1 5680 7 view .LVU3740
 11689 04d6 032B     		cmp	r3, #3
 11690 04d8 0CD0     		beq	.L758
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11691              		.loc 1 5685 5 is_stmt 1 view .LVU3741
 11692 04da 012B     		cmp	r3, #1
 11693 04dc 1AD0     		beq	.L759
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11694              		.loc 1 5685 5 is_stmt 0 discriminator 2 view .LVU3742
 11695 04de 0821     		movs	r1, #8
 11696 04e0 4942     		rsbs	r1, r1, #0
 11697              	.L701:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11698              		.loc 1 5685 5 discriminator 4 view .LVU3743
 11699 04e2 3800     		movs	r0, r7
 11700 04e4 FFF7FEFF 		bl	st_dword
 11701              	.LVL1451:
 11702              	.L700:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11703              		.loc 1 5685 5 discriminator 2 view .LVU3744
ARM GAS  /tmp/ccVOuidm.s 			page 369


 11704 04e8 029E     		ldr	r6, [sp, #8]
 11705 04ea 5B46     		mov	r3, fp
 11706 04ec 0693     		str	r3, [sp, #24]
 11707 04ee A346     		mov	fp, r4
 11708 04f0 3C00     		movs	r4, r7
 11709 04f2 23E0     		b	.L703
 11710              	.L758:
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
 11711              		.loc 1 5681 5 is_stmt 1 view .LVU3745
 11712 04f4 0821     		movs	r1, #8
 11713 04f6 4942     		rsbs	r1, r1, #0
 11714 04f8 3800     		movs	r0, r7
 11715 04fa FFF7FEFF 		bl	st_dword
 11716              	.LVL1452:
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
 11717              		.loc 1 5682 5 view .LVU3746
 11718 04fe 0121     		movs	r1, #1
 11719 0500 381D     		adds	r0, r7, #4
 11720 0502 4942     		rsbs	r1, r1, #0
 11721 0504 FFF7FEFF 		bl	st_dword
 11722              	.LVL1453:
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 11723              		.loc 1 5683 5 view .LVU3747
 11724 0508 3800     		movs	r0, r7
 11725 050a 0830     		adds	r0, r0, #8
 11726 050c 5849     		ldr	r1, .L765+28
 11727 050e FFF7FEFF 		bl	st_dword
 11728              	.LVL1454:
 11729 0512 E9E7     		b	.L700
 11730              	.L759:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11731              		.loc 1 5685 5 is_stmt 0 discriminator 1 view .LVU3748
 11732 0514 5749     		ldr	r1, .L765+32
 11733 0516 E4E7     		b	.L701
 11734              	.LVL1455:
 11735              	.L702:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 11736              		.loc 1 5690 5 is_stmt 1 view .LVU3749
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 11737              		.loc 1 5690 9 is_stmt 0 view .LVU3750
 11738 0518 3B00     		movs	r3, r7
 11739 051a 2A00     		movs	r2, r5
 11740 051c 2100     		movs	r1, r4
 11741 051e 4846     		mov	r0, r9
 11742 0520 FFF7FEFF 		bl	disk_write
 11743              	.LVL1456:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 11744              		.loc 1 5690 8 discriminator 1 view .LVU3751
 11745 0524 0028     		cmp	r0, #0
 11746 0526 00D0     		beq	.LCB11343
 11747 0528 D0E0     		b	.L738	@long jump
 11748              	.LCB11343:
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
 11749              		.loc 1 5691 5 is_stmt 1 view .LVU3752
 11750 052a 8022     		movs	r2, #128
 11751 052c 9200     		lsls	r2, r2, #2
 11752 052e 0021     		movs	r1, #0
ARM GAS  /tmp/ccVOuidm.s 			page 370


 11753 0530 2000     		movs	r0, r4
 11754 0532 FFF7FEFF 		bl	mem_set
 11755              	.LVL1457:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 11756              		.loc 1 5692 5 view .LVU3753
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 11757              		.loc 1 5692 10 is_stmt 0 view .LVU3754
 11758 0536 ED19     		adds	r5, r5, r7
 11759              	.LVL1458:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 11760              		.loc 1 5692 16 is_stmt 1 view .LVU3755
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 11761              		.loc 1 5692 22 is_stmt 0 view .LVU3756
 11762 0538 F61B     		subs	r6, r6, r7
 11763              	.LVL1459:
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11764              		.loc 1 5693 13 is_stmt 1 view .LVU3757
 11765 053a 04D0     		beq	.L760
 11766              	.LVL1460:
 11767              	.L703:
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
 11768              		.loc 1 5688 4 view .LVU3758
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11769              		.loc 1 5689 5 view .LVU3759
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11770              		.loc 1 5689 7 is_stmt 0 view .LVU3760
 11771 053c 3700     		movs	r7, r6
 11772 053e 4645     		cmp	r6, r8
 11773 0540 EAD9     		bls	.L702
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11774              		.loc 1 5689 7 view .LVU3761
 11775 0542 4746     		mov	r7, r8
 11776 0544 E8E7     		b	.L702
 11777              	.LVL1461:
 11778              	.L760:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11779              		.loc 1 5679 28 discriminator 2 view .LVU3762
 11780 0546 2700     		movs	r7, r4
 11781              	.LVL1462:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11782              		.loc 1 5679 28 discriminator 2 view .LVU3763
 11783 0548 5C46     		mov	r4, fp
 11784 054a 069B     		ldr	r3, [sp, #24]
 11785 054c 9B46     		mov	fp, r3
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11786              		.loc 1 5679 28 is_stmt 1 discriminator 2 view .LVU3764
 11787 054e 059B     		ldr	r3, [sp, #20]
 11788 0550 0133     		adds	r3, r3, #1
 11789 0552 0593     		str	r3, [sp, #20]
 11790              	.LVL1463:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11791              		.loc 1 5679 28 is_stmt 0 discriminator 2 view .LVU3765
 11792 0554 48E7     		b	.L698
 11793              	.LVL1464:
 11794              	.L757:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11795              		.loc 1 5697 35 discriminator 1 view .LVU3766
ARM GAS  /tmp/ccVOuidm.s 			page 371


 11796 0556 3500     		movs	r5, r6
 11797              	.LVL1465:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11798              		.loc 1 5697 35 discriminator 1 view .LVU3767
 11799 0558 5C46     		mov	r4, fp
 11800 055a CB46     		mov	fp, r9
 11801              	.LVL1466:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11802              		.loc 1 5697 35 discriminator 1 view .LVU3768
 11803 055c 0BE0     		b	.L707
 11804              	.LVL1467:
 11805              	.L706:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 11806              		.loc 1 5700 4 is_stmt 1 view .LVU3769
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 11807              		.loc 1 5700 8 is_stmt 0 view .LVU3770
 11808 055e 3300     		movs	r3, r6
 11809 0560 2200     		movs	r2, r4
 11810 0562 0199     		ldr	r1, [sp, #4]
 11811 0564 5846     		mov	r0, fp
 11812 0566 FFF7FEFF 		bl	disk_write
 11813              	.LVL1468:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 11814              		.loc 1 5700 7 discriminator 1 view .LVU3771
 11815 056a 0028     		cmp	r0, #0
 11816 056c 00D0     		beq	.LCB11430
 11817 056e AFE0     		b	.L739	@long jump
 11818              	.LCB11430:
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 11819              		.loc 1 5701 4 is_stmt 1 view .LVU3772
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 11820              		.loc 1 5701 9 is_stmt 0 view .LVU3773
 11821 0570 A419     		adds	r4, r4, r6
 11822              	.LVL1469:
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 11823              		.loc 1 5701 15 is_stmt 1 view .LVU3774
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 11824              		.loc 1 5701 21 is_stmt 0 view .LVU3775
 11825 0572 AD1B     		subs	r5, r5, r6
 11826              	.LVL1470:
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11827              		.loc 1 5702 12 is_stmt 1 view .LVU3776
 11828 0574 04D0     		beq	.L761
 11829              	.LVL1471:
 11830              	.L707:
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
 11831              		.loc 1 5698 3 view .LVU3777
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11832              		.loc 1 5699 4 view .LVU3778
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11833              		.loc 1 5699 6 is_stmt 0 view .LVU3779
 11834 0576 2E00     		movs	r6, r5
 11835 0578 BD42     		cmp	r5, r7
 11836 057a F0D9     		bls	.L706
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11837              		.loc 1 5699 6 view .LVU3780
 11838 057c 3E00     		movs	r6, r7
ARM GAS  /tmp/ccVOuidm.s 			page 372


 11839 057e EEE7     		b	.L706
 11840              	.LVL1472:
 11841              	.L761:
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 11842              		.loc 1 5709 6 view .LVU3781
 11843 0580 5C46     		mov	r4, fp
 11844              	.LVL1473:
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
 11845              		.loc 1 5706 2 is_stmt 1 view .LVU3782
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 11846              		.loc 1 5709 3 view .LVU3783
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 11847              		.loc 1 5709 6 is_stmt 0 view .LVU3784
 11848 0582 5346     		mov	r3, r10
 11849 0584 032B     		cmp	r3, #3
 11850 0586 0BD0     		beq	.L740
 11851              	.LVL1474:
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 11852              		.loc 1 5712 4 is_stmt 1 view .LVU3785
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 11853              		.loc 1 5712 15 is_stmt 0 view .LVU3786
 11854 0588 0A9A     		ldr	r2, [sp, #40]
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 11855              		.loc 1 5712 7 view .LVU3787
 11856 058a 8023     		movs	r3, #128
 11857 058c 5B02     		lsls	r3, r3, #9
 11858 058e 9A42     		cmp	r2, r3
 11859 0590 59D2     		bcs	.L741
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11860              		.loc 1 5715 5 is_stmt 1 view .LVU3788
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11861              		.loc 1 5715 9 is_stmt 0 view .LVU3789
 11862 0592 5346     		mov	r3, r10
 11863 0594 022B     		cmp	r3, #2
 11864 0596 01D0     		beq	.L762
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11865              		.loc 1 5715 9 discriminator 2 view .LVU3790
 11866 0598 0125     		movs	r5, #1
 11867              	.LVL1475:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11868              		.loc 1 5715 9 discriminator 2 view .LVU3791
 11869 059a 02E0     		b	.L708
 11870              	.LVL1476:
 11871              	.L762:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11872              		.loc 1 5715 9 discriminator 1 view .LVU3792
 11873 059c 0435     		adds	r5, r5, #4
 11874              	.LVL1477:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11875              		.loc 1 5715 9 discriminator 1 view .LVU3793
 11876 059e 00E0     		b	.L708
 11877              	.LVL1478:
 11878              	.L740:
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11879              		.loc 1 5710 8 view .LVU3794
 11880 05a0 0C25     		movs	r5, #12
 11881              	.LVL1479:
ARM GAS  /tmp/ccVOuidm.s 			page 373


 11882              	.L708:
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 11883              		.loc 1 5721 2 is_stmt 1 view .LVU3795
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 11884              		.loc 1 5727 3 view .LVU3796
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 11885              		.loc 1 5727 6 is_stmt 0 view .LVU3797
 11886 05a2 089B     		ldr	r3, [sp, #32]
 11887 05a4 002B     		cmp	r3, #0
 11888 05a6 45D1     		bne	.L709
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 11889              		.loc 1 5728 4 is_stmt 1 view .LVU3798
 11890 05a8 8022     		movs	r2, #128
 11891 05aa 9200     		lsls	r2, r2, #2
 11892 05ac 0021     		movs	r1, #0
 11893 05ae 019F     		ldr	r7, [sp, #4]
 11894              	.LVL1480:
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 11895              		.loc 1 5728 4 is_stmt 0 view .LVU3799
 11896 05b0 3800     		movs	r0, r7
 11897 05b2 FFF7FEFF 		bl	mem_set
 11898              	.LVL1481:
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
 11899              		.loc 1 5729 4 is_stmt 1 view .LVU3800
 11900 05b6 2A49     		ldr	r1, .L765+12
 11901 05b8 4046     		mov	r0, r8
 11902 05ba FFF7FEFF 		bl	st_word
 11903              	.LVL1482:
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
 11904              		.loc 1 5730 4 view .LVU3801
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 11905              		.loc 1 5731 4 view .LVU3802
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 11906              		.loc 1 5731 18 is_stmt 0 view .LVU3803
 11907 05be 0026     		movs	r6, #0
 11908              	.LVL1483:
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 11909              		.loc 1 5731 18 view .LVU3804
 11910 05c0 DF23     		movs	r3, #223
 11911 05c2 5B00     		lsls	r3, r3, #1
 11912 05c4 3A00     		movs	r2, r7
 11913 05c6 FE54     		strb	r6, [r7, r3]
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 11914              		.loc 1 5732 4 is_stmt 1 view .LVU3805
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 11915              		.loc 1 5732 20 is_stmt 0 view .LVU3806
 11916 05c8 0127     		movs	r7, #1
 11917              	.LVL1484:
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 11918              		.loc 1 5732 20 view .LVU3807
 11919 05ca C023     		movs	r3, #192
 11920 05cc FF33     		adds	r3, r3, #255
 11921 05ce D754     		strb	r7, [r2, r3]
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 11922              		.loc 1 5733 4 is_stmt 1 view .LVU3808
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 11923              		.loc 1 5733 19 is_stmt 0 view .LVU3809
ARM GAS  /tmp/ccVOuidm.s 			page 374


 11924 05d0 0133     		adds	r3, r3, #1
 11925 05d2 D754     		strb	r7, [r2, r3]
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 11926              		.loc 1 5734 4 is_stmt 1 view .LVU3810
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 11927              		.loc 1 5734 19 is_stmt 0 view .LVU3811
 11928 05d4 C223     		movs	r3, #194
 11929 05d6 FF33     		adds	r3, r3, #255
 11930 05d8 D654     		strb	r6, [r2, r3]
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 11931              		.loc 1 5735 4 is_stmt 1 view .LVU3812
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 11932              		.loc 1 5735 20 is_stmt 0 view .LVU3813
 11933 05da 0133     		adds	r3, r3, #1
 11934 05dc 0192     		str	r2, [sp, #4]
 11935              	.LVL1485:
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 11936              		.loc 1 5735 20 view .LVU3814
 11937 05de D554     		strb	r5, [r2, r3]
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 11938              		.loc 1 5736 4 is_stmt 1 view .LVU3815
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 11939              		.loc 1 5736 15 is_stmt 0 view .LVU3816
 11940 05e0 0A98     		ldr	r0, [sp, #40]
 11941 05e2 039B     		ldr	r3, [sp, #12]
 11942 05e4 9C46     		mov	ip, r3
 11943 05e6 6044     		add	r0, r0, ip
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 11944              		.loc 1 5736 6 view .LVU3817
 11945 05e8 2349     		ldr	r1, .L765+36
 11946 05ea FFF7FEFF 		bl	__aeabi_uidiv
 11947              	.LVL1486:
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 11948              		.loc 1 5737 4 is_stmt 1 view .LVU3818
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 11949              		.loc 1 5737 20 is_stmt 0 view .LVU3819
 11950 05ee C423     		movs	r3, #196
 11951 05f0 FF33     		adds	r3, r3, #255
 11952 05f2 FE22     		movs	r2, #254
 11953 05f4 019D     		ldr	r5, [sp, #4]
 11954              	.LVL1487:
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 11955              		.loc 1 5737 20 view .LVU3820
 11956 05f6 EA54     		strb	r2, [r5, r3]
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11957              		.loc 1 5738 4 is_stmt 1 view .LVU3821
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11958              		.loc 1 5738 30 is_stmt 0 view .LVU3822
 11959 05f8 8208     		lsrs	r2, r0, #2
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11960              		.loc 1 5738 21 view .LVU3823
 11961 05fa 853B     		subs	r3, r3, #133
 11962 05fc FF3B     		subs	r3, r3, #255
 11963 05fe 1343     		orrs	r3, r2
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11964              		.loc 1 5738 19 view .LVU3824
 11965 0600 E222     		movs	r2, #226
ARM GAS  /tmp/ccVOuidm.s 			page 375


 11966 0602 5200     		lsls	r2, r2, #1
 11967 0604 AB54     		strb	r3, [r5, r2]
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 11968              		.loc 1 5739 4 is_stmt 1 view .LVU3825
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 11969              		.loc 1 5739 19 is_stmt 0 view .LVU3826
 11970 0606 C623     		movs	r3, #198
 11971 0608 FF33     		adds	r3, r3, #255
 11972 060a E854     		strb	r0, [r5, r3]
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 11973              		.loc 1 5740 4 is_stmt 1 view .LVU3827
 11974 060c 2800     		movs	r0, r5
 11975              	.LVL1488:
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 11976              		.loc 1 5740 4 is_stmt 0 view .LVU3828
 11977 060e C730     		adds	r0, r0, #199
 11978 0610 FF30     		adds	r0, r0, #255
 11979 0612 0399     		ldr	r1, [sp, #12]
 11980 0614 FFF7FEFF 		bl	st_dword
 11981              	.LVL1489:
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
 11982              		.loc 1 5741 4 is_stmt 1 view .LVU3829
 11983 0618 2800     		movs	r0, r5
 11984 061a CB30     		adds	r0, r0, #203
 11985 061c FF30     		adds	r0, r0, #255
 11986 061e 0A99     		ldr	r1, [sp, #40]
 11987 0620 FFF7FEFF 		bl	st_dword
 11988              	.LVL1490:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11989              		.loc 1 5742 4 view .LVU3830
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11990              		.loc 1 5742 8 is_stmt 0 view .LVU3831
 11991 0624 3B00     		movs	r3, r7
 11992 0626 3200     		movs	r2, r6
 11993 0628 2900     		movs	r1, r5
 11994 062a 2000     		movs	r0, r4
 11995 062c FFF7FEFF 		bl	disk_write
 11996              	.LVL1491:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11997              		.loc 1 5742 7 discriminator 1 view .LVU3832
 11998 0630 B042     		cmp	r0, r6
 11999 0632 4FD1     		bne	.L743
 12000              	.LVL1492:
 12001              	.L709:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12002              		.loc 1 5746 2 is_stmt 1 view .LVU3833
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12003              		.loc 1 5746 6 is_stmt 0 view .LVU3834
 12004 0634 0022     		movs	r2, #0
 12005 0636 1100     		movs	r1, r2
 12006 0638 2000     		movs	r0, r4
 12007 063a FFF7FEFF 		bl	disk_ioctl
 12008              	.LVL1493:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12009              		.loc 1 5746 5 discriminator 1 view .LVU3835
 12010 063e 0028     		cmp	r0, #0
 12011 0640 1DD0     		beq	.L665
ARM GAS  /tmp/ccVOuidm.s 			page 376


5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12012              		.loc 1 5746 55 discriminator 1 view .LVU3836
 12013 0642 0120     		movs	r0, #1
 12014 0644 1BE0     		b	.L665
 12015              	.LVL1494:
 12016              	.L741:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12017              		.loc 1 5713 9 view .LVU3837
 12018 0646 0625     		movs	r5, #6
 12019              	.LVL1495:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12020              		.loc 1 5713 9 view .LVU3838
 12021 0648 ABE7     		b	.L708
 12022              	.LVL1496:
 12023              	.L710:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 12024              		.loc 1 5328 22 discriminator 1 view .LVU3839
 12025 064a 0B20     		movs	r0, #11
 12026              	.LVL1497:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 12027              		.loc 1 5328 22 discriminator 1 view .LVU3840
 12028 064c 17E0     		b	.L665
 12029              	.LVL1498:
 12030              	.L711:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 12031              		.loc 1 5335 32 discriminator 1 view .LVU3841
 12032 064e 0320     		movs	r0, #3
 12033              	.LVL1499:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 12034              		.loc 1 5335 32 discriminator 1 view .LVU3842
 12035 0650 15E0     		b	.L665
 12036              	.L766:
 12037 0652 C046     		.align	2
 12038              	.L765:
 12039 0654 F50F0000 		.word	4085
 12040 0658 00000000 		.word	.LC14
 12041 065c 20000000 		.word	.LC18
 12042 0660 55AA0000 		.word	43605
 12043 0664 0C000000 		.word	.LC16
 12044 0668 52526141 		.word	1096897106
 12045 066c 72724161 		.word	1631679090
 12046 0670 FFFFFF0F 		.word	268435455
 12047 0674 F8FFFF00 		.word	16777208
 12048 0678 C13E0000 		.word	16065
 12049              	.L712:
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 12050              		.loc 1 5336 33 discriminator 1 view .LVU3843
 12051 067c 0A20     		movs	r0, #10
 12052              	.LVL1500:
 12053              	.L665:
5749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12054              		.loc 1 5749 1 view .LVU3844
 12055 067e 0DB0     		add	sp, sp, #52
 12056              		@ sp needed
 12057 0680 F0BC     		pop	{r4, r5, r6, r7}
 12058 0682 BB46     		mov	fp, r7
 12059 0684 B246     		mov	r10, r6
ARM GAS  /tmp/ccVOuidm.s 			page 377


 12060 0686 A946     		mov	r9, r5
 12061 0688 A046     		mov	r8, r4
 12062 068a F0BD     		pop	{r4, r5, r6, r7, pc}
 12063              	.LVL1501:
 12064              	.L713:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 12065              		.loc 1 5344 72 discriminator 7 view .LVU3845
 12066 068c 1320     		movs	r0, #19
 12067 068e F6E7     		b	.L665
 12068              	.L714:
 12069 0690 1320     		movs	r0, #19
 12070 0692 F4E7     		b	.L665
 12071              	.L715:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 12072              		.loc 1 5344 72 discriminator 7 view .LVU3846
 12073 0694 1320     		movs	r0, #19
 12074 0696 F2E7     		b	.L665
 12075              	.LVL1502:
 12076              	.L716:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12077              		.loc 1 5351 23 discriminator 1 view .LVU3847
 12078 0698 0E20     		movs	r0, #14
 12079 069a F0E7     		b	.L665
 12080              	.LVL1503:
 12081              	.L717:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 12082              		.loc 1 5364 69 discriminator 1 view .LVU3848
 12083 069c 0120     		movs	r0, #1
 12084 069e EEE7     		b	.L665
 12085              	.LVL1504:
 12086              	.L719:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 12087              		.loc 1 5366 30 discriminator 1 view .LVU3849
 12088 06a0 0E20     		movs	r0, #14
 12089 06a2 ECE7     		b	.L665
 12090              	.LVL1505:
 12091              	.L720:
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12092              		.loc 1 5369 27 discriminator 1 view .LVU3850
 12093 06a4 0E20     		movs	r0, #14
 12094 06a6 EAE7     		b	.L665
 12095              	.L721:
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 12096              		.loc 1 5378 24 discriminator 1 view .LVU3851
 12097 06a8 1320     		movs	r0, #19
 12098 06aa E8E7     		b	.L665
 12099              	.L724:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 12100              		.loc 1 5384 31 discriminator 1 view .LVU3852
 12101 06ac 1320     		movs	r0, #19
 12102 06ae E6E7     		b	.L665
 12103              	.LVL1506:
 12104              	.L726:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 12105              		.loc 1 5564 59 discriminator 1 view .LVU3853
 12106 06b0 0E20     		movs	r0, #14
 12107              	.LVL1507:
ARM GAS  /tmp/ccVOuidm.s 			page 378


5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 12108              		.loc 1 5564 59 discriminator 1 view .LVU3854
 12109 06b2 E4E7     		b	.L665
 12110              	.LVL1508:
 12111              	.L728:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 12112              		.loc 1 5593 51 discriminator 1 view .LVU3855
 12113 06b4 0E20     		movs	r0, #14
 12114 06b6 E2E7     		b	.L665
 12115              	.LVL1509:
 12116              	.L729:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12117              		.loc 1 5598 13 view .LVU3856
 12118 06b8 0E20     		movs	r0, #14
 12119              	.LVL1510:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12120              		.loc 1 5598 13 view .LVU3857
 12121 06ba E0E7     		b	.L665
 12122              	.LVL1511:
 12123              	.L732:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12124              		.loc 1 5610 13 view .LVU3858
 12125 06bc 0E20     		movs	r0, #14
 12126              	.LVL1512:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12127              		.loc 1 5610 13 view .LVU3859
 12128 06be DEE7     		b	.L665
 12129              	.LVL1513:
 12130              	.L733:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12131              		.loc 1 5614 13 view .LVU3860
 12132 06c0 0E20     		movs	r0, #14
 12133              	.LVL1514:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12134              		.loc 1 5614 13 view .LVU3861
 12135 06c2 DCE7     		b	.L665
 12136              	.LVL1515:
 12137              	.L734:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12138              		.loc 1 5617 54 discriminator 2 view .LVU3862
 12139 06c4 0E20     		movs	r0, #14
 12140              	.LVL1516:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12141              		.loc 1 5617 54 discriminator 2 view .LVU3863
 12142 06c6 DAE7     		b	.L665
 12143              	.L736:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12144              		.loc 1 5661 57 discriminator 1 view .LVU3864
 12145 06c8 0120     		movs	r0, #1
 12146 06ca D8E7     		b	.L665
 12147              	.LVL1517:
 12148              	.L738:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12149              		.loc 1 5690 64 discriminator 1 view .LVU3865
 12150 06cc 0120     		movs	r0, #1
 12151 06ce D6E7     		b	.L665
 12152              	.LVL1518:
ARM GAS  /tmp/ccVOuidm.s 			page 379


 12153              	.L739:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12154              		.loc 1 5700 63 discriminator 1 view .LVU3866
 12155 06d0 0120     		movs	r0, #1
 12156 06d2 D4E7     		b	.L665
 12157              	.LVL1519:
 12158              	.L743:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12159              		.loc 1 5742 54 discriminator 1 view .LVU3867
 12160 06d4 0120     		movs	r0, #1
 12161 06d6 D2E7     		b	.L665
 12162              		.cfi_endproc
 12163              	.LFE547:
 12165              		.section	.text.f_gets,"ax",%progbits
 12166              		.align	1
 12167              		.global	f_gets
 12168              		.syntax unified
 12169              		.code	16
 12170              		.thumb_func
 12172              	f_gets:
 12173              	.LVL1520:
 12174              	.LFB548:
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12175              		.loc 1 5835 1 is_stmt 1 view -0
 12176              		.cfi_startproc
 12177              		@ args = 0, pretend = 0, frame = 16
 12178              		@ frame_needed = 0, uses_anonymous_args = 0
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12179              		.loc 1 5835 1 is_stmt 0 view .LVU3869
 12180 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 12181              	.LCFI84:
 12182              		.cfi_def_cfa_offset 20
 12183              		.cfi_offset 4, -20
 12184              		.cfi_offset 5, -16
 12185              		.cfi_offset 6, -12
 12186              		.cfi_offset 7, -8
 12187              		.cfi_offset 14, -4
 12188 0002 85B0     		sub	sp, sp, #20
 12189              	.LCFI85:
 12190              		.cfi_def_cfa_offset 40
 12191 0004 0190     		str	r0, [sp, #4]
 12192 0006 0F00     		movs	r7, r1
 12193 0008 1600     		movs	r6, r2
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12194              		.loc 1 5836 2 is_stmt 1 view .LVU3870
 12195              	.LVL1521:
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 12196              		.loc 1 5837 2 view .LVU3871
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 12197              		.loc 1 5838 2 view .LVU3872
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12198              		.loc 1 5839 2 view .LVU3873
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12199              		.loc 1 5842 2 view .LVU3874
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 12200              		.loc 1 5837 12 is_stmt 0 view .LVU3875
 12201 000a 0400     		movs	r4, r0
ARM GAS  /tmp/ccVOuidm.s 			page 380


5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12202              		.loc 1 5836 6 view .LVU3876
 12203 000c 0025     		movs	r5, #0
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12204              		.loc 1 5842 8 view .LVU3877
 12205 000e 01E0     		b	.L768
 12206              	.LVL1522:
 12207              	.L773:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12208              		.loc 1 5842 8 view .LVU3878
 12209 0010 2200     		movs	r2, r4
 12210              	.LVL1523:
 12211              	.L770:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12212              		.loc 1 5842 8 view .LVU3879
 12213 0012 1400     		movs	r4, r2
 12214              	.LVL1524:
 12215              	.L768:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12216              		.loc 1 5842 11 is_stmt 1 view .LVU3880
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12217              		.loc 1 5842 17 is_stmt 0 view .LVU3881
 12218 0014 7B1E     		subs	r3, r7, #1
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12219              		.loc 1 5842 11 view .LVU3882
 12220 0016 AB42     		cmp	r3, r5
 12221 0018 12DD     		ble	.L769
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 12222              		.loc 1 5887 3 is_stmt 1 view .LVU3883
 12223 001a 02AB     		add	r3, sp, #8
 12224 001c 0122     		movs	r2, #1
 12225 001e 03A9     		add	r1, sp, #12
 12226 0020 3000     		movs	r0, r6
 12227 0022 FFF7FEFF 		bl	f_read
 12228              	.LVL1525:
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12229              		.loc 1 5888 3 view .LVU3884
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12230              		.loc 1 5888 10 is_stmt 0 view .LVU3885
 12231 0026 029B     		ldr	r3, [sp, #8]
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12232              		.loc 1 5888 6 view .LVU3886
 12233 0028 012B     		cmp	r3, #1
 12234 002a 09D1     		bne	.L769
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 12235              		.loc 1 5889 3 is_stmt 1 view .LVU3887
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 12236              		.loc 1 5889 5 is_stmt 0 view .LVU3888
 12237 002c 03AB     		add	r3, sp, #12
 12238 002e 1B78     		ldrb	r3, [r3]
 12239              	.LVL1526:
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12240              		.loc 1 5891 3 is_stmt 1 view .LVU3889
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12241              		.loc 1 5891 6 is_stmt 0 view .LVU3890
 12242 0030 0D2B     		cmp	r3, #13
 12243 0032 EDD0     		beq	.L773
ARM GAS  /tmp/ccVOuidm.s 			page 381


5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12244              		.loc 1 5892 3 is_stmt 1 view .LVU3891
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12245              		.loc 1 5892 5 is_stmt 0 view .LVU3892
 12246 0034 621C     		adds	r2, r4, #1
 12247              	.LVL1527:
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12248              		.loc 1 5892 8 view .LVU3893
 12249 0036 2370     		strb	r3, [r4]
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12250              		.loc 1 5893 3 is_stmt 1 view .LVU3894
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12251              		.loc 1 5893 4 is_stmt 0 view .LVU3895
 12252 0038 0135     		adds	r5, r5, #1
 12253              	.LVL1528:
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12254              		.loc 1 5894 3 is_stmt 1 view .LVU3896
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12255              		.loc 1 5894 6 is_stmt 0 view .LVU3897
 12256 003a 0A2B     		cmp	r3, #10
 12257 003c E9D1     		bne	.L770
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12258              		.loc 1 5892 5 view .LVU3898
 12259 003e 1400     		movs	r4, r2
 12260              	.LVL1529:
 12261              	.L769:
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12262              		.loc 1 5896 2 is_stmt 1 view .LVU3899
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12263              		.loc 1 5896 5 is_stmt 0 view .LVU3900
 12264 0040 0023     		movs	r3, #0
 12265 0042 2370     		strb	r3, [r4]
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12266              		.loc 1 5897 2 is_stmt 1 view .LVU3901
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12267              		.loc 1 5897 18 is_stmt 0 view .LVU3902
 12268 0044 002D     		cmp	r5, #0
 12269 0046 02D0     		beq	.L775
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12270              		.loc 1 5897 18 discriminator 1 view .LVU3903
 12271 0048 0198     		ldr	r0, [sp, #4]
 12272              	.L767:
5898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12273              		.loc 1 5898 1 view .LVU3904
 12274 004a 05B0     		add	sp, sp, #20
 12275              		@ sp needed
 12276              	.LVL1530:
 12277              	.LVL1531:
 12278              	.LVL1532:
 12279              	.LVL1533:
5898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12280              		.loc 1 5898 1 view .LVU3905
 12281 004c F0BD     		pop	{r4, r5, r6, r7, pc}
 12282              	.LVL1534:
 12283              	.L775:
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12284              		.loc 1 5897 18 discriminator 2 view .LVU3906
ARM GAS  /tmp/ccVOuidm.s 			page 382


 12285 004e 0020     		movs	r0, #0
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12286              		.loc 1 5897 18 view .LVU3907
 12287 0050 FBE7     		b	.L767
 12288              		.cfi_endproc
 12289              	.LFE548:
 12291              		.section	.text.f_putc,"ax",%progbits
 12292              		.align	1
 12293              		.global	f_putc
 12294              		.syntax unified
 12295              		.code	16
 12296              		.thumb_func
 12298              	f_putc:
 12299              	.LVL1535:
 12300              	.LFB552:
5995:Middlewares/Third_Party/FatFs/src/ff.c **** 
5996:Middlewares/Third_Party/FatFs/src/ff.c **** 
5997:Middlewares/Third_Party/FatFs/src/ff.c **** 
5998:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
5999:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
6000:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
6001:Middlewares/Third_Party/FatFs/src/ff.c **** )
6002:Middlewares/Third_Party/FatFs/src/ff.c **** {
 12301              		.loc 1 6002 1 is_stmt 1 view -0
 12302              		.cfi_startproc
 12303              		@ args = 0, pretend = 0, frame = 80
 12304              		@ frame_needed = 0, uses_anonymous_args = 0
 12305              		.loc 1 6002 1 is_stmt 0 view .LVU3909
 12306 0000 30B5     		push	{r4, r5, lr}
 12307              	.LCFI86:
 12308              		.cfi_def_cfa_offset 12
 12309              		.cfi_offset 4, -12
 12310              		.cfi_offset 5, -8
 12311              		.cfi_offset 14, -4
 12312 0002 95B0     		sub	sp, sp, #84
 12313              	.LCFI87:
 12314              		.cfi_def_cfa_offset 96
 12315 0004 0500     		movs	r5, r0
6003:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 12316              		.loc 1 6003 2 is_stmt 1 view .LVU3910
6004:Middlewares/Third_Party/FatFs/src/ff.c **** 
6005:Middlewares/Third_Party/FatFs/src/ff.c **** 
6006:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12317              		.loc 1 6006 2 view .LVU3911
 12318 0006 01AC     		add	r4, sp, #4
 12319 0008 2000     		movs	r0, r4
 12320              	.LVL1536:
 12321              		.loc 1 6006 2 is_stmt 0 view .LVU3912
 12322 000a FFF7FEFF 		bl	putc_init
 12323              	.LVL1537:
6007:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put the character */
 12324              		.loc 1 6007 2 is_stmt 1 view .LVU3913
 12325 000e 2900     		movs	r1, r5
 12326 0010 2000     		movs	r0, r4
 12327 0012 FFF7FEFF 		bl	putc_bfd
 12328              	.LVL1538:
6008:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
ARM GAS  /tmp/ccVOuidm.s 			page 383


 12329              		.loc 1 6008 2 view .LVU3914
 12330              		.loc 1 6008 9 is_stmt 0 view .LVU3915
 12331 0016 2000     		movs	r0, r4
 12332 0018 FFF7FEFF 		bl	putc_flush
 12333              	.LVL1539:
6009:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12334              		.loc 1 6009 1 view .LVU3916
 12335 001c 15B0     		add	sp, sp, #84
 12336              		@ sp needed
 12337              	.LVL1540:
 12338              		.loc 1 6009 1 view .LVU3917
 12339 001e 30BD     		pop	{r4, r5, pc}
 12340              		.cfi_endproc
 12341              	.LFE552:
 12343              		.section	.text.f_puts,"ax",%progbits
 12344              		.align	1
 12345              		.global	f_puts
 12346              		.syntax unified
 12347              		.code	16
 12348              		.thumb_func
 12350              	f_puts:
 12351              	.LVL1541:
 12352              	.LFB553:
6010:Middlewares/Third_Party/FatFs/src/ff.c **** 
6011:Middlewares/Third_Party/FatFs/src/ff.c **** 
6012:Middlewares/Third_Party/FatFs/src/ff.c **** 
6013:Middlewares/Third_Party/FatFs/src/ff.c **** 
6014:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6015:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
6016:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6017:Middlewares/Third_Party/FatFs/src/ff.c **** 
6018:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
6019:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
6020:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
6021:Middlewares/Third_Party/FatFs/src/ff.c **** )
6022:Middlewares/Third_Party/FatFs/src/ff.c **** {
 12353              		.loc 1 6022 1 is_stmt 1 view -0
 12354              		.cfi_startproc
 12355              		@ args = 0, pretend = 0, frame = 80
 12356              		@ frame_needed = 0, uses_anonymous_args = 0
 12357              		.loc 1 6022 1 is_stmt 0 view .LVU3919
 12358 0000 10B5     		push	{r4, lr}
 12359              	.LCFI88:
 12360              		.cfi_def_cfa_offset 8
 12361              		.cfi_offset 4, -8
 12362              		.cfi_offset 14, -4
 12363 0002 94B0     		sub	sp, sp, #80
 12364              	.LCFI89:
 12365              		.cfi_def_cfa_offset 88
 12366 0004 0400     		movs	r4, r0
6023:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 12367              		.loc 1 6023 2 is_stmt 1 view .LVU3920
6024:Middlewares/Third_Party/FatFs/src/ff.c **** 
6025:Middlewares/Third_Party/FatFs/src/ff.c **** 
6026:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12368              		.loc 1 6026 2 view .LVU3921
 12369 0006 01A8     		add	r0, sp, #4
ARM GAS  /tmp/ccVOuidm.s 			page 384


 12370              	.LVL1542:
 12371              		.loc 1 6026 2 is_stmt 0 view .LVU3922
 12372 0008 FFF7FEFF 		bl	putc_init
 12373              	.LVL1543:
6027:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str) putc_bfd(&pb, *str++);		/* Put the string */
 12374              		.loc 1 6027 2 is_stmt 1 view .LVU3923
 12375              		.loc 1 6027 8 is_stmt 0 view .LVU3924
 12376 000c 03E0     		b	.L778
 12377              	.L779:
 12378              		.loc 1 6027 15 is_stmt 1 discriminator 2 view .LVU3925
 12379              		.loc 1 6027 33 is_stmt 0 discriminator 2 view .LVU3926
 12380 000e 0134     		adds	r4, r4, #1
 12381              	.LVL1544:
 12382              		.loc 1 6027 15 discriminator 2 view .LVU3927
 12383 0010 01A8     		add	r0, sp, #4
 12384 0012 FFF7FEFF 		bl	putc_bfd
 12385              	.LVL1545:
 12386              	.L778:
 12387              		.loc 1 6027 9 is_stmt 1 discriminator 1 view .LVU3928
 12388 0016 2178     		ldrb	r1, [r4]
 12389 0018 0029     		cmp	r1, #0
 12390 001a F8D1     		bne	.L779
6028:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12391              		.loc 1 6028 2 view .LVU3929
 12392              		.loc 1 6028 9 is_stmt 0 view .LVU3930
 12393 001c 01A8     		add	r0, sp, #4
 12394 001e FFF7FEFF 		bl	putc_flush
 12395              	.LVL1546:
6029:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12396              		.loc 1 6029 1 view .LVU3931
 12397 0022 14B0     		add	sp, sp, #80
 12398              		@ sp needed
 12399              	.LVL1547:
 12400              		.loc 1 6029 1 view .LVU3932
 12401 0024 10BD     		pop	{r4, pc}
 12402              		.cfi_endproc
 12403              	.LFE553:
 12405              		.section	.text.f_printf,"ax",%progbits
 12406              		.align	1
 12407              		.global	f_printf
 12408              		.syntax unified
 12409              		.code	16
 12410              		.thumb_func
 12412              	f_printf:
 12413              	.LVL1548:
 12414              	.LFB554:
6030:Middlewares/Third_Party/FatFs/src/ff.c **** 
6031:Middlewares/Third_Party/FatFs/src/ff.c **** 
6032:Middlewares/Third_Party/FatFs/src/ff.c **** 
6033:Middlewares/Third_Party/FatFs/src/ff.c **** 
6034:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6035:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
6036:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6037:Middlewares/Third_Party/FatFs/src/ff.c **** 
6038:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
6039:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
6040:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
ARM GAS  /tmp/ccVOuidm.s 			page 385


6041:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
6042:Middlewares/Third_Party/FatFs/src/ff.c **** )
6043:Middlewares/Third_Party/FatFs/src/ff.c **** {
 12415              		.loc 1 6043 1 is_stmt 1 view -0
 12416              		.cfi_startproc
 12417              		@ args = 4, pretend = 12, frame = 120
 12418              		@ frame_needed = 0, uses_anonymous_args = 1
 12419              		.loc 1 6043 1 is_stmt 0 view .LVU3934
 12420 0000 0EB4     		push	{r1, r2, r3}
 12421              	.LCFI90:
 12422              		.cfi_def_cfa_offset 12
 12423 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 12424              	.LCFI91:
 12425              		.cfi_def_cfa_offset 32
 12426              		.cfi_offset 4, -32
 12427              		.cfi_offset 5, -28
 12428              		.cfi_offset 6, -24
 12429              		.cfi_offset 7, -20
 12430              		.cfi_offset 14, -16
 12431 0004 DE46     		mov	lr, fp
 12432 0006 5746     		mov	r7, r10
 12433 0008 4E46     		mov	r6, r9
 12434 000a 4546     		mov	r5, r8
 12435 000c E0B5     		push	{r5, r6, r7, lr}
 12436              	.LCFI92:
 12437              		.cfi_def_cfa_offset 48
 12438              		.cfi_offset 8, -48
 12439              		.cfi_offset 9, -44
 12440              		.cfi_offset 10, -40
 12441              		.cfi_offset 11, -36
 12442 000e 9EB0     		sub	sp, sp, #120
 12443              	.LCFI93:
 12444              		.cfi_def_cfa_offset 168
 12445 0010 0100     		movs	r1, r0
 12446 0012 27AC     		add	r4, sp, #156
 12447 0014 08CC     		ldmia	r4!, {r3}
 12448 0016 9946     		mov	r9, r3
6044:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 12449              		.loc 1 6044 2 is_stmt 1 view .LVU3935
6045:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 12450              		.loc 1 6045 2 view .LVU3936
6046:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 12451              		.loc 1 6046 2 view .LVU3937
6047:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, w;
 12452              		.loc 1 6047 2 view .LVU3938
6048:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 12453              		.loc 1 6048 2 view .LVU3939
6049:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, str[32], *p;
 12454              		.loc 1 6049 2 view .LVU3940
6050:Middlewares/Third_Party/FatFs/src/ff.c **** 
6051:Middlewares/Third_Party/FatFs/src/ff.c **** 
6052:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12455              		.loc 1 6052 2 view .LVU3941
 12456 0018 0AA8     		add	r0, sp, #40
 12457              	.LVL1549:
 12458              		.loc 1 6052 2 is_stmt 0 view .LVU3942
 12459 001a FFF7FEFF 		bl	putc_init
ARM GAS  /tmp/ccVOuidm.s 			page 386


 12460              	.LVL1550:
6053:Middlewares/Third_Party/FatFs/src/ff.c **** 
6054:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 12461              		.loc 1 6054 2 is_stmt 1 view .LVU3943
 12462 001e 1D94     		str	r4, [sp, #116]
 12463 0020 8AE0     		b	.L781
 12464              	.LVL1551:
 12465              	.L783:
6055:Middlewares/Third_Party/FatFs/src/ff.c **** 
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6062:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 12466              		.loc 1 6063 3 view .LVU3944
6064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 12467              		.loc 1 6064 3 view .LVU3945
 12468              		.loc 1 6064 11 is_stmt 0 view .LVU3946
 12469 0022 9A1C     		adds	r2, r3, #2
 12470              	.LVL1552:
 12471              		.loc 1 6064 5 view .LVU3947
 12472 0024 2C78     		ldrb	r4, [r5]
 12473              	.LVL1553:
6065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 12474              		.loc 1 6065 3 is_stmt 1 view .LVU3948
 12475              		.loc 1 6065 6 is_stmt 0 view .LVU3949
 12476 0026 302C     		cmp	r4, #48
 12477 0028 05D0     		beq	.L835
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
6067:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
6068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 12478              		.loc 1 6068 4 is_stmt 1 view .LVU3950
 12479              		.loc 1 6068 7 is_stmt 0 view .LVU3951
 12480 002a 2D2C     		cmp	r4, #45
 12481 002c 08D0     		beq	.L836
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 12482              		.loc 1 6063 9 view .LVU3952
 12483 002e 0023     		movs	r3, #0
 12484 0030 9B46     		mov	fp, r3
 12485              	.LVL1554:
 12486              	.L786:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12487              		.loc 1 6066 6 view .LVU3953
 12488 0032 0025     		movs	r5, #0
 12489 0034 11E0     		b	.L787
 12490              	.LVL1555:
 12491              	.L835:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12492              		.loc 1 6066 4 is_stmt 1 view .LVU3954
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12493              		.loc 1 6066 11 view .LVU3955
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12494              		.loc 1 6066 19 is_stmt 0 view .LVU3956
 12495 0036 0132     		adds	r2, r2, #1
ARM GAS  /tmp/ccVOuidm.s 			page 387


 12496              	.LVL1556:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12497              		.loc 1 6066 13 view .LVU3957
 12498 0038 6C78     		ldrb	r4, [r5, #1]
 12499              	.LVL1557:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12500              		.loc 1 6066 6 view .LVU3958
 12501 003a 0123     		movs	r3, #1
 12502 003c 9B46     		mov	fp, r3
 12503 003e F8E7     		b	.L786
 12504              	.LVL1558:
 12505              	.L836:
6069:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 12506              		.loc 1 6069 5 is_stmt 1 view .LVU3959
 12507              		.loc 1 6069 12 view .LVU3960
 12508              		.loc 1 6069 20 is_stmt 0 view .LVU3961
 12509 0040 4A46     		mov	r2, r9
 12510              	.LVL1559:
 12511              		.loc 1 6069 20 view .LVU3962
 12512 0042 0332     		adds	r2, r2, #3
 12513              	.LVL1560:
 12514              		.loc 1 6069 14 view .LVU3963
 12515 0044 6C78     		ldrb	r4, [r5, #1]
 12516              	.LVL1561:
 12517              		.loc 1 6069 7 view .LVU3964
 12518 0046 0223     		movs	r3, #2
 12519 0048 9B46     		mov	fp, r3
 12520 004a F2E7     		b	.L786
 12521              	.LVL1562:
 12522              	.L788:
6070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
6073:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 12523              		.loc 1 6073 4 is_stmt 1 view .LVU3965
 12524              		.loc 1 6073 10 is_stmt 0 view .LVU3966
 12525 004c AB00     		lsls	r3, r5, #2
 12526 004e 5B19     		adds	r3, r3, r5
 12527 0050 5B00     		lsls	r3, r3, #1
 12528              		.loc 1 6073 15 view .LVU3967
 12529 0052 E518     		adds	r5, r4, r3
 12530              	.LVL1563:
 12531              		.loc 1 6073 6 view .LVU3968
 12532 0054 303D     		subs	r5, r5, #48
 12533              	.LVL1564:
6074:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 12534              		.loc 1 6074 4 is_stmt 1 view .LVU3969
 12535              		.loc 1 6074 6 is_stmt 0 view .LVU3970
 12536 0056 1478     		ldrb	r4, [r2]
 12537              	.LVL1565:
 12538              		.loc 1 6074 12 view .LVU3971
 12539 0058 0132     		adds	r2, r2, #1
 12540              	.LVL1566:
 12541              	.L787:
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 12542              		.loc 1 6072 10 is_stmt 1 view .LVU3972
 12543 005a 2300     		movs	r3, r4
ARM GAS  /tmp/ccVOuidm.s 			page 388


 12544 005c 303B     		subs	r3, r3, #48
 12545 005e DBB2     		uxtb	r3, r3
 12546 0060 092B     		cmp	r3, #9
 12547 0062 F3D9     		bls	.L788
6075:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6076:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 12548              		.loc 1 6076 3 view .LVU3973
 12549              		.loc 1 6076 6 is_stmt 0 view .LVU3974
 12550 0064 6C2C     		cmp	r4, #108
 12551 0066 03D0     		beq	.L789
 12552              		.loc 1 6076 16 discriminator 1 view .LVU3975
 12553 0068 4C2C     		cmp	r4, #76
 12554 006a 01D0     		beq	.L789
 12555 006c 9146     		mov	r9, r2
 12556 006e 07E0     		b	.L790
 12557              	.L789:
6077:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 12558              		.loc 1 6077 4 is_stmt 1 view .LVU3976
 12559              		.loc 1 6077 6 is_stmt 0 view .LVU3977
 12560 0070 0423     		movs	r3, #4
 12561 0072 5946     		mov	r1, fp
 12562 0074 1943     		orrs	r1, r3
 12563 0076 CBB2     		uxtb	r3, r1
 12564 0078 9B46     		mov	fp, r3
 12565              	.LVL1567:
 12566              		.loc 1 6077 12 is_stmt 1 view .LVU3978
 12567              		.loc 1 6077 20 is_stmt 0 view .LVU3979
 12568 007a 531C     		adds	r3, r2, #1
 12569 007c 9946     		mov	r9, r3
 12570              	.LVL1568:
 12571              		.loc 1 6077 14 view .LVU3980
 12572 007e 1478     		ldrb	r4, [r2]
 12573              	.LVL1569:
 12574              	.L790:
6078:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 12575              		.loc 1 6079 3 is_stmt 1 view .LVU3981
 12576              		.loc 1 6079 6 is_stmt 0 view .LVU3982
 12577 0080 002C     		cmp	r4, #0
 12578 0082 00D1     		bne	.LCB12299
 12579 0084 D3E0     		b	.L782	@long jump
 12580              	.LCB12299:
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 12581              		.loc 1 6080 3 is_stmt 1 view .LVU3983
 12582              	.LVL1570:
6081:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 12583              		.loc 1 6081 3 view .LVU3984
 12584              		.loc 1 6081 7 is_stmt 0 view .LVU3985
 12585 0086 2300     		movs	r3, r4
 12586 0088 613B     		subs	r3, r3, #97
 12587 008a DBB2     		uxtb	r3, r3
 12588              		.loc 1 6081 6 view .LVU3986
 12589 008c 192B     		cmp	r3, #25
 12590 008e 0BD8     		bhi	.L827
 12591              		.loc 1 6081 19 is_stmt 1 discriminator 1 view .LVU3987
 12592              		.loc 1 6081 21 is_stmt 0 discriminator 1 view .LVU3988
 12593 0090 2200     		movs	r2, r4
ARM GAS  /tmp/ccVOuidm.s 			page 389


 12594 0092 203A     		subs	r2, r2, #32
 12595 0094 D2B2     		uxtb	r2, r2
 12596              	.LVL1571:
 12597              	.L791:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 12598              		.loc 1 6082 3 is_stmt 1 view .LVU3989
 12599 0096 1300     		movs	r3, r2
 12600 0098 423B     		subs	r3, r3, #66
 12601 009a D9B2     		uxtb	r1, r3
 12602 009c 1629     		cmp	r1, #22
 12603 009e 47D8     		bhi	.L792
 12604 00a0 8B00     		lsls	r3, r1, #2
 12605 00a2 6949     		ldr	r1, .L840
 12606 00a4 CB58     		ldr	r3, [r1, r3]
 12607 00a6 9F46     		mov	pc, r3
 12608              		.section	.rodata.f_printf,"a",%progbits
 12609              		.align	2
 12610              	.L794:
 12611 0000 52010000 		.word	.L799
 12612 0004 FC000000 		.word	.L798
 12613 0008 0C010000 		.word	.L795
 12614 000c 30010000 		.word	.L792
 12615 0010 30010000 		.word	.L792
 12616 0014 30010000 		.word	.L792
 12617 0018 30010000 		.word	.L792
 12618 001c 30010000 		.word	.L792
 12619 0020 30010000 		.word	.L792
 12620 0024 30010000 		.word	.L792
 12621 0028 30010000 		.word	.L792
 12622 002c 30010000 		.word	.L792
 12623 0030 30010000 		.word	.L792
 12624 0034 58010000 		.word	.L828
 12625 0038 30010000 		.word	.L792
 12626 003c 30010000 		.word	.L792
 12627 0040 30010000 		.word	.L792
 12628 0044 AC000000 		.word	.L796
 12629 0048 30010000 		.word	.L792
 12630 004c 0C010000 		.word	.L795
 12631 0050 30010000 		.word	.L792
 12632 0054 30010000 		.word	.L792
 12633 0058 2A010000 		.word	.L793
 12634              		.section	.text.f_printf
 12635              	.LVL1572:
 12636              	.L827:
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 12637              		.loc 1 6080 5 is_stmt 0 view .LVU3990
 12638 00a8 2200     		movs	r2, r4
 12639 00aa F4E7     		b	.L791
 12640              	.LVL1573:
 12641              	.L796:
6083:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
6084:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 12642              		.loc 1 6084 4 is_stmt 1 view .LVU3991
 12643              		.loc 1 6084 6 is_stmt 0 view .LVU3992
 12644 00ac 1D9B     		ldr	r3, [sp, #116]
 12645 00ae 1A1D     		adds	r2, r3, #4
 12646              	.LVL1574:
ARM GAS  /tmp/ccVOuidm.s 			page 390


 12647              		.loc 1 6084 6 view .LVU3993
 12648 00b0 1D92     		str	r2, [sp, #116]
 12649 00b2 1E68     		ldr	r6, [r3]
6085:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 12650              		.loc 1 6085 4 is_stmt 1 view .LVU3994
 12651              	.LVL1575:
 12652              		.loc 1 6085 11 is_stmt 0 view .LVU3995
 12653 00b4 0024     		movs	r4, #0
 12654              	.LVL1576:
 12655              	.L800:
 12656              		.loc 1 6085 16 is_stmt 1 discriminator 1 view .LVU3996
 12657              		.loc 1 6085 17 is_stmt 0 discriminator 1 view .LVU3997
 12658 00b6 335D     		ldrb	r3, [r6, r4]
 12659              		.loc 1 6085 16 discriminator 1 view .LVU3998
 12660 00b8 002B     		cmp	r3, #0
 12661 00ba 01D0     		beq	.L837
 12662              		.loc 1 6085 23 is_stmt 1 discriminator 3 view .LVU3999
 12663 00bc 0134     		adds	r4, r4, #1
 12664              	.LVL1577:
 12665              		.loc 1 6085 23 is_stmt 0 discriminator 3 view .LVU4000
 12666 00be FAE7     		b	.L800
 12667              	.LVL1578:
 12668              	.L837:
6086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 12669              		.loc 1 6086 4 is_stmt 1 view .LVU4001
 12670              		.loc 1 6086 7 is_stmt 0 view .LVU4002
 12671 00c0 5B46     		mov	r3, fp
 12672 00c2 9B07     		lsls	r3, r3, #30
 12673 00c4 0CD5     		bpl	.L802
 12674              	.L805:
 12675              	.LVL1579:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
6088:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6089:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 12676              		.loc 1 6089 11 is_stmt 1 discriminator 1 view .LVU4003
 12677 00c6 3178     		ldrb	r1, [r6]
 12678 00c8 0029     		cmp	r1, #0
 12679 00ca 0ED0     		beq	.L807
 12680              		.loc 1 6089 15 discriminator 2 view .LVU4004
 12681              		.loc 1 6089 31 is_stmt 0 discriminator 2 view .LVU4005
 12682 00cc 0136     		adds	r6, r6, #1
 12683              	.LVL1580:
 12684              		.loc 1 6089 15 discriminator 2 view .LVU4006
 12685 00ce 0AA8     		add	r0, sp, #40
 12686 00d0 FFF7FEFF 		bl	putc_bfd
 12687              	.LVL1581:
 12688 00d4 F7E7     		b	.L805
 12689              	.LVL1582:
 12690              	.L804:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12691              		.loc 1 6087 21 is_stmt 1 discriminator 2 view .LVU4007
 12692 00d6 2021     		movs	r1, #32
 12693 00d8 0AA8     		add	r0, sp, #40
 12694 00da FFF7FEFF 		bl	putc_bfd
 12695              	.LVL1583:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12696              		.loc 1 6087 13 is_stmt 0 discriminator 1 view .LVU4008
ARM GAS  /tmp/ccVOuidm.s 			page 391


 12697 00de 3C00     		movs	r4, r7
 12698              	.LVL1584:
 12699              	.L802:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12700              		.loc 1 6087 16 is_stmt 1 discriminator 1 view .LVU4009
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12701              		.loc 1 6087 13 is_stmt 0 discriminator 1 view .LVU4010
 12702 00e0 671C     		adds	r7, r4, #1
 12703              	.LVL1585:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12704              		.loc 1 6087 16 discriminator 1 view .LVU4011
 12705 00e2 AC42     		cmp	r4, r5
 12706 00e4 F7D3     		bcc	.L804
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12707              		.loc 1 6087 13 discriminator 1 view .LVU4012
 12708 00e6 3C00     		movs	r4, r7
 12709 00e8 EDE7     		b	.L805
 12710              	.LVL1586:
 12711              	.L807:
6090:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 12712              		.loc 1 6090 15 is_stmt 1 discriminator 1 view .LVU4013
 12713              		.loc 1 6090 12 is_stmt 0 discriminator 1 view .LVU4014
 12714 00ea 661C     		adds	r6, r4, #1
 12715              	.LVL1587:
 12716              		.loc 1 6090 15 discriminator 1 view .LVU4015
 12717 00ec AC42     		cmp	r4, r5
 12718 00ee 23D2     		bcs	.L781
 12719              		.loc 1 6090 20 is_stmt 1 discriminator 2 view .LVU4016
 12720 00f0 2021     		movs	r1, #32
 12721 00f2 0AA8     		add	r0, sp, #40
 12722 00f4 FFF7FEFF 		bl	putc_bfd
 12723              	.LVL1588:
 12724              		.loc 1 6090 12 is_stmt 0 discriminator 1 view .LVU4017
 12725 00f8 3400     		movs	r4, r6
 12726 00fa F6E7     		b	.L807
 12727              	.LVL1589:
 12728              	.L798:
6091:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6092:Middlewares/Third_Party/FatFs/src/ff.c **** 
6093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
6094:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 12729              		.loc 1 6094 4 is_stmt 1 view .LVU4018
 12730              		.loc 1 6094 25 is_stmt 0 view .LVU4019
 12731 00fc 1D9B     		ldr	r3, [sp, #116]
 12732 00fe 1A1D     		adds	r2, r3, #4
 12733              	.LVL1590:
 12734              		.loc 1 6094 25 view .LVU4020
 12735 0100 1D92     		str	r2, [sp, #116]
 12736              		.loc 1 6094 4 discriminator 1 view .LVU4021
 12737 0102 1978     		ldrb	r1, [r3]
 12738 0104 0AA8     		add	r0, sp, #40
 12739 0106 FFF7FEFF 		bl	putc_bfd
 12740              	.LVL1591:
 12741              		.loc 1 6094 44 is_stmt 1 discriminator 2 view .LVU4022
 12742              		.loc 1 6094 44 is_stmt 0 view .LVU4023
 12743 010a 15E0     		b	.L781
 12744              	.LVL1592:
ARM GAS  /tmp/ccVOuidm.s 			page 392


 12745              	.L795:
6095:Middlewares/Third_Party/FatFs/src/ff.c **** 
6096:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
6097:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
6098:Middlewares/Third_Party/FatFs/src/ff.c **** 
6099:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
6101:Middlewares/Third_Party/FatFs/src/ff.c **** 
6102:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
6103:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
6104:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 12746              		.loc 1 6104 4 is_stmt 1 view .LVU4024
 12747              		.loc 1 6104 12 view .LVU4025
 12748              		.loc 1 6104 6 is_stmt 0 view .LVU4026
 12749 010c 0A23     		movs	r3, #10
 12750 010e 9846     		mov	r8, r3
 12751              	.LVL1593:
 12752              	.L797:
6105:Middlewares/Third_Party/FatFs/src/ff.c **** 
6106:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
6108:Middlewares/Third_Party/FatFs/src/ff.c **** 
6109:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
6111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6112:Middlewares/Third_Party/FatFs/src/ff.c **** 
6113:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 12753              		.loc 1 6114 3 is_stmt 1 view .LVU4027
 12754              		.loc 1 6114 42 is_stmt 0 view .LVU4028
 12755 0110 5B46     		mov	r3, fp
 12756 0112 5B07     		lsls	r3, r3, #29
 12757 0114 23D5     		bpl	.L809
 12758              		.loc 1 6114 24 discriminator 1 view .LVU4029
 12759 0116 1D9B     		ldr	r3, [sp, #116]
 12760 0118 191D     		adds	r1, r3, #4
 12761 011a 1D91     		str	r1, [sp, #116]
 12762 011c 1B68     		ldr	r3, [r3]
 12763 011e 1800     		movs	r0, r3
 12764              	.LVL1594:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12765              		.loc 1 6115 3 is_stmt 1 view .LVU4030
 12766              		.loc 1 6115 6 is_stmt 0 view .LVU4031
 12767 0120 442A     		cmp	r2, #68
 12768 0122 29D0     		beq	.L810
 12769              	.LVL1595:
 12770              	.L811:
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
6118:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6119:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 12771              		.loc 1 6119 3 is_stmt 1 view .LVU4032
 12772              		.loc 1 6119 5 is_stmt 0 view .LVU4033
 12773 0124 0023     		movs	r3, #0
 12774 0126 9A46     		mov	r10, r3
 12775 0128 40E0     		b	.L816
 12776              	.LVL1596:
ARM GAS  /tmp/ccVOuidm.s 			page 393


 12777              	.L793:
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12778              		.loc 1 6107 4 is_stmt 1 view .LVU4034
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12779              		.loc 1 6107 12 view .LVU4035
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12780              		.loc 1 6107 6 is_stmt 0 view .LVU4036
 12781 012a 1023     		movs	r3, #16
 12782 012c 9846     		mov	r8, r3
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12783              		.loc 1 6107 12 view .LVU4037
 12784 012e EFE7     		b	.L797
 12785              	.LVL1597:
 12786              	.L792:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12787              		.loc 1 6110 4 is_stmt 1 view .LVU4038
 12788 0130 2100     		movs	r1, r4
 12789 0132 0AA8     		add	r0, sp, #40
 12790 0134 FFF7FEFF 		bl	putc_bfd
 12791              	.LVL1598:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12792              		.loc 1 6110 22 discriminator 1 view .LVU4039
 12793              	.L781:
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 12794              		.loc 1 6056 2 view .LVU4040
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12795              		.loc 1 6057 3 view .LVU4041
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12796              		.loc 1 6057 11 is_stmt 0 view .LVU4042
 12797 0138 4B46     		mov	r3, r9
 12798 013a 5D1C     		adds	r5, r3, #1
 12799              	.LVL1599:
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12800              		.loc 1 6057 5 view .LVU4043
 12801 013c 1978     		ldrb	r1, [r3]
 12802              	.LVL1600:
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 12803              		.loc 1 6058 3 is_stmt 1 view .LVU4044
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 12804              		.loc 1 6058 6 is_stmt 0 view .LVU4045
 12805 013e 0029     		cmp	r1, #0
 12806 0140 75D0     		beq	.L782
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 12807              		.loc 1 6059 3 is_stmt 1 view .LVU4046
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 12808              		.loc 1 6059 6 is_stmt 0 view .LVU4047
 12809 0142 2529     		cmp	r1, #37
 12810 0144 00D1     		bne	.LCB12532
 12811 0146 6CE7     		b	.L783	@long jump
 12812              	.LCB12532:
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 12813              		.loc 1 6060 4 is_stmt 1 view .LVU4048
 12814 0148 0AA8     		add	r0, sp, #40
 12815 014a FFF7FEFF 		bl	putc_bfd
 12816              	.LVL1601:
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12817              		.loc 1 6061 4 view .LVU4049
ARM GAS  /tmp/ccVOuidm.s 			page 394


6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12818              		.loc 1 6057 11 is_stmt 0 view .LVU4050
 12819 014e A946     		mov	r9, r5
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12820              		.loc 1 6061 4 view .LVU4051
 12821 0150 F2E7     		b	.L781
 12822              	.LVL1602:
 12823              	.L799:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
 12824              		.loc 1 6082 3 view .LVU4052
 12825 0152 0223     		movs	r3, #2
 12826 0154 9846     		mov	r8, r3
 12827 0156 DBE7     		b	.L797
 12828              	.L828:
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12829              		.loc 1 6100 6 view .LVU4053
 12830 0158 0823     		movs	r3, #8
 12831 015a 9846     		mov	r8, r3
 12832 015c D8E7     		b	.L797
 12833              	.LVL1603:
 12834              	.L809:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12835              		.loc 1 6114 88 discriminator 2 view .LVU4054
 12836 015e 442A     		cmp	r2, #68
 12837 0160 05D0     		beq	.L838
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12838              		.loc 1 6114 88 discriminator 5 view .LVU4055
 12839 0162 1D9B     		ldr	r3, [sp, #116]
 12840 0164 1A1D     		adds	r2, r3, #4
 12841              	.LVL1604:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12842              		.loc 1 6114 88 discriminator 5 view .LVU4056
 12843 0166 1D92     		str	r2, [sp, #116]
 12844 0168 1B68     		ldr	r3, [r3]
 12845 016a 1800     		movs	r0, r3
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 12846              		.loc 1 6115 3 is_stmt 1 view .LVU4057
 12847 016c DAE7     		b	.L811
 12848              	.LVL1605:
 12849              	.L838:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12850              		.loc 1 6114 71 is_stmt 0 discriminator 4 view .LVU4058
 12851 016e 1D9B     		ldr	r3, [sp, #116]
 12852 0170 1A1D     		adds	r2, r3, #4
 12853              	.LVL1606:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12854              		.loc 1 6114 71 discriminator 4 view .LVU4059
 12855 0172 1D92     		str	r2, [sp, #116]
 12856 0174 1B68     		ldr	r3, [r3]
 12857 0176 1800     		movs	r0, r3
 12858              	.LVL1607:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 12859              		.loc 1 6115 3 is_stmt 1 view .LVU4060
 12860              	.L810:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 12861              		.loc 1 6115 16 is_stmt 0 discriminator 1 view .LVU4061
 12862 0178 0028     		cmp	r0, #0
ARM GAS  /tmp/ccVOuidm.s 			page 395


 12863 017a D3DA     		bge	.L811
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 12864              		.loc 1 6116 4 is_stmt 1 view .LVU4062
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 12865              		.loc 1 6116 6 is_stmt 0 view .LVU4063
 12866 017c 4342     		rsbs	r3, r0, #0
 12867 017e 1800     		movs	r0, r3
 12868              	.LVL1608:
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12869              		.loc 1 6117 4 is_stmt 1 view .LVU4064
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12870              		.loc 1 6117 6 is_stmt 0 view .LVU4065
 12871 0180 0823     		movs	r3, #8
 12872 0182 5A46     		mov	r2, fp
 12873 0184 1A43     		orrs	r2, r3
 12874 0186 D3B2     		uxtb	r3, r2
 12875 0188 9B46     		mov	fp, r3
 12876              	.LVL1609:
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12877              		.loc 1 6117 6 view .LVU4066
 12878 018a CBE7     		b	.L811
 12879              	.LVL1610:
 12880              	.L839:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12881              		.loc 1 6122 17 discriminator 2 view .LVU4067
 12882 018c 2723     		movs	r3, #39
 12883              	.L814:
 12884              		.loc 1 6122 17 discriminator 5 view .LVU4068
 12885 018e 9E19     		adds	r6, r3, r6
 12886              	.LVL1611:
 12887              		.loc 1 6122 17 discriminator 5 view .LVU4069
 12888 0190 F6B2     		uxtb	r6, r6
 12889              	.L813:
 12890              	.LVL1612:
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12891              		.loc 1 6123 4 is_stmt 1 view .LVU4070
 12892              		.loc 1 6123 9 is_stmt 0 view .LVU4071
 12893 0192 5346     		mov	r3, r10
 12894 0194 5F1C     		adds	r7, r3, #1
 12895              	.LVL1613:
 12896              		.loc 1 6123 17 view .LVU4072
 12897 0196 3036     		adds	r6, r6, #48
 12898              	.LVL1614:
 12899              		.loc 1 6123 13 view .LVU4073
 12900 0198 02AB     		add	r3, sp, #8
 12901 019a 5246     		mov	r2, r10
 12902 019c 9E54     		strb	r6, [r3, r2]
6124:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof str / sizeof str[0]);
 12903              		.loc 1 6124 14 is_stmt 1 view .LVU4074
 12904 019e 019B     		ldr	r3, [sp, #4]
 12905 01a0 009A     		ldr	r2, [sp]
 12906 01a2 9342     		cmp	r3, r2
 12907 01a4 14D8     		bhi	.L815
 12908              		.loc 1 6124 14 is_stmt 0 discriminator 1 view .LVU4075
 12909 01a6 1F2F     		cmp	r7, #31
ARM GAS  /tmp/ccVOuidm.s 			page 396


 12910 01a8 12D8     		bhi	.L815
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12911              		.loc 1 6123 9 view .LVU4076
 12912 01aa BA46     		mov	r10, r7
 12913              	.LVL1615:
 12914              	.L816:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12915              		.loc 1 6120 3 is_stmt 1 view .LVU4077
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12916              		.loc 1 6121 4 view .LVU4078
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12917              		.loc 1 6121 18 is_stmt 0 view .LVU4079
 12918 01ac 4346     		mov	r3, r8
 12919 01ae 0193     		str	r3, [sp, #4]
 12920 01b0 4146     		mov	r1, r8
 12921 01b2 0700     		movs	r7, r0
 12922 01b4 FFF7FEFF 		bl	__aeabi_uidivmod
 12923              	.LVL1616:
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12924              		.loc 1 6121 6 view .LVU4080
 12925 01b8 CEB2     		uxtb	r6, r1
 12926              	.LVL1617:
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12927              		.loc 1 6121 24 is_stmt 1 view .LVU4081
 12928 01ba 3800     		movs	r0, r7
 12929 01bc 0097     		str	r7, [sp]
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12930              		.loc 1 6121 26 is_stmt 0 view .LVU4082
 12931 01be 4146     		mov	r1, r8
 12932 01c0 FFF7FEFF 		bl	__aeabi_uidiv
 12933              	.LVL1618:
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12934              		.loc 1 6122 4 is_stmt 1 view .LVU4083
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12935              		.loc 1 6122 7 is_stmt 0 view .LVU4084
 12936 01c4 092E     		cmp	r6, #9
 12937 01c6 E4D9     		bls	.L813
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12938              		.loc 1 6122 15 is_stmt 1 discriminator 1 view .LVU4085
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12939              		.loc 1 6122 17 is_stmt 0 discriminator 1 view .LVU4086
 12940 01c8 782C     		cmp	r4, #120
 12941 01ca DFD0     		beq	.L839
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12942              		.loc 1 6122 17 discriminator 3 view .LVU4087
 12943 01cc 0723     		movs	r3, #7
 12944 01ce DEE7     		b	.L814
 12945              	.LVL1619:
 12946              	.L815:
6125:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) str[i++] = '-';
 12947              		.loc 1 6125 3 is_stmt 1 view .LVU4088
 12948              		.loc 1 6125 6 is_stmt 0 view .LVU4089
 12949 01d0 5B46     		mov	r3, fp
 12950 01d2 1B07     		lsls	r3, r3, #28
 12951 01d4 04D5     		bpl	.L817
 12952              		.loc 1 6125 14 is_stmt 1 discriminator 1 view .LVU4090
 12953              	.LVL1620:
ARM GAS  /tmp/ccVOuidm.s 			page 397


 12954              		.loc 1 6125 23 is_stmt 0 discriminator 1 view .LVU4091
 12955 01d6 02AB     		add	r3, sp, #8
 12956 01d8 2D22     		movs	r2, #45
 12957 01da DA55     		strb	r2, [r3, r7]
 12958              		.loc 1 6125 19 discriminator 1 view .LVU4092
 12959 01dc 5746     		mov	r7, r10
 12960 01de 0237     		adds	r7, r7, #2
 12961              	.LVL1621:
 12962              	.L817:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12963              		.loc 1 6126 3 is_stmt 1 view .LVU4093
 12964              		.loc 1 6126 10 view .LVU4094
 12965              		.loc 1 6126 12 is_stmt 0 view .LVU4095
 12966 01e0 5B46     		mov	r3, fp
 12967 01e2 DB07     		lsls	r3, r3, #31
 12968 01e4 02D5     		bpl	.L831
 12969              		.loc 1 6126 12 discriminator 1 view .LVU4096
 12970 01e6 3026     		movs	r6, #48
 12971              	.LVL1622:
 12972              	.L818:
6127:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 12973              		.loc 1 6127 3 is_stmt 1 view .LVU4097
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12974              		.loc 1 6126 5 is_stmt 0 view .LVU4098
 12975 01e8 3C00     		movs	r4, r7
 12976              	.LVL1623:
 12977              		.loc 1 6127 9 view .LVU4099
 12978 01ea 06E0     		b	.L819
 12979              	.LVL1624:
 12980              	.L831:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12981              		.loc 1 6126 12 discriminator 2 view .LVU4100
 12982 01ec 2026     		movs	r6, #32
 12983              	.LVL1625:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12984              		.loc 1 6126 12 discriminator 2 view .LVU4101
 12985 01ee FBE7     		b	.L818
 12986              	.LVL1626:
 12987              	.L821:
 12988              		.loc 1 6127 31 is_stmt 1 discriminator 3 view .LVU4102
 12989 01f0 3100     		movs	r1, r6
 12990 01f2 0AA8     		add	r0, sp, #40
 12991 01f4 FFF7FEFF 		bl	putc_bfd
 12992              	.LVL1627:
 12993              		.loc 1 6127 23 is_stmt 0 discriminator 2 view .LVU4103
 12994 01f8 4446     		mov	r4, r8
 12995              	.LVL1628:
 12996              	.L819:
 12997              		.loc 1 6127 19 is_stmt 1 discriminator 1 view .LVU4104
 12998 01fa 5B46     		mov	r3, fp
 12999 01fc 9B07     		lsls	r3, r3, #30
 13000 01fe 04D4     		bmi	.L822
 13001              		.loc 1 6127 23 is_stmt 0 discriminator 2 view .LVU4105
 13002 0200 631C     		adds	r3, r4, #1
 13003 0202 9846     		mov	r8, r3
 13004              	.LVL1629:
 13005              		.loc 1 6127 19 discriminator 2 view .LVU4106
ARM GAS  /tmp/ccVOuidm.s 			page 398


 13006 0204 AC42     		cmp	r4, r5
 13007 0206 F3D3     		bcc	.L821
 13008              		.loc 1 6127 23 discriminator 2 view .LVU4107
 13009 0208 1C00     		movs	r4, r3
 13010              	.LVL1630:
 13011              	.L822:
6128:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 13012              		.loc 1 6128 3 is_stmt 1 view .LVU4108
6129:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, str[--i]);
 13013              		.loc 1 6129 4 view .LVU4109
 13014 020a 013F     		subs	r7, r7, #1
 13015              	.LVL1631:
 13016              		.loc 1 6129 4 is_stmt 0 view .LVU4110
 13017 020c 02AB     		add	r3, sp, #8
 13018 020e D95D     		ldrb	r1, [r3, r7]
 13019 0210 0AA8     		add	r0, sp, #40
 13020 0212 FFF7FEFF 		bl	putc_bfd
 13021              	.LVL1632:
6130:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i);
 13022              		.loc 1 6130 12 is_stmt 1 discriminator 1 view .LVU4111
 13023 0216 002F     		cmp	r7, #0
 13024 0218 F7D1     		bne	.L822
 13025              		.loc 1 6130 12 is_stmt 0 discriminator 1 view .LVU4112
 13026 021a 04E0     		b	.L823
 13027              	.LVL1633:
 13028              	.L824:
6131:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 13029              		.loc 1 6131 19 is_stmt 1 discriminator 2 view .LVU4113
 13030 021c 3100     		movs	r1, r6
 13031 021e 0AA8     		add	r0, sp, #40
 13032 0220 FFF7FEFF 		bl	putc_bfd
 13033              	.LVL1634:
 13034              		.loc 1 6131 11 is_stmt 0 discriminator 1 view .LVU4114
 13035 0224 3C00     		movs	r4, r7
 13036              	.LVL1635:
 13037              	.L823:
 13038              		.loc 1 6131 14 is_stmt 1 discriminator 1 view .LVU4115
 13039              		.loc 1 6131 11 is_stmt 0 discriminator 1 view .LVU4116
 13040 0226 671C     		adds	r7, r4, #1
 13041              	.LVL1636:
 13042              		.loc 1 6131 14 discriminator 1 view .LVU4117
 13043 0228 AC42     		cmp	r4, r5
 13044 022a F7D3     		bcc	.L824
 13045 022c 84E7     		b	.L781
 13046              	.LVL1637:
 13047              	.L782:
6132:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
6133:Middlewares/Third_Party/FatFs/src/ff.c **** 
6134:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 13048              		.loc 1 6134 2 is_stmt 1 view .LVU4118
6135:Middlewares/Third_Party/FatFs/src/ff.c **** 
6136:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 13049              		.loc 1 6136 2 view .LVU4119
 13050              		.loc 1 6136 9 is_stmt 0 view .LVU4120
 13051 022e 0AA8     		add	r0, sp, #40
 13052 0230 FFF7FEFF 		bl	putc_flush
 13053              	.LVL1638:
ARM GAS  /tmp/ccVOuidm.s 			page 399


6137:Middlewares/Third_Party/FatFs/src/ff.c **** }
 13054              		.loc 1 6137 1 view .LVU4121
 13055 0234 1EB0     		add	sp, sp, #120
 13056              		@ sp needed
 13057 0236 F0BC     		pop	{r4, r5, r6, r7}
 13058 0238 BB46     		mov	fp, r7
 13059 023a B246     		mov	r10, r6
 13060 023c A946     		mov	r9, r5
 13061 023e A046     		mov	r8, r4
 13062 0240 F0BC     		pop	{r4, r5, r6, r7}
 13063 0242 08BC     		pop	{r3}
 13064 0244 03B0     		add	sp, sp, #12
 13065 0246 1847     		bx	r3
 13066              	.L841:
 13067              		.align	2
 13068              	.L840:
 13069 0248 00000000 		.word	.L794
 13070              		.cfi_endproc
 13071              	.LFE554:
 13073              		.section	.rodata.cst.0,"a"
 13074              		.align	2
 13077              	cst.0:
 13078 0000 0100     		.short	1
 13079 0002 0400     		.short	4
 13080 0004 1000     		.short	16
 13081 0006 4000     		.short	64
 13082 0008 0001     		.short	256
 13083 000a 0002     		.short	512
 13084 000c 0000     		.short	0
 13085              		.section	.rodata.cst32.1,"a"
 13086              		.align	2
 13089              	cst32.1:
 13090 0000 0100     		.short	1
 13091 0002 0200     		.short	2
 13092 0004 0400     		.short	4
 13093 0006 0800     		.short	8
 13094 0008 1000     		.short	16
 13095 000a 2000     		.short	32
 13096 000c 0000     		.short	0
 13097              		.section	.rodata.ExCvt,"a"
 13098              		.align	2
 13101              	ExCvt:
 13102 0000 43554541 		.ascii	"CUEAAAACEEEIIIAAE\222\222OOOUUYOUO\234O\236\237AIOU"
 13102      41414143 
 13102      45454549 
 13102      49494141 
 13102      4592924F 
 13103 0024 A5A5A6A7 		.ascii	"\245\245\246\247\250\251\252\253\254\255\256\257\260"
 13103      A8A9AAAB 
 13103      ACADAEAF 
 13103      B0
 13104 0031 B1B2B3B4 		.ascii	"\261\262\263\264AAA\270\271\272\273\274\275\276\277"
 13104      414141B8 
 13104      B9BABBBC 
 13104      BDBEBF
 13105 0040 C0C1C2C3 		.ascii	"\300\301\302\303\304\305AA\310\311\312\313\314\315\316"
 13105      C4C54141 
ARM GAS  /tmp/ccVOuidm.s 			page 400


 13105      C8C9CACB 
 13105      CCCDCE
 13106 004f CFD1D145 		.ascii	"\317\321\321EEEIIII\331\332\333\334\335I\337O\341OO"
 13106      45454949 
 13106      4949D9DA 
 13106      DBDCDD49 
 13106      DF4FE14F 
 13107 0064 4F4FE6E8 		.ascii	"OO\346\350\350UUUYY\356\357\360\361\362\363\364\365"
 13107      E8555555 
 13107      5959EEEF 
 13107      F0F1F2F3 
 13107      F4F5
 13108 0076 F6F7F8F9 		.ascii	"\366\367\370\371\372\373\374\375\376\377"
 13108      FAFBFCFD 
 13108      FEFF
 13109              		.section	.bss.Files,"aw",%nobits
 13110              		.align	2
 13113              	Files:
 13114 0000 00000000 		.space	32
 13114      00000000 
 13114      00000000 
 13114      00000000 
 13114      00000000 
 13115              		.section	.bss.Fsid,"aw",%nobits
 13116              		.align	1
 13119              	Fsid:
 13120 0000 0000     		.space	2
 13121              		.section	.bss.FatFs,"aw",%nobits
 13122              		.align	2
 13125              	FatFs:
 13126 0000 00000000 		.space	4
 13127              		.text
 13128              	.Letext0:
 13129              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 13130              		.file 3 "/usr/arm-none-eabi/include/machine/_default_types.h"
 13131              		.file 4 "/usr/arm-none-eabi/include/sys/_stdint.h"
 13132              		.file 5 "Middlewares/Third_Party/FatFs/src/ff.h"
 13133              		.file 6 "Middlewares/Third_Party/FatFs/src/diskio.h"
 13134              		.file 7 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_ll_dma.h"
 13135              		.file 8 "/usr/lib/gcc/arm-none-eabi/14.2.0/include/stdarg.h"
 13136              		.file 9 "<built-in>"
ARM GAS  /tmp/ccVOuidm.s 			page 401


DEFINED SYMBOLS
                            *ABS*:00000000 ff.c
     /tmp/ccVOuidm.s:19     .text.ld_word:00000000 $t
     /tmp/ccVOuidm.s:24     .text.ld_word:00000000 ld_word
     /tmp/ccVOuidm.s:55     .text.ld_dword:00000000 $t
     /tmp/ccVOuidm.s:60     .text.ld_dword:00000000 ld_dword
     /tmp/ccVOuidm.s:112    .text.st_word:00000000 $t
     /tmp/ccVOuidm.s:117    .text.st_word:00000000 st_word
     /tmp/ccVOuidm.s:142    .text.st_dword:00000000 $t
     /tmp/ccVOuidm.s:147    .text.st_dword:00000000 st_dword
     /tmp/ccVOuidm.s:187    .text.mem_cpy:00000000 $t
     /tmp/ccVOuidm.s:192    .text.mem_cpy:00000000 mem_cpy
     /tmp/ccVOuidm.s:239    .text.mem_set:00000000 $t
     /tmp/ccVOuidm.s:244    .text.mem_set:00000000 mem_set
     /tmp/ccVOuidm.s:271    .text.mem_cmp:00000000 $t
     /tmp/ccVOuidm.s:276    .text.mem_cmp:00000000 mem_cmp
     /tmp/ccVOuidm.s:326    .text.chk_chr:00000000 $t
     /tmp/ccVOuidm.s:331    .text.chk_chr:00000000 chk_chr
     /tmp/ccVOuidm.s:369    .text.chk_lock:00000000 $t
     /tmp/ccVOuidm.s:374    .text.chk_lock:00000000 chk_lock
     /tmp/ccVOuidm.s:519    .text.chk_lock:00000074 $d
     /tmp/ccVOuidm.s:13113  .bss.Files:00000000 Files
     /tmp/ccVOuidm.s:524    .text.enq_lock:00000000 $t
     /tmp/ccVOuidm.s:529    .text.enq_lock:00000000 enq_lock
     /tmp/ccVOuidm.s:574    .text.enq_lock:0000001c $d
     /tmp/ccVOuidm.s:579    .text.inc_lock:00000000 $t
     /tmp/ccVOuidm.s:584    .text.inc_lock:00000000 inc_lock
     /tmp/ccVOuidm.s:761    .text.inc_lock:000000a0 $d
     /tmp/ccVOuidm.s:766    .text.dec_lock:00000000 $t
     /tmp/ccVOuidm.s:771    .text.dec_lock:00000000 dec_lock
     /tmp/ccVOuidm.s:862    .text.dec_lock:00000044 $d
     /tmp/ccVOuidm.s:867    .text.clear_lock:00000000 $t
     /tmp/ccVOuidm.s:872    .text.clear_lock:00000000 clear_lock
     /tmp/ccVOuidm.s:923    .text.clear_lock:00000020 $d
     /tmp/ccVOuidm.s:928    .text.clust2sect:00000000 $t
     /tmp/ccVOuidm.s:933    .text.clust2sect:00000000 clust2sect
     /tmp/ccVOuidm.s:979    .text.clmt_clust:00000000 $t
     /tmp/ccVOuidm.s:984    .text.clmt_clust:00000000 clmt_clust
     /tmp/ccVOuidm.s:1062   .text.ld_clust:00000000 $t
     /tmp/ccVOuidm.s:1067   .text.ld_clust:00000000 ld_clust
     /tmp/ccVOuidm.s:1131   .text.st_clust:00000000 $t
     /tmp/ccVOuidm.s:1136   .text.st_clust:00000000 st_clust
     /tmp/ccVOuidm.s:1192   .text.get_fileinfo:00000000 $t
     /tmp/ccVOuidm.s:1197   .text.get_fileinfo:00000000 get_fileinfo
     /tmp/ccVOuidm.s:1347   .rodata.create_name.str1.4:00000000 $d
     /tmp/ccVOuidm.s:1351   .text.create_name:00000000 $t
     /tmp/ccVOuidm.s:1356   .text.create_name:00000000 create_name
     /tmp/ccVOuidm.s:1638   .text.create_name:000000e0 $d
     /tmp/ccVOuidm.s:13101  .rodata.ExCvt:00000000 ExCvt
     /tmp/ccVOuidm.s:1644   .text.get_ldnumber:00000000 $t
     /tmp/ccVOuidm.s:1649   .text.get_ldnumber:00000000 get_ldnumber
     /tmp/ccVOuidm.s:1772   .text.putc_init:00000000 $t
     /tmp/ccVOuidm.s:1777   .text.putc_init:00000000 putc_init
     /tmp/ccVOuidm.s:1801   .text.validate:00000000 $t
     /tmp/ccVOuidm.s:1806   .text.validate:00000000 validate
     /tmp/ccVOuidm.s:1925   .text.sync_window:00000000 $t
     /tmp/ccVOuidm.s:1930   .text.sync_window:00000000 sync_window
ARM GAS  /tmp/ccVOuidm.s 			page 402


     /tmp/ccVOuidm.s:2049   .text.move_window:00000000 $t
     /tmp/ccVOuidm.s:2054   .text.move_window:00000000 move_window
     /tmp/ccVOuidm.s:2137   .text.check_fs:00000000 $t
     /tmp/ccVOuidm.s:2142   .text.check_fs:00000000 check_fs
     /tmp/ccVOuidm.s:2246   .text.check_fs:00000068 $d
     /tmp/ccVOuidm.s:2256   .text.find_volume:00000000 $t
     /tmp/ccVOuidm.s:2261   .text.find_volume:00000000 find_volume
     /tmp/ccVOuidm.s:3072   .text.find_volume:0000031c $d
     /tmp/ccVOuidm.s:13125  .bss.FatFs:00000000 FatFs
     /tmp/ccVOuidm.s:13119  .bss.Fsid:00000000 Fsid
     /tmp/ccVOuidm.s:3085   .text.put_fat:00000000 $t
     /tmp/ccVOuidm.s:3090   .text.put_fat:00000000 put_fat
     /tmp/ccVOuidm.s:3418   .text.get_fat:00000000 $t
     /tmp/ccVOuidm.s:3423   .text.get_fat:00000000 get_fat
     /tmp/ccVOuidm.s:3673   .text.dir_sdi:00000000 $t
     /tmp/ccVOuidm.s:3678   .text.dir_sdi:00000000 dir_sdi
     /tmp/ccVOuidm.s:3905   .text.create_chain:00000000 $t
     /tmp/ccVOuidm.s:3910   .text.create_chain:00000000 create_chain
     /tmp/ccVOuidm.s:4154   .text.remove_chain:00000000 $t
     /tmp/ccVOuidm.s:4159   .text.remove_chain:00000000 remove_chain
     /tmp/ccVOuidm.s:4324   .text.dir_remove:00000000 $t
     /tmp/ccVOuidm.s:4329   .text.dir_remove:00000000 dir_remove
     /tmp/ccVOuidm.s:4384   .text.dir_next:00000000 $t
     /tmp/ccVOuidm.s:4389   .text.dir_next:00000000 dir_next
     /tmp/ccVOuidm.s:4734   .text.dir_find:00000000 $t
     /tmp/ccVOuidm.s:4739   .text.dir_find:00000000 dir_find
     /tmp/ccVOuidm.s:4855   .text.follow_path:00000000 $t
     /tmp/ccVOuidm.s:4860   .text.follow_path:00000000 follow_path
     /tmp/ccVOuidm.s:5031   .text.dir_alloc:00000000 $t
     /tmp/ccVOuidm.s:5036   .text.dir_alloc:00000000 dir_alloc
     /tmp/ccVOuidm.s:5153   .text.dir_register:00000000 $t
     /tmp/ccVOuidm.s:5158   .text.dir_register:00000000 dir_register
     /tmp/ccVOuidm.s:5244   .text.dir_read:00000000 $t
     /tmp/ccVOuidm.s:5249   .text.dir_read:00000000 dir_read
     /tmp/ccVOuidm.s:5382   .text.sync_fs:00000000 $t
     /tmp/ccVOuidm.s:5387   .text.sync_fs:00000000 sync_fs
     /tmp/ccVOuidm.s:5517   .text.sync_fs:00000088 $d
     /tmp/ccVOuidm.s:5525   .text.f_mount:00000000 $t
     /tmp/ccVOuidm.s:5531   .text.f_mount:00000000 f_mount
     /tmp/ccVOuidm.s:5654   .text.f_mount:00000060 $d
     /tmp/ccVOuidm.s:5659   .text.f_open:00000000 $t
     /tmp/ccVOuidm.s:5665   .text.f_open:00000000 f_open
     /tmp/ccVOuidm.s:6285   .text.f_read:00000000 $t
     /tmp/ccVOuidm.s:6291   .text.f_read:00000000 f_read
     /tmp/ccVOuidm.s:6782   .text.f_write:00000000 $t
     /tmp/ccVOuidm.s:6788   .text.f_write:00000000 f_write
     /tmp/ccVOuidm.s:7341   .text.putc_bfd:00000000 $t
     /tmp/ccVOuidm.s:7346   .text.putc_bfd:00000000 putc_bfd
     /tmp/ccVOuidm.s:7458   .text.putc_flush:00000000 $t
     /tmp/ccVOuidm.s:7463   .text.putc_flush:00000000 putc_flush
     /tmp/ccVOuidm.s:7537   .text.f_sync:00000000 $t
     /tmp/ccVOuidm.s:7543   .text.f_sync:00000000 f_sync
     /tmp/ccVOuidm.s:7711   .text.f_close:00000000 $t
     /tmp/ccVOuidm.s:7717   .text.f_close:00000000 f_close
     /tmp/ccVOuidm.s:7787   .text.f_lseek:00000000 $t
     /tmp/ccVOuidm.s:7793   .text.f_lseek:00000000 f_lseek
     /tmp/ccVOuidm.s:8594   .text.f_opendir:00000000 $t
ARM GAS  /tmp/ccVOuidm.s 			page 403


     /tmp/ccVOuidm.s:8600   .text.f_opendir:00000000 f_opendir
     /tmp/ccVOuidm.s:8785   .text.f_closedir:00000000 $t
     /tmp/ccVOuidm.s:8791   .text.f_closedir:00000000 f_closedir
     /tmp/ccVOuidm.s:8858   .text.f_readdir:00000000 $t
     /tmp/ccVOuidm.s:8864   .text.f_readdir:00000000 f_readdir
     /tmp/ccVOuidm.s:8972   .text.f_stat:00000000 $t
     /tmp/ccVOuidm.s:8978   .text.f_stat:00000000 f_stat
     /tmp/ccVOuidm.s:9073   .text.f_getfree:00000000 $t
     /tmp/ccVOuidm.s:9079   .text.f_getfree:00000000 f_getfree
     /tmp/ccVOuidm.s:9395   .text.f_truncate:00000000 $t
     /tmp/ccVOuidm.s:9401   .text.f_truncate:00000000 f_truncate
     /tmp/ccVOuidm.s:9594   .text.f_unlink:00000000 $t
     /tmp/ccVOuidm.s:9600   .text.f_unlink:00000000 f_unlink
     /tmp/ccVOuidm.s:9825   .text.f_mkdir:00000000 $t
     /tmp/ccVOuidm.s:9831   .text.f_mkdir:00000000 f_mkdir
     /tmp/ccVOuidm.s:10230  .text.f_rename:00000000 $t
     /tmp/ccVOuidm.s:10236  .text.f_rename:00000000 f_rename
     /tmp/ccVOuidm.s:10551  .rodata.f_mkfs.str1.4:00000000 $d
     /tmp/ccVOuidm.s:10561  .text.f_mkfs:00000000 $t
     /tmp/ccVOuidm.s:10567  .text.f_mkfs:00000000 f_mkfs
     /tmp/ccVOuidm.s:11302  .text.f_mkfs:000002b0 $d
     /tmp/ccVOuidm.s:13089  .rodata.cst32.1:00000000 cst32.1
     /tmp/ccVOuidm.s:13077  .rodata.cst.0:00000000 cst.0
     /tmp/ccVOuidm.s:11314  .text.f_mkfs:000002d4 $t
     /tmp/ccVOuidm.s:12039  .text.f_mkfs:00000654 $d
     /tmp/ccVOuidm.s:12051  .text.f_mkfs:0000067c $t
     /tmp/ccVOuidm.s:12166  .text.f_gets:00000000 $t
     /tmp/ccVOuidm.s:12172  .text.f_gets:00000000 f_gets
     /tmp/ccVOuidm.s:12292  .text.f_putc:00000000 $t
     /tmp/ccVOuidm.s:12298  .text.f_putc:00000000 f_putc
     /tmp/ccVOuidm.s:12344  .text.f_puts:00000000 $t
     /tmp/ccVOuidm.s:12350  .text.f_puts:00000000 f_puts
     /tmp/ccVOuidm.s:12406  .text.f_printf:00000000 $t
     /tmp/ccVOuidm.s:12412  .text.f_printf:00000000 f_printf
     /tmp/ccVOuidm.s:12609  .rodata.f_printf:00000000 $d
     /tmp/ccVOuidm.s:13069  .text.f_printf:00000248 $d
     /tmp/ccVOuidm.s:13074  .rodata.cst.0:00000000 $d
     /tmp/ccVOuidm.s:13086  .rodata.cst32.1:00000000 $d
     /tmp/ccVOuidm.s:13098  .rodata.ExCvt:00000000 $d
     /tmp/ccVOuidm.s:13110  .bss.Files:00000000 $d
     /tmp/ccVOuidm.s:13116  .bss.Fsid:00000000 $d
     /tmp/ccVOuidm.s:13122  .bss.FatFs:00000000 $d

UNDEFINED SYMBOLS
__aeabi_uidiv
disk_status
disk_write
disk_read
disk_initialize
disk_ioctl
get_fattime
__aeabi_uidivmod
